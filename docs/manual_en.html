<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="description" content="ZXTRES Manual (Hiberno-English)">
<meta name="keywords" content="Manual, English, ZXTRES, ZXTRES+, ZXTRES++">
<meta name="author" content="EN">
<title>ZXTRES, ZXTRES+ and ZXTRES++ Manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
<!-- Generate a nice TOC -->
<!--
<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js"></script>
-->
<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/jquery-ui.min.js"></script>
<script src="js/jquery.tocify.min.js"></script>
<!-- We do not need the tocify CSS because the asciidoc CSS already provides most of what we neeed -->

<style>
    .tocify-header {
        font-style: italic;
    }

    .tocify-subheader {
        font-style: normal;
        font-size: 90%;
    }

    .tocify ul {
        margin: 0;
    }

    .tocify-focus {
        color: #7a2518;
        background-color: rgba(0, 0, 0, 0.1);
    }

    .tocify-focus>a {
        color: #7a2518;
    }
</style>

<script type="text/javascript">
    $(function () {
        // Add a new container for the tocify toc into the existing toc so we can re-use its
        // styling
        $("#toc").append("<div id='generated-toc'></div>");
        $("#generated-toc").tocify({
            extendPage: true,
            context: "#content",
            highlightOnScroll: true,
            hideEffect: "slideUp",
            // Use the IDs that asciidoc already provides so that TOC links and intra-document
            // links are the same. Anything else might confuse users when they create bookmarks.
            hashGenerator: function (text, element) {
                return $(element).attr("id");
            },
            // Smooth scrolling doesn't work properly if we use the asciidoc IDs
            smoothScroll: false,
            // Set to 'none' to use the tocify classes
            theme: "none",
            // Handle book (may contain h1) and article (only h2 deeper)
            selectors: $("#content").has("h1").size() > 0 ? "h1,h2,h3,h4,h5" : "h2,h3,h4,h5",
            ignoreSelector: ".discrete"
        });

        // Switch between static asciidoc toc and dynamic tocify toc based on browser size
        // This is set to match the media selectors in the asciidoc CSS
        // Without this, we keep the dynamic toc even if it is moved from the side to preamble
        // position which will cause odd scrolling behavior
        var handleTocOnResize = function () {
            if ($(document).width() < 768) {
                $("#generated-toc").hide();
                $(".sectlevel0").show();
                $(".sectlevel1").show();
            }
            else {
                $("#generated-toc").show();
                $(".sectlevel0").hide();
                $(".sectlevel1").hide();
            }
        }

        $(window).resize(handleTocOnResize);
        handleTocOnResize();
    });
</script>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>ZXTRES, ZXTRES+ and ZXTRES++ Manual</h1>
<div class="details">
<span id="author" class="author">EN</span><br>
<span id="email" class="email">2023-10-12</span><br>
<span id="revnumber">version 1.0.0b</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Index</div>
<ul class="sectlevel1">
<li><a href="#_introduction">Introduction</a>
<ul class="sectlevel2">
<li><a href="#_acknowledgements">Acknowledgements</a></li>
<li><a href="#_ports_and_connectors">Ports and connectors</a></li>
<li><a href="#_initial_setup">Initial setup</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_formatting">microSD card formatting</a>
<ul class="sectlevel4">
<li><a href="#_windows">Windows</a></li>
<li><a href="#_macos">macOS</a></li>
<li><a href="#_linux">Linux</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_keyboard">Keyboard</a>
<ul class="sectlevel3">
<li><a href="#_ps2_keyboard">PS/2 keyboard</a></li>
<li><a href="#_english">English</a></li>
<li><a href="#_spanish">Spanish</a></li>
<li><a href="#_spectrum">Spectrum</a></li>
<li><a href="#_special_keys_and_buttons">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_esxdos">esxDOS</a></li>
<li><a href="#_bios">BIOS</a>
<ul class="sectlevel3">
<li><a href="#_main">Main</a></li>
<li><a href="#_roms">ROMs</a></li>
<li><a href="#_upgrade">Upgrade</a></li>
<li><a href="#_boot">Boot</a></li>
<li><a href="#_advanced">Advanced</a></li>
<li><a href="#_exit">Exit</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_zx_spectrum">ZX Spectrum</a>
<ul class="sectlevel2">
<li><a href="#_roms_2">ROMs</a>
<ul class="sectlevel3">
<li><a href="#_derbypro">DerbyPro</a></li>
<li><a href="#_cargandoleches">CargandoLeches</a>
<ul class="sectlevel4">
<li><a href="#_pokes">POKEs</a></li>
<li><a href="#_preparing_ultrafast_loading_tapes">Preparing ultrafast loading tapes</a></li>
</ul>
</li>
<li><a href="#_se_basic_iv">SE Basic IV</a></li>
<li><a href="#_other_roms">Other ROMs</a></li>
</ul>
</li>
<li><a href="#_microsd_advanced_format_3e">microSD advanced format (+3e)</a>
<ul class="sectlevel3">
<li><a href="#_windows_2">Windows</a></li>
<li><a href="#_macos_2">macOS</a></li>
<li><a href="#_linux_2">Linux</a></li>
<li><a href="#_3e">+3e</a></li>
</ul>
</li>
<li><a href="#_esxdos_commands">esxDOS commands</a>
<ul class="sectlevel3">
<li><a href="#_overview">Overview</a></li>
<li><a href="#_zxtres_commands">ZXTRES Commands</a></li>
</ul>
</li>
<li><a href="#_wi_fi">Wi-Fi</a>
<ul class="sectlevel3">
<li><a href="#_network_tools_for_zx_uno_pack">Network tools for ZX-Uno pack</a></li>
<li><a href="#_ftp_uno">FTP-Uno</a></li>
<li><a href="#_uart_terminal">UART Terminal</a></li>
</ul>
</li>
<li><a href="#_midi">MIDI</a>
<ul class="sectlevel3">
<li><a href="#_bob_fossil_nmi_browser">Bob Fossil NMI Browser</a></li>
<li><a href="#_zx_midi_player">ZX MIDI player</a></li>
</ul>
</li>
<li><a href="#_rtc">RTC</a></li>
<li><a href="#_creating_radastanian_movie_files">Creating RaDastanian movie files</a></li>
</ul>
</li>
<li><a href="#_upgrade_2">Upgrade</a>
<ul class="sectlevel2">
<li><a href="#_bios_2">BIOS</a></li>
<li><a href="#_roms_3">ROMs</a></li>
<li><a href="#_cores">Cores</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card">microSD card</a>
<ul class="sectlevel4">
<li><a href="#_loading_from_the_zx_spectrum_core">Loading from the ZX Spectrum core</a></li>
</ul>
</li>
<li><a href="#_spi_flash_memory">SPI Flash Memory</a></li>
</ul>
</li>
<li><a href="#_esxdos_2">esxDOS</a></li>
<li><a href="#_flash_memory">Flash Memory</a></li>
</ul>
</li>
<li><a href="#_other_cores">Other cores</a>
<ul class="sectlevel2">
<li><a href="#_amiga_minimig_aga">Amiga minimig AGA</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format">microSD card format</a></li>
<li><a href="#_keyboard_2">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_2">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_2">Overview</a></li>
</ul>
</li>
<li><a href="#_amstrad_cpc_464">Amstrad CPC 464</a>
<ul class="sectlevel3">
<li><a href="#_sd_card_format">SD card format</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_3">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_3">Overview</a></li>
</ul>
</li>
<li><a href="#_arcade_capcom_play_system_1">Arcade (Capcom Play System 1)</a>
<ul class="sectlevel3">
<li><a href="#_sd_card_format_2">SD card format</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_4">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_4">Overview</a></li>
</ul>
</li>
<li><a href="#_arcade_double_dragon">Arcade (Double Dragon)</a>
<ul class="sectlevel3">
<li><a href="#_sd_card_format_3">SD card format</a></li>
<li><a href="#_keyboard_3">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_5">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_5">Overview</a></li>
</ul>
</li>
<li><a href="#_arcade_kicker">Arcade (Kicker)</a>
<ul class="sectlevel3">
<li><a href="#_sd_card_format_4">SD card format</a></li>
<li><a href="#_keyboard_4">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_6">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_6">Overview</a></li>
</ul>
</li>
<li><a href="#_arcade_pang">Arcade (Pang)</a>
<ul class="sectlevel3">
<li><a href="#_sd_card_format_5">SD card format</a></li>
<li><a href="#_keyboard_5">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_7">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_7">Overview</a></li>
</ul>
</li>
<li><a href="#_atari_2600">Atari 2600</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_2">microSD card format</a></li>
<li><a href="#_keyboard_6">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_8">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_8">Overview</a></li>
</ul>
</li>
<li><a href="#_colecovision">ColecoVision</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_3">microSD card format</a></li>
<li><a href="#_keyboard_7">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_9">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_9">Overview</a></li>
</ul>
</li>
<li><a href="#_elan_enterprise">Elan Enterprise</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_4">microSD card format</a></li>
<li><a href="#_keyboard_8">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_10">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_10">Overview</a></li>
</ul>
</li>
<li><a href="#_jupiter_ace">Jupiter ACE</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_5">microSD card format</a></li>
<li><a href="#_keyboard_9">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_11">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_11">Overview</a></li>
</ul>
</li>
<li><a href="#_neo_geo">Neo-Geo</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_6">microSD card format</a></li>
<li><a href="#_keyboard_10">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_12">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_12">Overview</a></li>
</ul>
</li>
<li><a href="#_pc_xt">PC XT</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_7">microSD Card Format</a></li>
<li><a href="#_keyboard_11">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_13">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_13">Overview</a></li>
</ul>
</li>
<li><a href="#_test_dp">Test DP</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_8">microSD card format</a></li>
<li><a href="#_keyboard_12">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_14">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_14">Overview</a></li>
</ul>
</li>
<li><a href="#_zx81">ZX81</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_9">microSD card format</a></li>
<li><a href="#_keyboard_13">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_15">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_15">Overview</a></li>
</ul>
</li>
<li><a href="#_zx_spectrum_3_zxp3">ZX Spectrum +3 (zxp3)</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_10">microSD Card Format</a></li>
<li><a href="#_keyboard_14">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_16">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_16">Overview</a></li>
</ul>
</li>
<li><a href="#_zx_spectrum_next">ZX Spectrum Next</a>
<ul class="sectlevel3">
<li><a href="#_microsd_card_format_11">microSD card format</a></li>
<li><a href="#_keyboard_15">Keyboard</a>
<ul class="sectlevel4">
<li><a href="#_special_keys_and_buttons_17">Special keys and buttons</a></li>
</ul>
</li>
<li><a href="#_overview_17">Overview</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_other_hardware">Other hardware</a>
<ul class="sectlevel2">
<li><a href="#_middle_board">Middle Board</a>
<ul class="sectlevel3">
<li><a href="#_recovery_via_usb">Recovery via USB</a></li>
</ul>
</li>
<li><a href="#_loading_from_tape">Loading from tape</a>
<ul class="sectlevel3">
<li><a href="#_cassette_tape_player">Cassette tape player</a></li>
<li><a href="#_computer">Computer</a>
<ul class="sectlevel4">
<li><a href="#_playtzx">PlayTZX</a></li>
</ul>
</li>
<li><a href="#_mobile_phone_tablet_mp3_player_and_so_on">Mobile phone tablet MP3 player and so on</a>
<ul class="sectlevel4">
<li><a href="#_audio_file_conversion">Audio file conversion</a></li>
</ul>
</li>
<li><a href="#_miniduino">Miniduino</a>
<ul class="sectlevel4">
<li><a href="#_ports_and_buttons">Ports and buttons</a></li>
<li><a href="#_configuration">Configuration</a></li>
<li><a href="#_use">Use</a></li>
<li><a href="#_making_tzx_or_tsx_files_from_other_formats">Making TZX or TSX files from other formats</a></li>
<li><a href="#_maxduino_firmware_upgrade">Maxduino firmware upgrade</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_troubleshooting">Troubleshooting</a>
<ul class="sectlevel2">
<li><a href="#_firmware_image_management">Firmware image management</a>
<ul class="sectlevel3">
<li><a href="#_zx123_tool">zx123_tool</a></li>
</ul>
</li>
<li><a href="#_firmware_recovery">Firmware recovery</a>
<ul class="sectlevel3">
<li><a href="#_jtag_cable_connections">JTAG cable connections</a></li>
<li><a href="#_recovery_using_a_linux_or_macos">Recovery using a Linux or macOS</a></li>
<li><a href="#_recovery_using_a_raspberry_pi">Recovery using a Raspberry Pi</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_references">References</a>
<ul class="sectlevel2">
<li><a href="#_spectrum_2">Spectrum</a>
<ul class="sectlevel3">
<li><a href="#_scan_codes">Scan Codes</a></li>
<li><a href="#_zxtres_control_io_registers">ZXTRES control I/O registers</a>
<ul class="sectlevel4">
<li><a href="#_00_masterconf"><code>$00</code> MASTERCONF</a></li>
<li><a href="#_01_mastermapper"><code>$01</code> MASTERMAPPER</a></li>
<li><a href="#_02_flashspi"><code>$02</code> FLASHSPI</a></li>
<li><a href="#_03_flashcs"><code>$03</code> FLASHCS</a></li>
<li><a href="#_04_scancode"><code>$04</code> SCANCODE</a></li>
<li><a href="#_05_keystat"><code>$05</code> KEYSTAT</a></li>
<li><a href="#_06_joyconf"><code>$06</code> JOYCONF</a></li>
<li><a href="#_07_keymap"><code>$07</code> KEYMAP</a></li>
<li><a href="#_09_mousedata"><code>$09</code> MOUSEDATA</a></li>
<li><a href="#_0a_mousestatus"><code>$0A</code> MOUSESTATUS</a></li>
<li><a href="#_0b_scandblctrl"><code>$0B</code> SCANDBLCTRL</a></li>
<li><a href="#_0c_rasterline"><code>$0C</code> RASTERLINE</a></li>
<li><a href="#_0d_rasterctrl"><code>$0D</code> RASTERCTRL</a></li>
<li><a href="#_0e_devcontrol"><code>$0E</code> DEVCONTROL</a></li>
<li><a href="#_0f_devctrl2"><code>$0F</code> DEVCTRL2</a></li>
<li><a href="#_10_memreport"><code>$10</code> MEMREPORT</a></li>
<li><a href="#_40_radasctrl"><code>$40</code> RADASCTRL</a></li>
<li><a href="#_41_radasoffset"><code>$41</code> RADASOFFSET</a></li>
<li><a href="#_42_radaspadding"><code>$42</code> RADASPADDING</a></li>
<li><a href="#_43_radaspalbank"><code>$43</code> RADASPALBANK</a></li>
<li><a href="#_80_hoffs48k"><code>$80</code> HOFFS48K</a></li>
<li><a href="#_81_voffs48k"><code>$81</code> VOFFS48K</a></li>
<li><a href="#_82_hoffs128k"><code>$82</code> HOFFS128K</a></li>
<li><a href="#_83_voffs128k"><code>$83</code> VOFFS128K</a></li>
<li><a href="#_84"><code>$84</code></a></li>
<li><a href="#_85_voffspen"><code>$85</code> VOFFSPEN</a></li>
<li><a href="#_a0_dmactrl"><code>$A0</code> DMACTRL</a></li>
<li><a href="#_a1_dmasrc"><code>$A1</code> DMASRC</a></li>
<li><a href="#_a2_dmadst"><code>$A2</code> DMADST</a></li>
<li><a href="#_a3_dmapre"><code>$A3</code> DMAPRE</a></li>
<li><a href="#_a4_dmalen"><code>$A4</code> DMALEN</a></li>
<li><a href="#_a5_dmaprob"><code>$A5</code> DMAPROB</a></li>
<li><a href="#_a6_dmastat"><code>$A6</code> DMASTAT</a></li>
<li><a href="#_c6_uartdata"><code>$C6</code> UARTDATA</a></li>
<li><a href="#_c7_uartstat"><code>$C7</code> UARTSTAT</a></li>
<li><a href="#_c8_df_reserved"><code>$C8</code> - <code>$DF</code> RESERVED</a></li>
<li><a href="#_f0_sramaddr"><code>$F0</code> SRAMADDR</a></li>
<li><a href="#_f1_maddrinc"><code>$F1</code> MADDRINC</a></li>
<li><a href="#_f3_vdeckctrl"><code>$F3</code> VDECKCTRL</a></li>
<li><a href="#_f7_audiomix"><code>$F7</code> AUDIOMIX</a></li>
<li><a href="#_fb_ad724"><code>$FB</code> AD724</a></li>
<li><a href="#_fc_coreaddr"><code>$FC</code> COREADDR</a></li>
<li><a href="#_fd_coreboot"><code>$FD</code> COREBOOT</a></li>
<li><a href="#_fe_scratch"><code>$FE</code> SCRATCH</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_arcade">Arcade</a>
<ul class="sectlevel3">
<li><a href="#_mra_tool">MRA Tool</a></li>
<li><a href="#_games_by_core">Games by core</a>
<ul class="sectlevel4">
<li><a href="#_1942">1942</a></li>
<li><a href="#_atari_tetris">Atari Tetris</a></li>
<li><a href="#_capcom_play_system_1">Capcom Play System 1</a></li>
<li><a href="#_capcom_play_system_1_5">Capcom Play System 1.5</a></li>
<li><a href="#_double_dragon">Double Dragon</a></li>
<li><a href="#_kicker">Kicker</a></li>
<li><a href="#_out_run">Out Run</a></li>
<li><a href="#_pang">Pang</a></li>
<li><a href="#_sega_system_16b">Sega System 16B</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_links">Links</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The ZXTRES, ZXTRES+ and ZXTRES++ are a continuation of the <a href="https://zxuno.speccy.org">ZX-Uno</a> hardware and software project created by Superfo, AVillena, McLeod, Quest and Hark0. The ZX-Uno team created an FPGA board programmed to behave like a ZX Spectrum computer.</p>
</div>
<div class="paragraph">
<p>Over time the project grew and it&#8217;s now possible to use different software configurations (cores) that work like different systems other than the ZX Spectrum. You can choose to start the ZXTRES with your desired configuration from all those available.</p>
</div>
<div class="paragraph">
<p>The ZXTRES official web page is <a href="https://www.forofpga.es/viewforum.php?f=251">https://www.forofpga.es/viewforum.php?f=251</a>.</p>
</div>
<div class="paragraph">
<p>Most of the functions and features of the ZXTRES, ZXTRES+ and ZXTRES++ are the same, so this document typically refers to the ZXTRES indicating the differences when necessary. In this document, <em>controller</em> means joystick or gamepad. Buttons are labelled alphabetically from <code>A</code> but labels on individual controllers may differ.</p>
</div>
<div class="sect2">
<h3 id="_acknowledgements">Acknowledgements</h3>
<div class="paragraph">
<p>Much of the content of this manual is based on information previously shared at:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://www.forofpga.es/">foroFPGA</a>.</p>
</li>
<li>
<p><a href="https://www.zxuno.com/forum/">ZX-Uno forum</a>.</p>
</li>
<li>
<p>Several existing FAQs; mostly the original version <a href="https://uto.speccy.org/zxunofaq.html">by @uto_dev</a> and the latest one <a href="http://desubikado.sytes.net/zx-uno-faq-version-desubikado/">by @desUBIKado</a>.</p>
</li>
<li>
<p>the official Telegram channels for <a href="https://t.me/zxuno">ZX-Uno</a> <a href="https://t.me/zxdosfpga">ZXDOS</a> and <a href="https://t.me/zxtresfpga">ZXTRES</a>.</p>
</li>
<li>
<p><a href="https://github.com/zxtres/wiki/wiki">ZXTRES official wiki</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Without the previous work of all these people (and more) this manual wouldn&#8217;t exist.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_ports_and_connectors">Ports and connectors</h3>
<div class="paragraph text-center">
<p><span class="image"><img src="img/ZXTRESfront.jpg" alt="ZXTRESfront"></span></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left controller port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">microSD card Slot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Right controller port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power socket</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power switch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PS/2 keyboard port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PS/2 mouse port</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/ZXTRESback.jpg" alt="ZXTRESback"></span></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio in</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">USB port (only for use with for <a href="#_middle_board">middle board</a> installed)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RGB/VGA out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">JTAG access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Expansion port</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DisplayPort out</p></td>
</tr>
</tbody>
</table>
<div class="paragraph text-center">
<p><span class="image"><img src="img/ZXTRESbottom.jpg" alt="ZXTRESbottom"></span></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOOTSEL button for <a href="#_middle_board">middle board</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sound selection switch (<a href="https://en.wikipedia.org/wiki/Delta-sigma_modulation">Sigma-Delta</a> or <a href="https://en.wikipedia.org/wiki/I²S">I<sup>2</sup>S</a>)</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_initial_setup">Initial setup</h3>
<div class="paragraph">
<p>To set up and use the ZXTRES you need at least:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DisplayPort, VGA or RGB cable and compatible display (the RGB connection can also be used with a VGA to SCART adapter and connected to compatible TVs).</p>
</li>
<li>
<p>PS/2 keyboard</p>
</li>
<li>
<p>USB charger, TV or other device that provides USB power (5VDC and at least 1A). The connector is a coaxial jack "barrel" plug of 5.5mm outer diameter and 2.1mm inner diameter with positive polarity (centre positive)</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It&#8217;s important that the source has stable voltage and sufficient current or erratic behaviour may occur (the keyboard or DisplayPort may fail and so on). Some keyboards or peripherals may require a similar power supply but with 2A or more.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/powerConnector.png" alt="powerConnector"></span></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To take advantage of its full potential you may also need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Atari standard controller such as a Sega Mega Drive (Gensis) controller.</p>
</li>
<li>
<p>Audio cable with a stereo 3.5mm jack on one side and both audio channels split into two mono outputs on the other side if you want to use an audio player or recorder such as a Miniduino (<a href="#_miniduino">see more information later</a>), a modern computer or a <a href="https://en.wikipedia.org/wiki/Cassette_tape">cassette tape recorder</a>. The right sound channel is used as input (EAR) and the left channel can be used as output (MIC).</p>
</li>
<li>
<p>microSD card with 32GB capacity or less.</p>
</li>
<li>
<p>PS/2 mouse.</p>
</li>
<li>
<p>Speakers to connect to the audio output or a stereo jack converter to two red and white RCA connectors to connect to a TV,</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If an active VGA to <a href="https://en.wikipedia.org/wiki/SCART">SCART</a> adapter is connected, it will use some free pins of the VGA port to transmit audio, but only when there is nothing connected to the 3.5 mm jack audio output port.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_microsd_card_formatting">microSD card formatting</h4>
<div class="paragraph">
<p>This table shows the requirements of cores that use the microSD card.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 19.0476%;">
<col style="width: 4.7619%;">
<col style="width: 4.7619%;">
<col style="width: 4.7619%;">
<col style="width: 14.2857%;">
<col style="width: 9.5238%;">
<col style="width: 19.0476%;">
<col style="width: 23.8096%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><span class="small">Core</span></th>
<th class="tableblock halign-left valign-top"><span class="small">FAT16</span></th>
<th class="tableblock halign-left valign-top"><span class="small">FAT32</span></th>
<th class="tableblock halign-left valign-top"><span class="small">+3e</span></th>
<th class="tableblock halign-left valign-top"><span class="small">Primary Partition Type</span></th>
<th class="tableblock halign-left valign-top"><span class="small">Extra Partitions</span></th>
<th class="tableblock halign-left valign-top"><span class="small">Access</span></th>
<th class="tableblock halign-left valign-top"><span class="small">Notes</span></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Amiga</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Sí</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">ROMs, disk images</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Requires ROM</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Amstrad CPC</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">None</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Doesn&#8217;t use the SD</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Arcade</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Only ROMs (<code>.ARC</code> and <code>.ROM</code>)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Atari 2600</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Only ROMs (<code>.BIN</code>)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">ColecoVision</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Only ROMs (<code>ROM</code>)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Enterprise</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Disk Images (<code>VHD</code>)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Requires ROM</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Jupiter ACE</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">None</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Doesn&#8217;t use the SD</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Neo-Geo</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Only ROMs (<code>NEO</code>)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Requires BIOS</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">ZX81</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Only images (<code>O</code> and <code>P</code>)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">zxp3</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Disk Images (<code>VHD</code>)</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Requires ROM</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">ZX Spectrum EXP</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Full</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Using SPI Flash esxdos</span></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">ZX Spectrum Next</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">No</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Any</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Yes</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Full</span></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><span class="small">Can read esxdos ROM from microSD</span></p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>FAT16 partitions have a maximum size of 4GB.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When naming a partition to be used with esxDOS you can&#8217;t also use it as a folder name on that partitio. Otherwise an error occurs when trying to access the contents (don&#8217;t name the partition as <code>BIN</code> <code>SYS</code> or <code>TMP</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The ZX Spectrum core can also have <a href="#_microsd_advanced_format_3e">the first partition in +3DOS format and then the second one in FAT16 or FAT32 format</a> to use with the +3e ROM.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="sect4">
<h5 id="_windows">Windows</h5>
<div class="paragraph">
<p>For simple configuration of microSD cards of the correct size (2GB or less for FAT16 or 32GB or less for FAT32) you can use <a href="https://www.sdcard.org/downloads/formatter/">the official formatting tool of the SD Association</a>.</p>
</div>
<div class="paragraph">
<p>For other more complex configurations and depending on operating system version you can use the command line tool <code>diskpart</code> or the Windows Disk Management GUI.</p>
</div>
<div class="paragraph">
<p>For example, to format a microSD card shown as disk 6 when executing <code>list disk</code> from <code>diskpart</code> with only one FAT16 partition (if the microSD card size is less than 4GB):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>select disk 6
clean
create part primary
active
format FS=FAT label=ZXTRES
exit</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create two FAT16 partitions (for example to use MSX core) and have the rest of space as another FAT32 partition (for microSD cards more than 8GB in size):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>select disk 6
clean
create part primary size=4000
set id = 06
active
format fs=FAT label=ZXTRES quick
create part primary size=4000
format fs=FAT label=EXTRA quick
create part primary
format fs=FAT32 label=DATA quick
exit</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create one FAT32 4GB partition (for example to use with Amstrad CPC 6128 core) and then have the rest of space available as a second FAT32 partition (for microSD cards more than 4GB in size):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>select disk 6
clean
create part primary size=4000
set id = 0b
active
format fs=FAT32 label=ZXTRES unit=4k quick
create part primary
format fs=FAT32 label=EXTRA quick
exit</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_macos">macOS</h5>
<div class="paragraph">
<p>For simple configuration of microSD cards of the correct size (2GB or less for FAT16 or 32GB or less for FAT32) you can use <a href="https://www.sdcard.org/downloads/formatter/">the official formatting tool of the SD Association</a> or Disk Utility which is included with the operating system.</p>
</div>
<div class="paragraph">
<p>In other case you should use the command line.</p>
</div>
<div class="paragraph">
<p>For example, to format a microSD card shown as <code>disk6</code> with only one FAT16 partition (if the microSD card size is less than 2GB):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil unmountDisk /dev/disk6
diskutil partitionDisk /dev/disk6 MBR <span class="s2">"MS-DOS FAT16"</span> ZXTRES R</code></pre>
</div>
</div>
<div class="paragraph">
<p>To split it into two FAT16 partitions of the same size (if the microSD card size is 4GB or less):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil unmountDisk /dev/disk6
diskutil partitionDisk /dev/disk6 MBR <span class="s2">"MS-DOS FAT16"</span> ZXTRES 50% <span class="s2">"MS-DOS FAT16"</span> EXTRA 50%</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create two FAT16 partitions (for example to use MSX core) and have the rest of space as another FAT32 partition (for microSD cards more than 8GB in size):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil unmountDisk /dev/disk6
diskutil partitionDisk /dev/disk6 MBR %DOS_FAT_16% ZXTRES 4G %DOS_FAT_16% EXTRA 4G <span class="s2">"MS-DOS FAT32"</span> DATA R
<span class="nb">sudo </span>newfs_msdos <span class="nt">-F</span> 16 <span class="nt">-v</span> ZXTRES <span class="nt">-c</span> 128 /dev/rdisk6s1
<span class="nb">sudo </span>newfs_msdos <span class="nt">-F</span> 16 <span class="nt">-v</span> EXTRA <span class="nt">-b</span> 4096 <span class="nt">-c</span> 128 /dev/rdisk6s2</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p><code>diskutil</code> can&#8217;t create FAT16 partitions that are bigger than 2GB and then format them. That&#8217;s why in this example you must format them only after creating the partitions.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>To create one FAT32 4GB partition (for example to use with the Amstrad CPC 6128 core) and then make the rest of space available as a second FAT32 partition (for microSD cards of more than 4GB):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil unmountDisk /dev/disk6
diskutil partitionDisk /dev/disk6 MBR <span class="s2">"MS-DOS FAT32"</span> ZXTRES 4G <span class="s2">"MS-DOS FAT32"</span> EXTRA R</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>In this example because the partition has a size of exactly 4GB, macOS uses a cluster size of 4096 bytes which is the one required for the Amstrad CPC 6128 core. For a smaller size you may need to format the first partition again. For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil unmountDisk /dev/disk6
newfs_msdos <span class="nt">-F</span> 32 <span class="nt">-v</span> ZXTRES <span class="nt">-b</span> 4096 /dev/rdisk6s1</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The Spotlight feature in macOS enables you to search the items on the microSD card creating a number of hidden files. You can switch off the indexing with these commands (assuming that the SD partition is called <code>ZXTRES</code>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">mdutil <span class="nt">-i</span> off /Volumes/ZXTRES
<span class="nb">cd</span> /Volumes/ZXTRES
<span class="nb">rm</span> <span class="nt">-rf</span> .<span class="o">{</span>,_.<span class="o">}{</span>fseventsd,Spotlight-V<span class="se">\*</span>,Trashes<span class="o">}</span>
<span class="nb">mkdir</span> .fseventsd
<span class="nb">touch</span> .fseventsd/no_log .metadata_never_index .Trashes
<span class="nb">cd</span> -</code></pre>
</div>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_linux">Linux</h5>
<div class="paragraph">
<p>There are many tools for Linux that can format or partition a microSD card (<code>fdisk</code> <code>parted</code> <code>cfdisk</code> <code>sfdisk</code> or <code>GParted</code> to name a few). Note that the partition scheme must always be MBR and the first partition (the one to be used for esxDOS) must be the primary partition.</p>
</div>
<div class="paragraph">
<p>For example to format a microSD card shown as <code>sdc</code> with only one FAT16 partition (if the microSD card size is less than 4GB):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">sudo </span>fdisk <span class="nt">--compatibility</span><span class="o">=</span>dos /dev/sdc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>(...)
Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): p
Partition number (1-4, default 1): 1
First sector (62-31116288, default 62):
Last sector, +/-sectors or +/-size{K,M,G,T,P} (128-31116288, default 31116288):
Created a new partition 1 of type 'Linux'

Command (m for help): t
Selected partition 1
Hex code (type L to list all codes): 6
Changed type of partition 'Linux' to 'FAT16'.

Command (m for help): a
Partition number (1, default 1): 1
The bootable flag on partition 1 is enabled now.

Command (m for help): p
Disk /dev/sdc
Disklabel type: dos
Disk identifier

Device     Boot   Start     End  Sectors   Size Id Type
/dev/sdc1           62 31116288  31116288 984,9M 6 FAT16</code></pre>
</div>
</div>
<div class="paragraph">
<p>Format a FAT partition (requires root permission):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">sudo </span>mkfs.fat <span class="nt">-F</span> 16 <span class="nt">-n</span> ZXTRES <span class="nt">-s</span> 128 /dev/sdc1</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_keyboard">Keyboard</h3>
<div class="sect3">
<h4 id="_ps2_keyboard">PS/2 keyboard</h4>
<div class="paragraph">
<p>The keyboard map (physical keys of the keyboard assignment to the keystrokes that are presented to the different cores) is changed using the <code>Advanced</code> menu of the BIOS. There are three different maps to choose from: Spanish (default), English and Spectrum (advanced).</p>
</div>
<div class="paragraph">
<p>You can also change it using the <code>keymap</code> utility. Inside <code>/bin</code> you can create a folder called <code>keymaps</code> and copy the keyboard map files that you want to use inside it. For example to switch to the US map, enter <code>.keymap us</code> from esxDOS.</p>
</div>
<div class="paragraph">
<p>For the map to be preserved after a hard reset it must be selected as <code>Default</code> in the BIOS.</p>
</div>
<div class="paragraph">
<p>For more information see <a href="https://www.zxuno.com/forum/viewtopic.php?f=37&amp;t=208">this message in the ZX-Uno forum</a>.</p>
</div>
<div class="paragraph">
<p>Note, <a href="#_se_basic_iv">SE Basic IV</a> uses its own native system to set the keyboard map and has its own <a href="https://github.com/source-solutions/sebasic4/wiki/Keyboard-layouts">layouts</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_english">English</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="./img/keyboardEng.png" alt="keyboardEng"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_spanish">Spanish</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="./img/keyboardEsp.png" alt="keyboardEsp"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_spectrum">Spectrum</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="./img/keyboardAv.png" alt="keyboardAv"></span></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_special_keys_and_buttons">Special keys and buttons</h4>
<div class="paragraph">
<p>Special keys that can be used during startup:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Esc</code> or controller button <code>B</code> (if a controller with two or more buttons is connected): ZX Spectrum core ROM selection menu.</p>
</li>
<li>
<p><code>F2</code>: Enter BIOS setup.</p>
</li>
<li>
<p><code>1</code> to <code>9</code>: Load the core in the flash location corresponding to that number. On the latest BIOS versions <code>9</code> is used to load the core installed to the temporary slot used by the <a href="#_bob_fossil_nmi_browser">ZX3 plugin</a>.</p>
</li>
<li>
<p><code>R</code>: Load the ZX Spectrum core ROM in "real" mode; switching off esxDOS, new graphics modes and so on.</p>
</li>
<li>
<p><code>Caps Lock</code>, <code>Cursor Down</code> or controller <code>down</code> (if connected): Core selection menu.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Special keys that can be used while running the main core (ZX Spectrum):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Esc</code>: Break.</p>
</li>
<li>
<p><code>F2</code>: Edit.</p>
</li>
<li>
<p><code>F5</code>: NMI.</p>
</li>
<li>
<p><code>F7</code>: Play or pause when playing <code>PZX</code> files.</p>
</li>
<li>
<p><code>F8</code>: Rewind a <code>PZX</code> file to the previous mark.</p>
</li>
<li>
<p><code>F10</code>: Graph(ics).</p>
</li>
<li>
<p><code>F12</code>: Turbo boost (speeds up CPU to 28 MHz).</p>
</li>
<li>
<p><code>Ctrl+Alt+Backspace</code>: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
<li>
<p><code>Ctrl+Alt+Supr</code>: Soft reset (restart the core).</p>
</li>
<li>
<p><code>Scroll Lock</code>: Switches between RGB and VGA video modes. DisplayPort is always enabled.</p>
</li>
<li>
<p><code>Home</code>: Switches between the several DisplayPort deinterlacing modes (Blend Off Auto and On). This option is only available for ZXTRES+ and ZXTRES++ core versions.</p>
</li>
<li>
<p><code>End</code>: Select one of the monochrome colour modes.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_esxdos">esxDOS</h3>
<div class="paragraph">
<p><a href="https://esxdos.org/index.html">esxDOS</a> is a firmware for the divIDE/divMMC hardware interfaces (that ZXTRES implements). This enables access to storage devices such as a microSD card. It includes commands similar to those of UNIX although to use them you must precede them with a dot (<code>.</code>) for example <code>.ls</code>, <code>.cd</code>, <code>.mv</code> and so on.</p>
</div>
<div class="paragraph">
<p>For it to work it&#8217;s necessary to include the corresponding files in the first partition of the microSD card.</p>
</div>
<div class="paragraph">
<p>At the time of writing this document the version included with ZXTRES is 0.8.9 and it can be downloaded from the <a href="https://www.esxdos.org/files/esxdos086.zip">official website</a>.</p>
</div>
<div class="paragraph">
<p>After you&#8217;ve downloaded and extracted the <code>ZIP</code> archive, you must copy the folders <code>BIN</code>, <code>SYS</code> and <code>TMP</code> and all their contents to the root of first partition of the microSD card.</p>
</div>
<div class="paragraph">
<p>If everything was done correctly, when you start the ZX Spectrum core you&#8217;ll see esxDOS detect the microSD card and load the required components to work.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="./img/esxdos.png" alt="esxdos"></span></p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>You should add the ZXTRES-specific esxDOS commands. These can be obtained from the project source page (<a href="https://github.com/zxtres/dot_commands/">here</a>, <a href="https://github.com/zxdos/zxuno/tree/master/SD/BIN">here</a> and <a href="https://guest:zxuno@svn.zxuno.com/svn/zxuno/software/upgrade">here</a>):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>back16m
backzx2
backzxd
core
corebios
dmaplayw
esprst
iwconfig
joyconf
keymap
loadpzx
loadtap
playmid
playrmov
romsupgr
upgr16m
upgrzx2
upgrzxd
zxuc
zxunocfg</pre>
</div>
</div>
<div class="paragraph">
<p><a href="_.html#_zxtres_commands">It&#8217;s explained later</a> what each of these commands does.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_bios">BIOS</h3>
<div class="paragraph text-center">
<p><span class="image"><img src="./img/boot_zxtres.png" alt="boot zxtres"></span></p>
</div>
<div class="paragraph">
<p>Press the <code>F2</code> key during boot to access the BIOS setup. The BIOS firmware is the first program that runs when the ZXTRES is powered on. The main purpose of BIOS is to start and test the hardware and load one of the installed cores.</p>
</div>
<div class="paragraph">
<p>Using left and right cursor keys you can navigate through the BIOS setup screens. With up and down keys you can choose the different elements of each screen. With the <code>Enter</code> key you can activate and choose the options for each of these. The <code>Esc</code> key is used to close open option windows without applying any action.</p>
</div>
<div class="paragraph">
<p>Other special keys that can be used during startup:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Esc</code> or controller button <code>B</code> (if a controller with two or more buttons is connected): ZX Spectrum core ROM selection menu.</p>
</li>
<li>
<p><code>F2</code> Enter BIOS setup.</p>
</li>
<li>
<p><code>1</code> to <code>9</code>: Load the core in the flash location corresponding to that number.  On the latest BIOS versions <code>9</code> is used to load the core installed to the temporary slot used by the <a href="#_bob_fossil_nmi_browser">ZX3 plugin</a>.</p>
</li>
<li>
<p><code>Caps Lock</code> or <code>Cursor down</code> or controller <code>down</code> (if connected): Core selection menu.</p>
</li>
<li>
<p><code>R</code>: Load the ZX Spectrum core ROM in "real" mode, switching off esxDOS, new graphics modes and so on.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_main">Main</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/bios.png" alt="bios"></span></p>
</div>
<div class="paragraph">
<p>From the <em>Main</em> screen you can run several tests and define the default behaviour for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Boot Timer: Sets how long the boot screen is available (or hiding it completely).</p>
</li>
<li>
<p>Check CRC: Check ROM integrity when loading (more secure) or bypassing it (faster).</p>
</li>
<li>
<p>Keyboard: Set keyboard map.</p>
</li>
<li>
<p>Timing: ULA Behaviour (48K, 128K or Pentagon).</p>
</li>
<li>
<p>Contended: Set lower RAM contention (on or off).</p>
</li>
<li>
<p>DivMMC: Enable or switch of divMMC.</p>
</li>
<li>
<p>NMI-DivMMC: Enable or swtich off divMMC NMI support (used by the NMI browser).</p>
</li>
<li>
<p>New Graphic Modes: (ULAplus, Timex, Radastan).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>More technical information can be found at the <a href="https://www.zxuno.com/wiki/index.php/ZX_Spectrum">ZX-Uno Wiki</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_roms">ROMs</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/bios2.png" alt="bios2"></span></p>
</div>
<div class="paragraph">
<p>The <em>ROMs</em> screen shows the installed ZX Spectrum core ROMs. You can reorder (move up or move down), rename or remove each of them. You can also choose the one that is loaded by default at startup (Set Active ).</p>
</div>
</div>
<div class="sect3">
<h4 id="_upgrade">Upgrade</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/bios3_zxtres.png" alt="bios3 zxtres"></span></p>
</div>
<div class="paragraph">
<p>The <em>Upgrade</em> screen is used to perform updates to the Flash memory content; esxDOS, BIOS, cores and so on. For more information, see the <a href="#_upgrade">section corresponding to upgrades</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_boot">Boot</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/bios4_zxtres.png" alt="bios4 zxtres"></span></p>
</div>
<div class="paragraph">
<p>In the <em>Boot</em> screen you can choose which of the installed cores is loaded by default at startup.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_advanced">Advanced</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/bios5_zxtres.png" alt="bios5 zxtres"></span></p>
</div>
<div class="paragraph">
<p>From the <em>Advanced</em> screen you can configure:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Keyboard layout (Keyb Layout): For more informaiton, see <a href="#_keyboard">the corresponding section</a>.</p>
</li>
<li>
<p>Controller behaviour connected to the right port (DE9) and also the emulated controller using the numeric keypad (Joy Keypad): Kempston, Sinclair 1, Sinclair 2, Protek, Fuller or simulate the keys <code>Q</code>,` A` <code>O</code>,` P` <code>Space</code> and <code>M</code>.</p>
</li>
<li>
<p>behaviour of a controller connected to the left port (DE9): Kempston, Sinclair 1, Sinclair 2, Protek, Fuller or simulate the keys <code>Q</code>,` A` <code>O</code>,` P` <code>Space</code> and <code>M</code>.</p>
</li>
<li>
<p>Video output: PAL, NTSC or VGA (DisplayPort is always active).</p>
</li>
<li>
<p>Scanline simulation: enabled or switched off.</p>
</li>
<li>
<p>VGA horizontal frequency: 50, 51 and so on.</p>
</li>
<li>
<p>CPU speed: Normal (1X) or accelerated (2X, 3X and so on).</p>
</li>
<li>
<p>Csync: Spectrum or PAL.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_exit">Exit</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/bios6.png" alt="bios6"></span></p>
</div>
<div class="paragraph">
<p>From the <em>Exit</em> screen you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Exit BIOS configuration saving changes (in some cases a power cycle is also required).</p>
</li>
<li>
<p>Discard changes and exit.</p>
</li>
<li>
<p>Save changes without exiting.</p>
</li>
<li>
<p>Discard changes.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_zx_spectrum">ZX Spectrum</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main core is the one implementing a ZX Spectrum computer. This core is special and can&#8217;t be replaced with another that&#8217;s not a ZX Spectrum because the ZXTRES uses it for its operation.</p>
</div>
<div class="paragraph">
<p>Some of its main characteristics include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ZX Spectrum 48K, 128K, +3, Pentagon and Chloe 280SE implementation.</p>
</li>
<li>
<p>ULA with ULAplus, Timex and Radastanian modes (including hardware scroll and selectable palette group).</p>
</li>
<li>
<p>Memory contention select (for Pentagon 128 compatibility).</p>
</li>
<li>
<p>Keyboard behaviour select (issue 2 or issue 3).</p>
</li>
<li>
<p>ULA timing select (48K, 128K or Pentagon).</p>
</li>
<li>
<p>Control of screen framing configurable for type of timing and possibility to choose between original Spectrum synchronisms or progressive PAL standard.</p>
</li>
<li>
<p>Timex horizontal MMU support with HOME, DOC and EX banks in RAM.</p>
</li>
<li>
<p>Programmable raster interrupt on any TV line.</p>
</li>
<li>
<p>Memory bank management register select for better compatibility with each implemented model.</p>
</li>
<li>
<p>Activate or deactivate the devices incorporated into the core to improve compatibility with certain programs.</p>
</li>
<li>
<p>ZXMMC and divMMC support for +3e, esxDOS and compatible firmwares (such as UnoDOS 3).</p>
</li>
<li>
<p>TurboSound-AY support.</p>
</li>
<li>
<p>SpecDrum support.</p>
</li>
<li>
<p>Each channel (A, B and C) of the two AY-3-8912, beeper and SpecDrum chips can be directed to the left, right, both or neither outputs enabling the implementation of configurations such as ACB, ABC and so on.</p>
</li>
<li>
<p>Real controller and keyboard-emulated controller support with Kempston, Sinclair 1 and 2, Cursor, Fuller and QAOPSpcM protocol.</p>
</li>
<li>
<p>Turbo mode support at 7 MHz, 14 MHz and 28 MHz.</p>
</li>
<li>
<p>Keyboard support (PS/2 protocol) and user-configurable mapping from within the ZX Spectrum core itself.</p>
</li>
<li>
<p>PS/2 mouse support emulating the Kempston Mouse protocol.</p>
</li>
<li>
<p>Video output in RGB 15 kHz, VGA and DisplayPort.</p>
</li>
<li>
<p>User selectable vertical refresh rate to improve compatibility with VGA monitors.</p>
</li>
<li>
<p>Multicore boot support: from the ZX Spectrum core you can select an address of the SPI Flash and the FPGA will load a core from there.</p>
</li>
<li>
<p>Different colour modes including monochrome.</p>
</li>
<li>
<p><a href="https://en.wikipedia.org/wiki/I²S">I<sup>2</sup>S</a> and <a href="https://en.wikipedia.org/wiki/Delta-sigma_modulation">Sigma-Delta</a> audio output.</p>
</li>
<li>
<p>Wi-fi Support (UART) using the middle board.</p>
</li>
<li>
<p>MIDI Support (General MIDI) using the middle board.</p>
</li>
<li>
<p>RTC Support using the middle board.</p>
</li>
<li>
<p><code>PZX</code> file loading from microSD card emulating tape audio.</p>
</li>
<li>
<p>Multiple deinterlacing modes for DisplayPort including an option to blend the colours. This is only available for ZXTRES+ and ZXTRES++ core versions.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect2">
<h3 id="_roms_2">ROMs</h3>
<div class="paragraph">
<p>The ZX Spectrum core can be initialized using different ROM versions (48K, 128K, +2 and so on). These are stored in the flash memory of the ZXTRES and you can choose which one to load by pressing the <code>Esc</code> key during boot. You can also define the ROM that you want to load by default using the BIOS setup.</p>
</div>
<div class="paragraph">
<p>For more information on how to expand or modify the ROMs stored in flash memory, see the <a href="#_roms_3">updates section</a>.</p>
</div>
<div class="sect3">
<h4 id="_derbypro">DerbyPro</h4>
<div class="paragraph">
<p><a href="https://www.facebook.com/groups/DerbyPro">DerbyPro or Derby&#43;&#43;</a> is an enhanced firmware ROM for the ZX Spectrum based on v1.4 of the Derby development ROM. The Spectrum 128 (codename "Derby") was a Spanish machine commissioned by Investronica and launched in 1985. It came with a keypad that provided additional editing keys. In 1986 the UK version came out with a simplified version of 128 BASIC and no keypad. Derby++ is developed from the Spanish ROM to include the benefits of both versions without the drawbacks and support for new hardware developments.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/derbypro.png" alt="derbypro"></span></p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Features include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>100% binary compatible 48K mode.</p>
</li>
<li>
<p>6-channel PLAY commmand.</p>
</li>
<li>
<p>Access the esxDOS NMI browser from the boot menu.</p>
</li>
<li>
<p>Debugged 128 BASIC with additinoal commands and full scren string editor.</p>
</li>
<li>
<p>esxDOS support in 128 BASIC.</p>
</li>
<li>
<p>Menu access to TR-DOS.</p>
</li>
<li>
<p>PALETTE command for ULAplus.</p>
</li>
<li>
<p>Run most Spectrum software without the need to switch configuration in the BIOS.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can download the ROM, a user manual and other files from the <a href="https://www.facebook.com/groups/DerbyPro">official Facebook Public Group</a>.</p>
</div>
<div class="paragraph">
<p>Because it&#8217;s a 64K ROM with support for new hardware these flags can be used when <a href="#_zx123_tool">adding it to the SPI flash</a>:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meaning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable divMMC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable NMI divMMC (esxDOS Menu)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use 128K timings</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_cargandoleches">CargandoLeches</h4>
<div class="paragraph">
<p>CargandoLeches is a set of ZX Spectrum ROMs that started as a project to load games in any Spectrum model 15 to 20 times faster. No tape is needed but a digital audio source such as a computer, mobile device, MP3 player and so on is required. The new ROM detects the loading method and reverts to the original ROM code if required. This is handled transparently with no user or program intervention.</p>
</div>
<div class="paragraph">
<p>From version 2.0 the project changed from a single ROM to more; each one with different options. This way you can choose a different mix of options that may include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Enable or switch off Sinclair BASIC token expansion.</p>
</li>
<li>
<p>POKE editor.</p>
</li>
<li>
<p>Reset &amp; Play (After a sofware reset of the core the system is ready to load from tape).</p>
</li>
<li>
<p>Ultrafast loading.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The whole ROM set is available to download from the repository in GitHub <a href="https://github.com/antoniovillena/CargandoLeches/tree/master/binaries">here</a>.</p>
</div>
<div class="paragraph">
<p>Depending on which ROM you choose the flags when <a href="#_zx123_tool">adding to the SPI flash</a> may vary. For example, for the ROM <code>48le_ea_re_po</code> (with all features enabled) these flags can be used (you can&#8217;t enable NMI-DivMMC because the POKE editor uses the NMI):</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meaning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable divMMC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off ROM high bit (1FFD bit 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>l</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off ROM low bit (7FFD bit 4)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off Timex mode</p></td>
</tr>
</tbody>
</table>
<div class="sect4">
<h5 id="_pokes">POKEs</h5>
<div class="paragraph">
<p>When using a ROM with POKE option enabled:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After the game is loaded, press <code>F5</code> (NMI button). A dialog is displayed in the upper left corner of the screen</p>
</li>
<li>
<p>Enter the POKE address and press <code>Enter</code>.</p>
</li>
<li>
<p>Enter the POKE value and press <code>Enter</code> again.</p>
</li>
<li>
<p>Repeat steps 2 and 3 until all desired POKEs are entered. To finish and return to the game press <code>Enter</code> twice.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_preparing_ultrafast_loading_tapes">Preparing ultrafast loading tapes</h5>
<div class="paragraph">
<p>The ROMs with ultrafast loading enabled need special tape audio data that is made from normal loading <code>TAP</code> files without protections or turbo loading.</p>
</div>
<div class="paragraph">
<p>To create an ultrafast loading tape you need the <code>leches</code> and <code>CgLeches</code> command line utilities. Those can be obtained for Windows from the
<a href="https://github.com/antoniovillena/CargandoLeches/tree/master/binaries">official repository</a>. You can also obtain an unofficial version for macOS from <a href="https://github.com/kounch/CargandoLeches/tree/master/binaries/macOS">this other repository</a>.</p>
</div>
<div class="paragraph">
<p>Otherwise you can compile from the <a href="https://github.com/antoniovillena/CargandoLeches">source code at the official repository</a>. For example, in Linux to compile using <code>gcc</code> you only need these commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">gcc leches.c <span class="nt">-o</span> leches
gcc CgLeches.c <span class="nt">-o</span> CgLeches</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create an ultrafast loading tape you must use the <code>CgLeches</code> command from a terminal giving at least the path to the original <code>TAP</code> file and the new file to create (<code>WAV</code> or <code>TZX</code>). There are also some other optional parameters such as the loading speed between 0 and 7 (where 0 is fastest but also more incompatible), if you want to create a mono or stereo file (when making a <code>WAV</code>) and more.</p>
</div>
<div class="paragraph">
<p>To make a <code>WAV</code> file with an ultrafast loading tape from the file <code>Valley.tap</code> with loading speed 5 you could enter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="o">(</span>...<span class="o">)</span> CgLeches Valley.tap Valley.wav 5</code></pre>
</div>
</div>
<div class="paragraph">
<p>This way the file <code>Valley.wav</code> can be played from a computer or another device and load using the ROM (see the section about <a href="#_loading_from_tape">loading from tape</a> for more info).</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Due to hardware limitations, <code>TZX</code> files made with <code>CgLeches</code> don&#8217;t work with a <a href="#_miniduino">Miniduino</a> although they usually work with <a href="#_playtzx"><code>PlayTZX</code></a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_se_basic_iv">SE Basic IV</h4>
<div class="paragraph">
<p><a href="https://source-solutions.github.io/sebasic4/">SE Basic IV</a> is a free open-source BASIC interpreter for the Z80 architecture. Although it aims for a high degree of compatibility with Microsoft BASIC, there are some differences. It&#8217;s designed to run on the <a href="https://www.patreon.com/chloe280se">Chloe 280SE</a> but it&#8217;s also compatible with the ZX Spectrum core of the ZXTRES.</p>
</div>
<div class="paragraph">
<p>SE BASIC began development in 1999 as the firmware for the <a href="https://sinclair.wiki.zxnet.co.uk/wiki/ZX_Spectrum_SE">ZX Spectrum SE</a>, the ancestor of the Chloe 280SE. Early versions were patches applied to the original Spectrum ROM. From version 1, it used its own assembly file. From version 2, it added support for ULAplus.</p>
</div>
<div class="paragraph">
<p>Version 3 (<a href="https://zxdesign.itch.io/opense">OpenSE BASIC</a>) replaced the original ROM code with an open source version derived from the <a href="https://github.com/cheveron/open81">ZX81</a> and  <a href="https://github.com/cheveron/samrom">SAM Coupé</a> ROMs. It&#8217;s still maintained as an open source replacement firmware for the Spectrum, and is included in the main <a href="https://tracker.debian.org/pkg/opense-basic">Debian repository</a> for use with emulators.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/sebasic4.png" alt="sebasic4"></span></p>
</div>
<div class="paragraph">
<p>Version 4.0 added support for 80 column mode. Version 4.1 was an unsuccessful attempt to refactor the code. Starting in 2019, the latest version (4.2 Cordelia) was rebuilt from the ground up to take full advantage of the ZX Spectrum core of the ZX-Uno (and ZXTRES). While earlier versions retained a high level of compatibility with Sinclair BASIC and software, this version has no support for Sinclair software and is closer in dialect to Atari BASIC.</p>
</div>
<div class="paragraph">
<p>Version 4.2 requires that divMMC support is enabled with esxDOS or UnoDOS 3 installed. However, <a href="#_esxdos_commands">"dot" command </a> commands and the NMI browser are not supported.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Features include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>40 column (16 colour) and 80 column (2 colour) paletted video modes.</p>
</li>
<li>
<p>Always-on expression evaluation (use variables as filenames).</p>
</li>
<li>
<p>Application package format with support for turning BASIC programs into apps.</p>
</li>
<li>
<p>Automatic data typing.</p>
</li>
<li>
<p>Bitwise logic (AND, NOT, OR, XOR).</p>
</li>
<li>
<p>Built-in help system.</p>
</li>
<li>
<p>Choice of Microsoft (LEFT$, MID$, RIGHT$) or Sinclair (TO) string slicing.</p>
</li>
<li>
<p>Composable characters (supports Vietnamese).</p>
</li>
<li>
<p>Disk-based filesystem (no tapes).</p>
</li>
<li>
<p>Error handling (ON ERROR&#8230;&#8203;, TRACE).</p>
</li>
<li>
<p>Flow control (IF&#8230;&#8203;THEN&#8230;&#8203;ELSE, WHILE&#8230;&#8203;WEND).</p>
</li>
<li>
<p>Full random file access from BASIC (OPEN, CLOSE, SEEK).</p>
</li>
<li>
<p>Full-size keyboard support (DEL, HOME, END and so on).</p>
</li>
<li>
<p>Graphics commands in 40 column mode (CIRCLE, DRAW, PLOT).</p>
</li>
<li>
<p>Localisation of character sets, error messages, and keyboard layouts.</p>
</li>
<li>
<p>Long variable names.</p>
</li>
<li>
<p>Motorola style number entry (%; binary, @; octal, $; hexadecimal).</p>
</li>
<li>
<p>NMI BREAK.</p>
</li>
<li>
<p>On-entry syntax checking.</p>
</li>
<li>
<p>PLAY command with 6-channel PSG and MIDI support.</p>
</li>
<li>
<p>Recursive user-defined functions.</p>
</li>
<li>
<p>Smart firmware updates.</p>
</li>
<li>
<p>Token abbreviation and shortcuts (&amp;; AND, ~; NOT; |; OR, ?; PRINT, '; REM').</p>
</li>
<li>
<p>Undo NEW (OLD).</p>
</li>
<li>
<p>User-defined channels.</p>
</li>
<li>
<p>User-defined character sets (256 characters).</p>
</li>
<li>
<p>User-defined macros.</p>
</li>
<li>
<p>User-defined screen modes.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For the smart firmware update option to work, SE Basic IV must be installed in the second and third 16K ROM slots.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using the smart firmware update feature replaces the version of esxDOS you&#8217;re using with the latest version of UnoDOS 3.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_other_roms">Other ROMs</h4>
<div class="paragraph">
<p>Here are flag settings that work when <a href="#_zx123_tool">adding to the SPI flash</a> some other known custom ROMs:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROM Name</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flags</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arcade Game Designer 0.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">thl17x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gosh Wonderful ROM v1.33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dnhl17x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Looking Glass 1.07</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dnhl17x</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX82 by Daniel A. Nagy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dnhl17</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ZX85 by Daniel A. Nagy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dntmh1</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_microsd_advanced_format_3e">microSD advanced format (+3e)</h3>
<div class="paragraph">
<p>The ZX Spectrum +3e ROM can be used with the ZX Spectrum core. This is an improved Sinclair ZX Spectrum +3 ROM that can use microSD cards and other media.</p>
</div>
<div class="paragraph">
<p>The +3e uses its own partition format (called IDEDOS) to split the hard disk into several partitions to store data. ROM version 1.28 and later can share IDEDOS partitions with MBR partitions. Otherwise you must reserve the whole microSD card for the IDEDOS partitions.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This partition scheme can only be used with the ZX Spectrum core.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Each partition in IDEDOS can be between 1 and 16MB (16 million bytes) in size and each disk can have between 1 and 65535 partitions. This means that the maximum space used in a microSD card is about 1TB.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is one method to split a microSD card into two or three parts with the first partition IDEDOS (1GB) the second one FAT16 (4GB) and the third one FAT32 (using the remaining space in the microSD card).</p>
</div>
<div class="paragraph">
<p>exsDOS and other programs can be installed into the second partition <a href="#_esxdos">as explained earlier</a>.</p>
</div>
<div class="sect3">
<h4 id="_windows_2">Windows</h4>
<div class="paragraph">
<p>You can use Windows Disk Management utility. The steps are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Remove all partitions from the microSD card.</p>
</li>
<li>
<p>Create a new extended partition using the desired space for IDEDOS.</p>
</li>
<li>
<p>Create a primary partition 4GB in size and format as FAT16.</p>
</li>
<li>
<p>Optionally create another primary partition using the remaining space and format as FAT32.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_macos_2">macOS</h4>
<div class="paragraph">
<p>You need to use the command line. The first task is to find out which device is the disk to format:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil list</code></pre>
</div>
</div>
<div class="paragraph">
<p>For this example it&#8217;s disk 6:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>(...)
/dev/disk6 (external, physical):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:     FDisk_partition_scheme                        *15.9 GB    disk6
   1:                 DOS_FAT_32 UNKNOWN                 15.9 GB    disk6s1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instruction steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Unmount the disk and edit the partition sceme (the second step requires admin privileges):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil unmountDisk /dev/disk6
<span class="nb">sudo </span>fdisk <span class="nt">-e</span> /dev/rdisk6</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>fdisk: could not open MBR file /usr/standalone/i386/boot0: No such file or directory
Enter 'help' for information
fdisk: 1&gt; erase
fdisk:*1&gt; edit 1
Partition id ('0' to switch off)  [0 - FF]: [0] (? for help) 7F
Do you wish to edit in CHS mode? [n]
Partition offset [0 - 31116288]: [63] 128
Partition size [1 - 31116287]: [31116287] 2017152

fdisk:*1&gt; edit 2
Partition id ('0' to switch off)  [0 - FF]: [0] (? for help) 06
Do you wish to edit in CHS mode? [n]
Partition offset [0 - 31116288]: [2017280]
Partition size [1 - 29099135]: [29099135] 7812504

fdisk:*1&gt; flag 2</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>fdisk:*1&gt; edit 3
Partition id ('0' to switch off)  [0 - FF]: [0] (? for help) 0B
Do you wish to edit in CHS mode? [n]
Partition offset [0 - 31116288]: [9829784]
Partition size [1 - 21286504]: [21286504]

fdisk:*1&gt; print
         Starting       Ending
 #: id  cyl  hd sec -  cyl  hd sec [     start -       size]
------------------------------------------------------------------------
 1: 7F 1023 254  63 - 1023 254  63 [       128 -    2017152] &lt;Unknown ID&gt;
 2: 06 1023 254  63 - 1023 254  63 [   2017280 -    7812504] DOS &gt; 32MB
 3: 0B 1023 254  63 - 1023 254  63 [   9829784 -   21286504] Win95 FAT-32
 4: 00    0   0   0 -    0   0   0 [         0 -          0] unused

fdisk:*1&gt; write
fdisk: 1&gt; quit</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Format the FAT partitions (admin privileges required):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil unmountDisk /dev/disk6
<span class="nb">sudo </span>newfs_msdos <span class="nt">-F</span> 16 <span class="nt">-v</span> ZXTRES <span class="nt">-c</span> 128 /dev/rdisk6s2
<span class="nb">sudo </span>newfs_msdos <span class="nt">-F</span> 32 <span class="nt">-v</span> EXTRA <span class="nt">-c</span> 128 /dev/rdisk6s3</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Confirm that the new partition scheme was applied:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">diskutil list</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>(...)
/dev/disk6 (external, physical):
   #:                       TYPE NAME                    SIZE       IDENTIFIER
   0:     FDisk_partition_scheme                        *15.9 GB    disk6
   1:                       0x7F                         1.0 GB     disk6s1
   2:                 DOS_FAT_16 ZXTRES               4.0 GB     disk6s2
   3:                 DOS_FAT_32 EXTRA                   10.9 GB    disk6s3</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_linux_2">Linux</h4>
<div class="paragraph">
<p>You can use the command line. First find out the device to erase:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">lsblk</code></pre>
</div>
</div>
<div class="paragraph">
<p>For this example it&#8217;s <code>sdc</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>NAME         MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
(..)
sdc          179:0    0 15,8G  0 disk
└─sdc1       179:1    0 15,8G  0 part</code></pre>
</div>
</div>
<div class="paragraph">
<p>Instructions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the disk isn&#8217;t mounted and edit the partition scheme (this step requires root privileges):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">sudo </span>fdisk <span class="nt">--compatibility</span><span class="o">=</span>dos /dev/sdc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Welcome to fdisk
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.

Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): p
Partition number (1-4, default 1): 1
First sector (62-31116288, default 62): 128
Last sector, +/-sectors or +/-size{K,M,G,T,P} (128-31116288, default 31116288): 2017152

Created a new partition 1 of type 'Linux'

Command (m for help): t
Selected partition 1
Hex code (type L to list all codes): 7f
Changed type of partition 'Linux' to 'unknown'.

Command (m for help): n
Partition type
   p   primary (1 primary, 0 extended, 3 free)
   e   extended (container for logical partitions)
Select (default p): p
Partition number (2-4, default 2):
First sector (45-31116288, default 45): 2017280     .
Last sector, +/-sectors or +/-size{K,M,G,T,P} (2017153-31116288, default 31116288): 7812504

Created a new partition 2 of type 'Linux'

Command (m for help): t
Partition number (1,2, default 2): 2
Hex code (type L to list all codes): 6

Changed type of partition 'Linux' to 'FAT16'.

Command (m for help): a
Partition number (1,2, default 2): 2

The bootable flag on partition 2 is enabled now.

Command (m for help): n
Partition type
   p   primary (2 primary, 0 extended, 2 free)
   e   extended (container for logical partitions)
Select (default p): p
Partition number (3-4, default 3): 3
First sector (45-31116288, default 45): 9829784     .
Last sector, +/-sectors or +/-size{K,M,G,T,P} (2017153-31116288, default 31116288): 31116288

Created a new partition 3 of type 'Linux'

Command (m for help): t
Partition number (1-4, default 3): 3
Hex code (type L to list all codes): b

Changed type of partition 'Linux' to 'W95 FAT32'.

Command (m for help): p
Disk /dev/sdc
Disklabel type: dos
Disk identifier

Device     Boot   Start     End  Sectors   Size Id Type
/dev/sdc1           128 2017152  2017025 984,9M 7f unknown
/dev/sdc2  *    2017280 7626751  7812504   2,7G  b FAT16
/dev/sdc3       9829784 7626751 21286504    21G  b W95 FAT32</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Format both FAT partitions (requires root privileges):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">sudo </span>mkfs.fat <span class="nt">-F</span> 16 <span class="nt">-n</span> ZXTRES <span class="nt">-s</span> 128 /dev/sdc2
<span class="nb">sudo </span>mkfs.fat <span class="nt">-F</span> 32 <span class="nt">-n</span> EXTRA <span class="nt">-s</span> 128 /dev/sdc3</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Confirm that the partition scheme was changed:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">lsblk</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>NAME      MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
(...)
sda      179:0    0 15,8G  0 disk
├─sda1   179:1    0    1G  0 part
├─sda2   179:2    0    4G  0 part
├─sda3   179:3    0 10,8G  0 part</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3e">+3e</h4>
<div class="paragraph">
<p>After the microSD card is ready to use you can start the ZX Spectrum core with a +3e ROM and format the IDEDOS part.</p>
</div>
<div class="paragraph">
<p>The first step is determine the disk geometry. With the microSD card inserted into the ZXTRES enter the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="basic">CAT TAB</code></pre>
</div>
</div>
<div class="paragraph">
<p>This gives a result showing the number of <a href="https://en.wikipedia.org/wiki/Cylinder-head-sector">cylinders heads and sectors</a>.</p>
</div>
<div class="paragraph">
<p>With this information you estimate the size of your partition using cylinders. For example, if the number of cylinders is 32768 and you want to use 1GB of a 16GB microSD card, the number of cylinders needed would be 32768/16=2048. This way the IDEDOS partition can be formatted using that number:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="basic">FORMAT TO 0,100,2048</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first value (<code>0</code>) is the drive to use (the first one). The second value is the maximum number of IDEDOS partitions. The third one is the number of cylinders to use.</p>
</div>
<div class="paragraph">
<p>After formatting, you can create new partitions. For example, to create a 16MB partition called "Software", a 4GB partition called "Swap" (to use as swap disk) and an 8MB partition called "Utils":</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="basic">NEW DATA "Software",16
NEW EXP "Swap1",4
NEW DATA "Utils",8</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about the different +3e disk commands refer to <a href="https://worldofspectrum.org/zxplus3e/index.html">this page at World of Spectrum</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_esxdos_commands">esxDOS commands</h3>
<div class="sect3">
<h4 id="_overview">Overview</h4>
<div class="paragraph">
<p>There are two different kind of esxDOS commands: the so-called "dot" commands that, as the name suggests, begin with a dot (<code>.</code>), and extensions to existing BASIC commands.</p>
</div>
<div class="paragraph">
<p>The main "dot" commands are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>128</code>: Enter 128 mode from within 48 mode.</p>
</li>
<li>
<p><code>cd</code>: Change current working folder.</p>
</li>
<li>
<p><code>chmod</code>: Change file attributes.</p>
</li>
<li>
<p><code>cp</code>: Copy a file.</p>
</li>
<li>
<p><code>divideo</code>: Play a divIDEo (<code>DVO</code>) video file (divIDE only).</p>
</li>
<li>
<p><code>drives</code>: Show currently available drives.</p>
</li>
<li>
<p><code>dskprobe</code>: Utility that shows low level content of an storage device.</p>
</li>
<li>
<p><code>dumpmem</code>: Can dump RAM memory content to a file.</p>
</li>
<li>
<p><code>file</code>: Tries to recognise the type of data contained in a file (like the UNIX command).</p>
</li>
<li>
<p><code>gramon</code>: Monitor to search graphics sprites fonts and so on in RAM memory.</p>
</li>
<li>
<p><code>hexdump</code>: Shows the contents of a file using hexadecimal notation.</p>
</li>
<li>
<p><code>hexview</code>: Allow to see and navigate through the contents os a file using hexadecimal notation.</p>
</li>
<li>
<p><code>launcher</code>: Creates a shortcut (launcher) to open directly a <code>TAP</code> file.</p>
</li>
<li>
<p><code>ls</code>: Show the content of a folder.</p>
</li>
<li>
<p><code>lstap</code>: Show the content of a <code>TAP</code> file.</p>
</li>
<li>
<p><code>mkdir</code>: Create a folder.</p>
</li>
<li>
<p><code>mktrd</code>: Create a <code>TRD</code> disk file.</p>
</li>
<li>
<p><code>more</code>: Show the content of a text file.</p>
</li>
<li>
<p><code>mv</code>: Move a file.</p>
</li>
<li>
<p><code>partinfo</code>: Show partition information of an storage device.</p>
</li>
<li>
<p><code>playpt3</code>: Play <code>PT3</code> music file.</p>
</li>
<li>
<p><code>playsqt</code>: Play <code>SQT</code> music file.</p>
</li>
<li>
<p><code>playstc</code>: Play <code>STC</code> music file.</p>
</li>
<li>
<p><code>playtfm</code>: Play <code>TFC</code> music file.</p>
</li>
<li>
<p><code>playwav</code>: Play <code>WAV</code> audio file.</p>
</li>
<li>
<p><code>rm</code>: Remove a file or a folder.</p>
</li>
<li>
<p><code>snapload</code>: Load snapshot file.</p>
</li>
<li>
<p><code>speakcz</code>: Read text aloud using Czech pronunciation.</p>
</li>
<li>
<p><code>tapein</code>: Mounts a <code>TAP</code> file so that it can be used then from BASIC using LOAD sentence.</p>
</li>
<li>
<p><code>tapeout</code>: Mount a <code>TAP</code> file so that it can be used then from BASIC using SAVE sentence.</p>
</li>
<li>
<p><code>vdisk</code>: Mount a <code>TRD</code> disk file to use with the TR-DOS environment (after all drives have been mounted you can enter TR-DOS emulation by typing: <code>RANDOMIZE USR 15616</code>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some BASIC extended commands are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>GO TO</code> to change the current drive or folder (for example: <code>GO TO hd1</code> or <code>GO TO hd0"GAMES"</code>).</p>
</li>
<li>
<p><code>CAT</code> to show the content of a drive.</p>
</li>
<li>
<p><code>LOAD</code> to lad a file from a drive (BASIC Program SCREEN CODE and so on for example <code>LOAD *"Screen.scr" SCREEN$</code>).</p>
</li>
<li>
<p><code>SAVE</code> to save data in a file (for example, <code>SAVE *"PROGRAM.BAS"</code>).</p>
</li>
<li>
<p><code>ERASE</code> to remove a file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition esxDOS supports an NMI browser that loads when the NMI is activated (<code>F5</code> is pressed). This enables you to browse the microSD card and easily load files (<code>TAP</code>, <code>Z80</code>, <code>TRD</code> and so on). In the default NMI browser, pressing the <code>H</code> key invokes a help screen that shows all available key commands.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The NMI browser shows file and folder entries in the order stored in the internal FAT table and not alphabetically. If you want to see them ordered you must reorder the microSD card structure with a utility such as <a href="https://fatsort.sourceforge.io/">FATsort</a>, <a href="https://www.luisrios.eti.br/public/en_us/projects/yafs/">YAFS</a>, <a href="http://www.trustfm.net/software/utilities/SDSorter.phpp">SDSorter</a> or another application.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Don&#8217;t use any FAT reordering utility</strong> if the microSD card is also being used with a PC XT core because it may stop DOS from booting.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_zxtres_commands">ZXTRES Commands</h4>
<div class="paragraph">
<p>As noted in the installation section, there are a several <a href="#_esxdos_commands">"dot" command </a> commands that are exclusive to the ZXTRES:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>back16m</code>: Dumps to a <code>FLASH.ZX1</code> file in the root folder of the microSD card the contents of a 16 Meg SPI Flash memory. After the command is done, you must enter <code>.ls</code> so that the cache is written to the microSD card. Otherwise the length of the file is wrongly set to 0.</p>
</li>
<li>
<p><code>backzx2</code> or <code>backzxd</code>: Creates a <code>FLASH_32.ZX2</code> or <code>FLASH_32.ZXD</code> file in the root folder of the microSD card with the contents of a 32 Meg SPI Flash memory. After the command is done, you must enter <code>.ls</code> so that the cache is wrtten to the microSD card. Otherwise the length of the file is wrongly set to 0.</p>
</li>
<li>
<p><code>core</code>: Restarts the FPGA and loads the specified core from the SPI Flash</p>
</li>
<li>
<p><code>corebios</code>: Simultaneously update the ZX Spectrum core and BIOS.</p>
</li>
<li>
<p><code>dmaplayw</code>: Play a <code>WAV</code> file that is 8-bits unsigned and sampled at 15625 Hz.</p>
</li>
<li>
<p><code>esprst</code>: Reset the WiFi ESP8266(ESP-12) module.</p>
</li>
<li>
<p><code>iwconfig</code>: Configure the WiFi module.</p>
</li>
<li>
<p><code>joyconf</code>: Configure and test for keyboard and DE9 controllers.</p>
</li>
<li>
<p><code>keymap</code>: Load a different keyboard map definition.</p>
</li>
<li>
<p><code>loadpzx</code>: Load a <code>PZX</code> tape file.</p>
</li>
<li>
<p><code>loadtap</code>: Load a <code>TAP</code> file using the <code>PZX</code> integration.</p>
</li>
<li>
<p><code>playmid</code>: Play a <code>MID</code> music file using the for <a href="#_middle_board">middle board</a>.</p>
</li>
<li>
<p><code>playrmov</code>: Play <a href="#_creating_radastanian_movie_files">radastanian format video files <code>RDM</code>)</a>. This command doesn&#8217;t work in 48K mode.</p>
</li>
<li>
<p><code>romsupgr</code>: Load from a RomPack filel called <code>ROMS.ZX1</code> in the root folder of the microSD card all ZX Spectrum core ROMS into SPI flash memory.</p>
</li>
<li>
<p><code>upgr16m</code>: Load the content of a <code>FLASH.ZX1</code> file in the root folder of the microSD card to a 16 Meg SPI Flash memory.</p>
</li>
<li>
<p><code>upgrzx2</code> or <code>upgrzxd</code>: Write the content of a <code>FLASH_32.ZX2</code> or <code>FLASH_32.ZXD</code> file in the root folder of the microSD card to a 32 Meg SPI Flash memory.</p>
</li>
<li>
<p><code>zxuc</code>: Configure all options of BIOS that also can be stored in the microSD in configuration files that can be loaded later (available to download from <a href="https://github.com/Utodev/ZXUC/tree/master/downloads">Utodev repository</a>).</p>
</li>
<li>
<p><code>zxunocfg</code>: Configurae certain features such as timings contention keyboard type CPU speed video type or vertical frequency.</p>
</li>
</ul>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>romsback</code> command is designed for the ZX-Uno and ZX-Dos and must not be used with the ZXTRES.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Most of these commands are available to download from <a href="https://github.com/zxtres/dot_commands">ZXTRES</a> official repository or <a href="https://github.com/zxdos/zxuno/tree/master/SD/BIN">ZX-Uno repository</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_wi_fi">Wi-Fi</h3>
<div class="paragraph">
<p>The <a href="#_middle_board">optional middle board</a> includes an ESP-12 Wi-Fi <a href="https://es.wikipedia.org/wiki/ESP8266">ESP8266</a> chip. To communicate with the chip, a core that synthesize a <a href="https://en.wikipedia.org/wiki/Universal_Asynchronous_Receiver-Transmitter">UART</a> device, (such as the EXP28 290723 ZX Spectrum core) is required.</p>
</div>
<div class="paragraph">
<p>There are two <a href="#_esxdos_commands">"dot" command </a> commands for configuring software access to the module. They can be downloaded from <a href="https://github.com/zxdos/zxuno/tree/master/SD/BIN/">GitHub official repository</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>esprst</code> restarts the module.</p>
</li>
<li>
<p><code>iwconfig</code> registers the Wi-Fi network name (SSID) and password, keeping them in the file <code>/sys/config/iw.cfg</code> for other programs to use.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">.iwconfig mywifi mypassword</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>All the Wi-Fi software (explained later) is available with the <a href="https://www.retrowiki.es/viewtopic.php?f=110&amp;t=200039549">ZX-Uno distributions by desubikado</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_network_tools_for_zx_uno_pack">Network tools for ZX-Uno pack</h4>
<div class="paragraph">
<p>These ZX Spectrum programs, developed by Nihirash, are available <a href="https://nihirash.net/projects/">from his website</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>netman</code>: Configures the ESP Wi-Fi chip for other programs from Nihirash. It doesn&#8217;t work in 48K mode. Available to download <a href="https://github.com/nihirash/netman-zx">from GitHub</a>.</p>
</li>
<li>
<p><code>Moon Rabbit</code>: <a href="https://es.wikipedia.org/wiki/Gopher">Gopher</a> client. Doesn&#8217;t work in 48K mode. Available to download <a href="https://github.com/nihirash/moon-rabbit-zx">from GitHub</a>.</p>
</li>
<li>
<p><code>irc</code>: <a href="https://en.wikipedia.org/wiki/Internet_Relay_Chat">Internet Relay Chat</a> client. Works better at 14 MHz CPU clock.</p>
</li>
<li>
<p><code>wget</code>: Utility to download files with HTTP (does not work with HTTPS)</p>
</li>
<li>
<p><code>platoUNO</code>: <a href="https://en.wikipedia.org/wiki/Programmed_Logic_Automated_Teaching_Operations">PLATO</a> client. Also works better at 14 MHz CPU clock. For more information about PLATO, refer to the <a href="https://www.irata.online/%23about">IRATA.ONLINE</a> website.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_ftp_uno">FTP-Uno</h4>
<div class="paragraph">
<p>FTP client developed by Yombo, available <a href="https://github.com/yomboprime/FTP_Uno">from GitHub</a>.</p>
</div>
<div class="paragraph">
<p>Configuration steps:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Edit <code>FTP.CFG</code> file with all the required information (SSID and password, FTP server, and so on).</p>
</li>
<li>
<p>Copy <code>FTP.CFG</code> inside the <code>/SYS/CONFIG/</code> folder on the microSD card.</p>
</li>
<li>
<p>Copy <code>ftpUno.tap</code> to any folder on the card.</p>
</li>
<li>
<p>Power on the ZXTRES and load the tape file <code>ftpUno.tap</code></p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_uart_terminal">UART Terminal</h4>
<div class="paragraph">
<p>Program example included with <a href="https://github.com/yomboprime/ZXYLib">ZXYLib</a> C library, developed by yombo, that let&#8217;s you send directly typed characters using the UART, and also see the result. Available to download <a href="https://github.com/yomboprime/ZXYLib/raw/master/UARTTERM.tap">from this link</a>.</p>
</div>
<div class="paragraph">
<p>After the file <code>UARTTERM.tap</code> is in the card and loaded, you can type several specific commands for ESP8266 chip. For example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>AT</code>: Check communication. Returns <code>OK</code> if everything is working.</p>
</li>
<li>
<p><code>AT+RST</code>: Restart the chip, like the <a href="#_wi_fi"><code>esprst</code></a> command.</p>
</li>
<li>
<p><code>AT+GMR</code>: Display information such as firmware version and so on.</p>
</li>
<li>
<p><code>AT+CWMODE_CUR=1</code>: Temporarily put the chip into Wi-Fi client mode until the next restart.</p>
</li>
<li>
<p><code>AT+CWMODE_DEF=1</code>: Put the chip into Wi-Fi client mode, and save it as the default in the chip flash memory.</p>
</li>
<li>
<p><code>AT+CWJAP_CUR="&lt;WiFiNetwork&gt;","&lt;WiFiPassword&gt;"</code>: Temporarily connect to a network where <code>&lt;WiFiNetwork&gt;</code> is the Wi-Fi ID and <code>&lt;WiFiPassword&gt;</code> is the access password.</p>
</li>
<li>
<p><code>AT+CWJAP_DEF="&lt;WiFiNetwork&gt;","&lt;WiFiPassword&gt;"</code>: Connect to a network, and saves the settings as default in the chip flash memory.</p>
</li>
<li>
<p><code>AT+CWAUTOCONN=1</code>: Set the chip to connect automatically on boot to the default network (<code>AT+CWAUTOCONN=0</code> deactivates it).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For full details of all the available commands, refer to the <a href="https://www.espressif.com/sites/default/files/documentation/4a-esp8266_at_instruction_set_en.pdf">official documentation</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_midi">MIDI</h3>
<div class="paragraph">
<p>The <a href="#_middle_board">optional middle board</a> also has a built-in <a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device" class="bare">https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device</a> [RP2040 microcontroller] programmed to work as a GM-MIDI synthesizer. This can be used with a core that enables communication with the module (such as the EXP28 290723 ZX Spectrum core).</p>
</div>
<div class="paragraph">
<p>You can use the <a href="#_esxdos_commands">"dot" command </a> <a href="https://github.com/zxtres/dot_commands/tree/main/playmid">.playmid</a> to listen to MIDI files in the supported format (<strong>FIXME</strong>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Sometimes <code>.playmid</code> may play a MIDI file slower or with an uneven playback speed. This is because playing this kind of file can involve <a href="https://zxuno.com/forum/viewtopic.php?t=3963" class="bare">https://zxuno.com/forum/viewtopic.php?t=3963</a> [expensive calculations on the Z80] and due to inherent hardware limitations (the ZX Spectrum core&#8217;s synthesized AY-3-8912 chip that handles serial communiction with the MIDI chip).</p>
</div>
<div class="paragraph">
<p>To remedy this, change the CPU speed with the <code>.zxunocfg -sSPEED</code> command (with SPEED ranging from 0 to 3, where 3 is the fastest) before using <code>.playmid</code>, so that you have more CPU power to process the MIDI file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is also possible to use MIDI with the 128 BASIC <code>PLAY</code> command. You can access 128 BASIC from the <a href="#_derbypro">DerbyPro</a> ROM. If you are using a 128K Spectrum ROM, deactivate the microSD card in the BIOS or using the <a href="#_esxdos_commands">"dot" command </a> <code>.zxuc</code> command. This command plays a musical scale with the sound of a piano:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="basic">PLAY "T160","","","Y1Z192Z0V15O5cdefgabC"</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Changing <code>0</code> in <code>Z0</code> to another number (from 0 to 127) changes the instrument used to play the scale.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>PLAY</code> command in <a href="#_se_basic_iv">SE Basic IV</a> also supports MIDI, but it has a different <a href="https://github.com/source-solutions/sebasic4/wiki/Language-reference#PLAY">syntax</a>.</p>
</div>
<div class="sect3">
<h4 id="_bob_fossil_nmi_browser">Bob Fossil NMI Browser</h4>
<div class="paragraph">
<p>To use <a href="https://www.zxuno.com/forum/viewtopic.php?f=39&amp;t=4011" class="bare">https://www.zxuno.com/forum/viewtopic.php?f=39&amp;t=4011</a> [Bob Fossil&#8217;s NMI Browser] to play MIDI you need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>.playmid</code> <a href="#_esxdos_commands">"dot" command </a> command installed.</p>
</li>
<li>
<p>The latest <a href="http://www.thefossilrecord.co.uk/wp-content/uploads/zx/BROWSE_latest.zip">browser stable version</a>.</p>
</li>
<li>
<p>Browser MID plugin.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Copy the corresponding <code>.MID</code> file to the desired location on the microSD card, together with the appropriate MID plugin file (in the <code>BIN/BPLUGINS</code> folder) and the <a href="#_esxdos_commands">"dot" command </a> <code>playmid</code> command file (in the <code>BIN</code> folder).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the ZXTRES ZX Spectrum core.</p>
</li>
<li>
<p>Press <code>F5</code> to open Bob Fossil&#8217;s NMI browser and then navigate to the location of the <code>.MID</code> file, select it and press <code>Enter`</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You can press <code>Space</code> to stop playback at any time.</p>
</div>
</div>
<div class="sect3">
<h4 id="_zx_midi_player">ZX MIDI player</h4>
<div class="paragraph">
<p>This ZX Spectrum program was <a href="https://github.com/UzixLS/zx-midiplayer">developed by Eugene Lozovoy</a> and has the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Compatible with MID(SMF) file formats type 0, type 1 and RMI;</p>
</li>
<li>
<p>Supports files up to 64Kb.</p>
</li>
<li>
<p>Support for up to 60 tracks in a file (for heavier files, a turbo CPU frequency is desirable).</p>
</li>
<li>
<p>Support for multiple CPU frequencies - 3.5 MHz, 3.54 MHz, 7 MHz, 14 MHz, 28 MHz.</p>
</li>
<li>
<p>Support for divMMC (and derivatives), ZXMMC, Z-Controller- FAT32 file system support.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_rtc">RTC</h3>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_creating_radastanian_movie_files">Creating RaDastanian movie files</h3>
<div class="paragraph">
<p>The <code>playrmov</code> <a href="#_esxdos_commands">"dot" command </a> command plays Radastanian format (<code>RDM</code>) video files. To convert your own videos you need <code>makevideoradas</code>, a utility that&#8217;s available at this <a href="https://svn.zxuno.com/svn/zxuno/software/modo_radastan/videos_radastanianos/">SVN repository</a>.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re using Windows there&#8217;s already an executable file (<code>makevideoras.exe</code>). For Linux or macOS you must have the command line developer utilities installed to compile an executable.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">gcc makevideoradas.c <span class="nt">-o</span> makevideoradas</code></pre>
</div>
</div>
<div class="paragraph">
<p>Apart from <code>makevdideoradas</code> you need another two tools: <a href="https://ffmpeg.org"><code>ffmpeg</code></a> and <a href="https://imagemagick.org/index.php"><code>imagemagick</code></a>. These can be installed with a package manager (<code>apt</code> <code>yum</code> <code>pacmam</code> <code>brew</code> and so on) or downloading the source code and compiling.</p>
</div>
<div class="paragraph">
<p>The first step to convert your video (for example <code>myvideo.mp4</code>) is exporting the frames as 128x96 pixel BMP image files. You can create a temporary file (<code>img</code> for this example) to store them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">mkdir </span>img
<span class="o">(</span>...<span class="o">)</span>/ffmpeg <span class="nt">-i</span> myvideo.mp4 <span class="nt">-vf</span> <span class="s2">"scale=128:96,fps=25"</span> <span class="nt">-start_number</span> 0 img/output%05d.bmp</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now you can transform the <code>BMP</code> files to 16 colours (v3) <code>BMP</code> files.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="o">(</span>...<span class="o">)</span>/magick mogrify <span class="nt">-colours</span> 16 <span class="nt">-format</span> bmp <span class="nt">-define</span> bmp:format<span class="o">=</span>bmp3 img/<span class="k">*</span>.bmp</code></pre>
</div>
</div>
<div class="paragraph">
<p>Last you can assemble the <code>RDM</code> file (in this example <code>myvideo.rdm</code>) and cleanup the temporary files and folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="o">(</span>...<span class="o">)</span>/makevideoradas img/output
<span class="nb">mv </span>img/output.rdm ../myvideo.rdm
<span class="nb">rm</span> <span class="nt">-rf</span> img</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about this process refer to <a href="https://www.zonadepruebas.com/viewtopic.php?t=4796&amp;start=110">this thread in Zona de Pruebas forums</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_upgrade_2">Upgrade</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_bios_2">BIOS</h3>
<div class="paragraph">
<p>To update the BIOS, a file called <code>FIRMWARE.ZX3</code> must be obtained. The latest version of the firmware files can be downloaded from <a href="https://github.com/zxdos/zxuno/tree/master/firmware">the official repository</a>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Updating the firmware (BIOS) is delicate. It shouldn&#8217;t be done if it&#8217;s not necessary. When doing so, ensure that the ZXTRES has uninterrupted power (such as a UPS or a laptop USB with battery).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Copy the file to the root of the microSD card, power on and press <code>F2</code> to enter BIOS. Select <code>Upgrade</code>. Choose <em>"Upgrade BIOS for ZX"</em> and then <em>"SDfile"</em>. The system reads the file <code>FIRMWARE&#8230;&#8203;</code> and notifies you when it&#8217;s done.</p>
</div>
</div>
<div class="sect2">
<h3 id="_roms_3">ROMs</h3>
<div class="paragraph">
<p>The flash memory of a ZXTRES has 64 reserved slots of 16K each to store ZX Spectrum core ROM images. Thus an original ZX Spectrum ROM (16K) uses one slot, a ZX Spectrum 128 ROM (32K) uses two slots and a ZX Spectrum +3 ROM (64K) uses four slots.</p>
</div>
<div class="paragraph">
<p>You can add a new ROM pressing the key <code>N</code> at the BIOS <a href="#_roms">ROMs screen</a>, connecting an audio cable to the board and loading a ROM from an audio player. ROM audio tapes can be made from a <code>TAP</code> file built with the <code>GenRom</code> utility available at the <a href="https://github.com/zxdos/zxuno/tree/master/modflash">ZX-Uno Code Repository</a>.</p>
</div>
<div class="paragraph">
<p>To update all ROMs installed for the ZX Spectrum core in one go, a RomPack file called <code>ROMS.ZX1</code> must be obtained that must be copied to the microSD card. Boot the ZXTRES and then enter <code>.romsupgr</code>. This overwrites the existing set of ROMs with those contained in the file.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Currently, <code>romsupgr</code> only works correctly with RomPack files containing a maximum of 35 slots.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>RomPack files can be easily edited with the <a href="http://guest:zxuno@svn.zxuno.comsvn/zxuno/software/ZX1RomPack/">ZX1RomPack</a> utility. Although it&#8217;s a Windows program it works perfectly for example using <a href="https://www.winehq.org">Wine</a> or similar programs either on Linux and macOS versions with 32-bit Intel support..</p>
</div>
</div>
<div class="sect2">
<h3 id="_cores">Cores</h3>
<div class="paragraph">
<p>A core is a file with the information needed to configure the FPGA to behave like a specific system (ZX Spectrum and so on). In the ZXTRES this file can be loaded from several different places: the SPI Flash memory, a microSD card or from an external device (PC and so on) using a special cable.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_microsd_card">microSD card</h4>
<div class="sect4">
<h5 id="_loading_from_the_zx_spectrum_core">Loading from the ZX Spectrum core</h5>
<div class="paragraph">
<p>From the main ZX Spectrum core it&#8217;s possible to load other cores.</p>
</div>
<div class="sect5">
<h6 id="_bob_fossil_nmi_browser_2">Bob Fossil NMI browser</h6>
<div class="paragraph">
<p>To use the <a href="https://www.zxuno.com/forum/viewtopic.php?f=39&amp;t=4011">Bob Fossil NMI browser</a> to load cores you need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The latest stable version (<a href="http://www.thefossilrecord.co.uk/wp-content/uploads/zx/BROWSE_latest.zip" class="bare">http://www.thefossilrecord.co.uk/wp-content/uploads/zx/BROWSE_latest.zip</a>).</p>
</li>
<li>
<p>The ZX3 plugin that can load Cores in ZX3 format <a href="https://github.com/zxdos/zxuno/blob/master/SD/BIN/BPLUGINS/ZX3" class="bare">https://github.com/zxdos/zxuno/blob/master/SD/BIN/BPLUGINS/ZX3</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Copy the corresponding <code>ZX3</code> file to the desired location of the microSD card as well as the appropriate ZX3 plugin (in the folder <code>BIN/BPLUGINS</code>).</p>
</div>
<div class="paragraph">
<p>Press <code>F5</code> to open Bob Fossil&#8217;s NMI browser and get to the location of the Core with extension <code>ZX3</code>, select it and press <code>Enter</code>.</p>
</div>
<div class="paragraph">
<p>If everything worked correctly, the bottom of the screen indicates the flashing progress (it&#8217;s recorded in a temporary slot of the flash memory).</p>
</div>
</div>
<div class="sect5">
<h6 id="_bob_fossil_nmi_browser_with_middle_board">Bob Fossil NMI browser (with Middle Board)</h6>
<div class="paragraph">
<p>The <a href="#_middle_board">optional middle board</a> has a built-in <a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device" class="bare">https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device</a> [RP2040 microcontroller] programmed to read from the microSD and perform direct loading of cores into the FPGA.</p>
</div>
<div class="paragraph">
<p>In order to use <a href="https://www.zxuno.com/forum/viewtopic.php?f=39&amp;t=4011" class="bare">https://www.zxuno.com/forum/viewtopic.php?f=39&amp;t=4011</a> [Bob Fossil&#8217;s browser for this type of loading], the following is required:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The latest <a href="http://www.thefossilrecord.co.uk/wp-content/uploads/zx/BROWSE_latest.zip">stable version</a></p>
</li>
<li>
<p>The BIT plugin to to load Cores in BIT format (<a href="https://github.com/zxdos/zxuno/blob/master/SD/BIN/BPLUGINS/BIT" class="bare">https://github.com/zxdos/zxuno/blob/master/SD/BIN/BPLUGINS/BIT</a>).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Copy the corresponding <code>.BIT</code> file to the desired location on the microSD card, as well as the BIT plugin file (inside the <code>BIN\BPLUGINS</code> folder).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start the ZXTRES Spectrum core.</p>
</li>
<li>
<p>Press <code>F5</code> to open the browser and then navigate to the location of the Core with <code>.BIT</code> extension, select it and press ENTER.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If all goes well, after a few seconds, the core will be loaded into the FPGA and then the FPGA will be restarted to execute it.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_spi_flash_memory">SPI Flash Memory</h4>
<div class="paragraph">
<p>There are 27 spaces where you can store cores, with the first spaces being reserved for the main ZX Spectrum (this doesn&#8217;t prevent having more ZX Spectrum cores in other spaces as well of the first ones).</p>
</div>
<div class="paragraph">
<p>Official cores are <a href="https://github.com/zxtres/cores">available to download</a> from GitHub repository.</p>
</div>
<div class="paragraph">
<p>To update or install a new core in the SPI Flash there are several possibilities.</p>
</div>
<div class="paragraph">
<p>The first options is to obtain the latest version of the files that define the core. If the space used is greater than 1179648 bytes it must be split accordingly into several files. Each of these pieces must be a file called <code>COREXXy.ZX3</code> where <code>XX</code> is <em>always</em> a two digit number. The <code>y</code> part of the name is ignored so you can use longer and more descriptive names (for example <code>CORE04_example_part1.ZX3</code>).</p>
</div>
<div class="paragraph">
<p>Copy the files to the root of the microSD card, power on and press <code>F2</code> to enter the BIOS. Choose <code>Upgrade</code>, select the row corresponding to the chosen core space (for example 4), press enter and then <em>" SD file "</em>. The system reads the file <code>COREnn ..</code> and notifies you when it&#8217;s updated. However, first it asks for the name (to be shown in the list to choose from at startup and in the BIOS list). For cores using more than one space, typically the name of the core is only used for the first space and the remaining spaces are registered with some text warning not to use them. After it&#8217;s installed you can use the core on boot by choosing the first space used by the core.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The main ZX Spectrum core update is exactly the same as other cores but for the first part instead of the name <code>CORE1.ZXX</code> it must be a file called <code>SPECTRUM.ZX3</code> with a special format.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_esxdos_2">esxDOS</h3>
<div class="paragraph">
<p>To update esxDOS to a new version the distribution must be obtained from <a href="https://www.esxDOS.org">the official website</a>.</p>
</div>
<div class="paragraph">
<p>After you&#8217;ve downloaded and extracted the <code>ZIP</code> archive, the contents of the <code>BIN</code> and <code>SYS</code> folders must be copied to the root of the microSD card partition merging with the existing ones (to preserve the exclusive ZXTRES commands).</p>
</div>
<div class="paragraph">
<p>Copy <code>ESXMMC.BIN</code> (or <code>ESXMMC.ROM</code> depending on version) to the root of the microSD card.</p>
</div>
<div class="paragraph">
<p>Power on the ZXTRES with the microSD card inserted and press <code>F2</code> to access BIOS setup. Select the <code>Upgrade</code> menu and choose <em>"Upgrade esxdos for ZX"</em>. In the dialog that appears choose <em>"SD file"</em> and when it asks <em>"Load from SD"</em> answer <em>"Yes"</em> to the question <em>"Are you sure?"</em>. The content of the file <code>ESXDOS&#8230;&#8203;</code> is read and written to the flash storage and you are notified when it&#8217;s updated.</p>
</div>
<div class="paragraph">
<p>Do a hard reset or power cycle the ZXTRES.</p>
</div>
<div class="paragraph">
<p>If everything was done correctly, when you start the ZX Spectrum core you&#8217;ll see esxDOS detect the microSD card and load the required components to work, showing the new version at the top.</p>
</div>
</div>
<div class="sect2">
<h3 id="_flash_memory">Flash Memory</h3>
<div class="paragraph">
<p>You also can update all FPGA flash memory. At this moment from the BIOS you can only use 16MiB image files. To use a 32MiB image you must use <a href="#_esxdos">esxdos</a> <code>UPGRZXD</code> command and a file called <code>FLASH.ZXD</code>.</p>
</div>
<div class="paragraph">
<p>Copy the image file (16MiB) <code>FLASH.ZX3</code> to the root of the microSD card.</p>
</div>
<div class="paragraph">
<p>Power on the ZXTRES and press the <code>F2</code> key during boot to access the BIOS setup. Select the menu <code>Upgrade</code> and then choos the option <em>"Upgrade flash from SD"</em>. Press Enter choose <code>Yes</code> and press Enter again to start the Flash writing process.</p>
</div>
<div class="paragraph">
<p>Do a Hard-Reset or power cycle the ZXTRES.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This process can&#8217;t be undone and it replaces all previously installed cores, the BIOS, the ZX Spectrum ROMs and their configuration with the data in the image file.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_cores">Other cores</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_amiga_minimig_aga">Amiga minimig AGA</h3>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Commodore_Amiga" class="bare">https://en.wikipedia.org/wiki/Commodore_Amiga</a> [Commodore Amiga] was a personal computer marketed by Commodore International between 1985 and 1994. It was very popular due to its price and multimedia capabilities. Its system is unique in that it was the first multitasking and multimedia computer aimed at the general public.</p>
</div>
<div class="paragraph">
<p>The ZXTRES core is based on minimig (short for Mini Amiga), which is an open source re-implementation originally authored by Dennis van Weeren. The AGA variant has been updated with AGA chipset capabilities, allowing it to emulate newer Amiga models.</p>
</div>
<div class="paragraph">
<p>Some core characteristics are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Chipset variants : OCS, ECS, AGA</p>
</li>
<li>
<p>chipRAM : 0.5MB - 2.0MB, SlowRAM : 0.0MB - 1.5MB and fastRAM : 0.0MB - 24MB</p>
</li>
<li>
<p>CPU : 68000, 68010, 68020</p>
</li>
<li>
<p>Kickstart support : 1.2 - 3.1</p>
</li>
<li>
<p>HRTmon</p>
</li>
<li>
<p>1-4 floppies with normal and turbo speeds</p>
</li>
<li>
<p>1-2 hard disk images</p>
</li>
<li>
<p>VGA video output emulating: PAL / NTSC</p>
</li>
<li>
<p>PS/2 mouse support</p>
</li>
<li>
<p>Only Sigma-Delta audio</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_microsd_card_format">microSD card format</h4>
<div class="paragraph">
<p>A microSD card, with the first partition in FAT32 format, should be used to store all the necessary files. The <code>832OSDAD.BIN</code> file available at <a href="https://github.com/zxtres/cores/tree/main/minimig">ZXTRES cores repository</a> should be copied to the root of the microSD card, together with an Amiga <a href="https://es.wikipedia.org/wiki/Kickstart" class="bare">https://es.wikipedia.org/wiki/Kickstart</a> [Kickstart] ROM file, named as <code>KICK.ROM</code>.</p>
</div>
<div class="paragraph">
<p>Optionally, to display an animation at the start of the core, you can also copy to the root the files <code>minimig.art</code>,<code>minimig.bal</code> and <code>minimig.cop</code> which can be obtained from the <a href="https://retroramblings.net/?page_id=1422">official Minimig AGA page for Turbo Chameleon 64</a>.</p>
</div>
<div class="paragraph">
<p>It is also interesting to copy floppy disk image files (<code>ADF</code>) and/or <a href="https://www.winuae.net">WinUAE</a> virtual hard disk files (<code>HDF</code>) to the microSD.</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the Amiga (minimig) core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_2">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_2">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>F12</code>: show and hide the core control menu.</p>
</li>
<li>
<p><code>Bloq. Num.</code>: Turn on or off the use of the numeric keypad as a mouse.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_2">Overview</h4>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with different core options. Cursor keys and <code>Enter</code> to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/minimig.jpg" alt="minimig"></span></p>
</div>
<div class="paragraph">
<p>These are the main ones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>df0</code>, <code>df1</code>, and so on: To select an <code>ADF</code> floppy disk image.</p>
</li>
<li>
<p>Floppy Disk Settings: For setting the number of floppy disks and other options.</p>
</li>
<li>
<p>Primary Hard Disk: To configure where the primary disk data is located (usually an <code>HDF</code> file).</p>
</li>
<li>
<p>Secondary Hard Disk <code>Secondary Hard Disk</code>: To configure where the data on the secondary disk is located.</p>
</li>
<li>
<p>Exit`: Exits the configuration menu.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using the arrow keys on your keyboard you can access more configuration options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Load Configuration</code>: To load configuration data saved previously</p>
</li>
<li>
<p><code>Save Configuration: To save the current configuration. If this is done in the default space (`default</code>), it is the one that will be used every time the core is started.</p>
</li>
<li>
<p><code>Chipset Settings</code>: Here you can choose the CPU, turbo mode, video type (PAL or NTSC), Chipset to simulate.</p>
</li>
<li>
<p><code>Memory Settings`</code>: To configure the different amounts of RAM memory, as well as the ROM file to be used.</p>
</li>
<li>
<p><code>Video Settings`</code>: To activate or deactivate video filters, deinterlacing, etc.</p>
</li>
<li>
<p><code>Reset</code>: Resets the core to the default settings.</p>
</li>
<li>
<p><code>Reboot</code>: Reboot the core with the current settings.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_amstrad_cpc_464">Amstrad CPC 464</h3>
<div class="paragraph">
<p>The <a href="https://en.wikipedia.org/wiki/Amstrad_CPC#CPC_464">Amstrad CPC 464</a> was the first of a series of 8-bit home computers produced by Amstrad. The ZX-Uno version has been <a href="https://www.zxuno.com/forum/viewtopic.php?f=59&amp;t=1346">made by McLeod</a>.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/zxtres/jupiter_ace">ZXTRES core</a> has been developed by McLeod, starting from the <a href="https://zxuno.com/forum/viewtopic.php?f=40&amp;t=75&amp;p=539">original version for ZX-Uno</a>, mainly as a documented example of how to port cores to ZXTRES.</p>
</div>
<div class="paragraph">
<p>Core features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>32KB ROM.</p>
</li>
<li>
<p>64KB RAM.</p>
</li>
<li>
<p>AY-3-8912 sound chip.</p>
</li>
<li>
<p>Colour module as described in <a href="https://worldradiohistory.com/UK/Electronics-Today-UK/80s/Electronics-Today-1984-04.pdf">Electronics Today UK</a>, expanded with programmable border colour.</p>
</li>
<li>
<p>DisplaPort video output.</p>
</li>
<li>
<p>RGB PAL video output (using the VGA port).</p>
</li>
<li>
<p>Support for one controller</p>
</li>
<li>
<p>Tape loading using the audio input.</p>
</li>
<li>
<p>VGA video output (50 Hz).</p>
</li>
<li>
<p>Writable ROM memory (to install alternate ROMs).</p>
</li>
<li>
<p>I<sup>2</sup>S and Sigma-Delta audio</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_sd_card_format">SD card format</h4>
<div class="paragraph">
<p>This core does not use the SD card.</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the Amstrad CPC core</a> on the ZXTRES.</p>
</div>
<div class="sect4">
<h5 id="_special_keys_and_buttons_3">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Del</code>: <code>CLR</code>.</p>
</li>
<li>
<p><code>Home</code> : Scanlines on/off</p>
</li>
<li>
<p><code>End</code>: Select one of the monochrome colour modes.</p>
</li>
<li>
<p><code>Print Scr</code> or <code>Left Windows</code>: <code>COPY</code></p>
</li>
<li>
<p><code>Scroll Lock</code>: Switches between RGB (PAL) video mode and VGA (DisplayPort is always active).</p>
</li>
<li>
<p><code>Ctrl+Alt+Delete</code>: Soft Reset (resets the Core)</p>
</li>
<li>
<p><code>Ctrl+Alt+Backspace</code>: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_3">Overview</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/cpc464.png" alt="cpc464"></span></p>
</div>
<div class="paragraph">
<p>When using BASIC, you can load a external tape or other external audio device with the command <code>RUN"</code>.
Unlike the original machine, you can hear the audio while playing the tape.</p>
</div>
<div style="page-break-after: always;"></div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_arcade_capcom_play_system_1">Arcade (Capcom Play System 1)</h3>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/CP_System">CP System</a>, CPS-1, or Capcom Play System 1 is an arcade system board made by Capcom, which was used for several arcade systems.</p>
</div>
<div class="paragraph">
<p>The ZXTRES core has been made by somhic, adapting the <a href="https://github.com/jotego/jtcps">original version by Jotego</a>.</p>
</div>
<div class="paragraph">
<p>Some core features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Real controller and keyboard-emulated controller support.</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>VGA video output.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_sd_card_format_2">SD card format</h4>
<div class="paragraph">
<p>The core needs files with the original arcade machine chips <a href="https://en.wikipedia.org/wiki/ROM_image">ROM images</a>, merged into a single .ROM file, together with at least one .ARC file containing the name of the ROM file to be loaded, as well as the configuration of the <a href="https://en.wikipedia.org/wiki/DIP_switch">DIP switches</a> configuration for the original machine.</p>
</div>
<div class="paragraph">
<p>Both ROM and ARC files can be created using <a href="#_mra_tool">MRA Tool</a>, taking as reference the MRA files available in the original core <a href="https://github.com/jotego/jtbin/tree/master/mra">creator&#8217;s repository</a>.</p>
</div>
<div class="paragraph">
<p>ARC and ROM files can be placed anywhere in the microSD card.</p>
</div>
<div class="sect4">
<h5 id="_special_keys_and_buttons_4">Special keys and buttons</h5>
<div class="ulist">
<ul>
<li>
<p><code>F12</code>: display the core control menu</p>
</li>
<li>
<p>Cursor or controller 1: Player 1 directional controls</p>
</li>
<li>
<p><code>Ctrl</code>, <code>Alt</code> and <code>Space</code> or Controller 1: Player one buttons 1, 2 and 3</p>
</li>
<li>
<p><code>Z</code>, <code>X</code>, <code>C</code> or controller 1: Player one buttons 4, 5, 6</p>
</li>
<li>
<p><code>R</code>,<code>F</code>,<code>G</code>,<code>D</code> or controller 2: Player two movement</p>
</li>
<li>
<p><code>A</code>, <code>S</code> and <code>Q</code> or controller 2: Player two buttons 1, 2 and 3</p>
</li>
<li>
<p><code>W</code>, <code>I</code>, <code>K</code> or controller 2: Player two buttons 4, 5, 6</p>
</li>
<li>
<p><code>1</code> and <code>2</code>: to start game player 1 or player 2</p>
</li>
<li>
<p><code>5</code> and <code>6</code>: to insert a coin</p>
</li>
<li>
<p><code>P</code> : Pause</p>
</li>
<li>
<p><code>F3</code>: Soft Reset (restarts the Core)</p>
</li>
<li>
<p><code>F12</code> (long press): Toggle between RGB and VGA mode</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_4">Overview</h4>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with the different core options. Cursor keys or the controller to choose menu options and <code>Enter</code> or the controller button 1 to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/jtcps1.jpg" alt="jtcps1"></span></p>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Load ARC`</code>: To load an ARC file from the microSD card.</p>
</li>
<li>
<p><code>Rotate Controls</code>: To rotate the text of the options menu, as well as the behavior of the directional controls.</p>
</li>
<li>
<p><code>Video Mode</code>: Only for VGA video output, to select different filters to the image.</p>
</li>
<li>
<p><code>Sensitivity</code>: Adjusts the sensitivity.</p>
</li>
<li>
<p><code>DIP Switches</code>: Access to view and modify the state of the DIP switches defined in the ARC file.</p>
</li>
<li>
<p><code>Turbo</code>: Enables or disables turbo mode.</p>
</li>
<li>
<p><code>Original Filter</code>: Applies (if defined) the original filter of the ROMs in use at that moment.</p>
</li>
<li>
<p><code>Reset</code>: Soft Reset (resets the Core).</p>
</li>
<li>
<p><code>Exit</code>: Closes the options menu.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_arcade_double_dragon">Arcade (Double Dragon)</h3>
<div class="paragraph">
<p>Double Dragon is a <a href="https://en.wikipedia.org/wiki/Double_Dragon_(video_game)">video game released for arcade machines</a> in 1987, developed by Technos Japan.</p>
</div>
<div class="paragraph">
<p>The ZXTRES core has been made by somhic, adapting the <a href="https://github.com/jotego/jtdd">original version by Jotego</a>.</p>
</div>
<div class="paragraph">
<p>Some core features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Real controller and keyboard-emulated controller support.</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>VGA video output.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_sd_card_format_3">SD card format</h4>
<div class="paragraph">
<p>The core needs files with the original arcade machine chips <a href="https://en.wikipedia.org/wiki/ROM_image">ROM images</a>, merged into a single .ROM file, together with at least one .ARC file containing the name of the ROM file to be loaded, as well as the configuration of the <a href="https://en.wikipedia.org/wiki/DIP_switch">DIP switches</a> configuration for the original machine.</p>
</div>
<div class="paragraph">
<p>Both ROM and ARC files can be created using <a href="#_mra_tool">MRA Tool</a>, taking as reference the MRA files available in the original core <a href="https://github.com/jotego/jtbin/blob/master/mra/Double%20Dragon%20(Japan).mra">creator&#8217;s repository</a>.</p>
</div>
<div class="paragraph">
<p>ARC and ROM files can be placed anywhere in the microSD card. However, if there&#8217;s a directory named JOTEGO directory in the root of the card, and inside there are the ARC file named as JTDD.ARC, together with the corresponding ROM file, both will be loaded automatically when the core starts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_3">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_5">Special keys and buttons</h5>
<div class="ulist">
<ul>
<li>
<p><code>F12</code>: display the core control menu</p>
</li>
<li>
<p>Cursor or controller 1: Player 1 directional controls</p>
</li>
<li>
<p><code>Ctrl</code>, <code>Alt</code> and <code>Space</code> or Controller 1: Player one buttons 1, 2 and 3</p>
</li>
<li>
<p><code>R</code>,<code>F</code>,<code>G</code>,<code>D</code> or controller 2: Player two movement</p>
</li>
<li>
<p><code>A</code>, <code>S</code> and <code>Q</code> or controller 2: Player two buttons 1, 2 and 3</p>
</li>
<li>
<p><code>1</code> and <code>2</code>: to start game player 1 or player 2</p>
</li>
<li>
<p><code>5</code> and <code>6</code>: to insert a coin</p>
</li>
<li>
<p><code>P</code> : Pause</p>
</li>
<li>
<p><code>F3</code>: Soft Reset (restarts the Core)</p>
</li>
<li>
<p><code>F12</code> (long press): Toggle between RGB and VGA mode</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_5">Overview</h4>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with the different core options. Cursor keys or the controller to choose menu options and <code>Enter</code> or the controller button 1 to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/jtdd.jpg" alt="jtdd"></span></p>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Load ARC`</code>: To load an ARC file from the microSD card.</p>
</li>
<li>
<p><code>Video Mode</code>: Only for VGA video output, to select different filters to the image.</p>
</li>
<li>
<p><code>Pause</code>: Enters and exits pause mode.</p>
</li>
<li>
<p><code>DIP Switches</code>: Access to view and modify the state of the DIP switches defined in the ARC file.</p>
</li>
<li>
<p><code>Turbo</code>: Enables or disables turbo mode.</p>
</li>
<li>
<p><code>Reset</code>: Soft Reset (resets the Core).</p>
</li>
<li>
<p><code>Exit</code>: Closes the options menu.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_arcade_kicker">Arcade (Kicker)</h3>
<div class="paragraph">
<p>Kicker (or Shao-lin&#8217;s Road) is a <a href="https://en.wikipedia.org/wiki/Shao-lin&#8217;s_Road">video game released for arcade machines</a> in 1985, by Konami.</p>
</div>
<div class="paragraph">
<p>The ZXTRES core has been made by somhic, adapting the <a href="https://github.com/jotego/jtkicker">original version by Jotego</a>.</p>
</div>
<div class="paragraph">
<p>Some core features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Real controller and keyboard-emulated controller support.</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>The video output keeps the original orientation.</p>
</li>
<li>
<p>VGA video output.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_sd_card_format_4">SD card format</h4>
<div class="paragraph">
<p>The core needs files with the original arcade machine chips <a href="https://en.wikipedia.org/wiki/ROM_image">ROM images</a>, merged into a single .ROM file, together with at least one .ARC file containing the name of the ROM file to be loaded, as well as the configuration of the <a href="https://en.wikipedia.org/wiki/DIP_switch">DIP switches</a> configuration for the original machine.</p>
</div>
<div class="paragraph">
<p>Both ROM and ARC files can be created using <a href="#_mra_tool">MRA Tool</a>, taking as reference the MRA files available in the original core <a href="https://github.com/jotego/jtbin/blob/master/mra/Kicker.mra">creator&#8217;s repository</a>.</p>
</div>
<div class="paragraph">
<p>ARC and ROM files can be placed anywhere in the microSD card. However, if there&#8217;s a directory named JOTEGO directory in the root of the card, and inside there are the ARC file named as JKICKER.ARC, together with the corresponding ROM file, both will be loaded automatically when the core starts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_4">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_6">Special keys and buttons</h5>
<div class="ulist">
<ul>
<li>
<p><code>F12</code>: display the core control menu</p>
</li>
<li>
<p>Cursor or controller 1: Player directional controls</p>
</li>
<li>
<p><code>Ctrl</code>, <code>Alt</code> and <code>Space</code> or Controller 1: Player buttons 1, 2 and 3</p>
</li>
<li>
<p><code>1</code> and <code>2</code>: to start game one or two player games</p>
</li>
<li>
<p><code>5</code> and <code>6</code>: to insert a coin</p>
</li>
<li>
<p><code>P</code> : Pause</p>
</li>
<li>
<p><code>F3</code>: Soft Reset (restarts the Core)</p>
</li>
<li>
<p><code>F12</code> (long press): Toggle between RGB and VGA mode</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_6">Overview</h4>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with the different core options. Cursor keys or the controller to choose menu options and <code>Enter</code> or the controller button 1 to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/jtkicker.jpg" alt="jtkicker"></span></p>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Load ARC`</code>: To load an ARC file from the microSD card.</p>
</li>
<li>
<p><code>Rotate Controls</code>: To rotate the text of the options menu, as well as the behavior of the directional controls.</p>
</li>
<li>
<p><code>Video Mode</code>: Only for VGA video output, to select different filters to the image.</p>
</li>
<li>
<p><code>DIP Switches</code>: Access to view and modify the state of the DIP switches defined in the ARC file.</p>
</li>
<li>
<p><code>Reset</code>: Soft Reset (resets the Core).</p>
</li>
<li>
<p><code>Exit</code>: Closes the options menu.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_arcade_pang">Arcade (Pang)</h3>
<div class="paragraph">
<p>The <a href="https://en.wikipedia.org/wiki/Buster_Bros" class="bare">https://en.wikipedia.org/wiki/Buster_Bros</a>.[arcade version of Pang], known as Pang! and Pomping World is a one or two player game designed by Mitchell Corporation in 1989.</p>
</div>
<div class="paragraph">
<p>The ZXTRES core has been made by somhic, adapting the <a href="https://github.com/jotego/jtpang">original version by Jotego</a>.</p>
</div>
<div class="paragraph">
<p>Some core features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Real controller and keyboard-emulated controller support.</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>VGA video output.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_sd_card_format_5">SD card format</h4>
<div class="paragraph">
<p>The core needs files with the original arcade machine chips <a href="https://en.wikipedia.org/wiki/ROM_image">ROM images</a>, merged into a single .ROM file, together with at least one .ARC file containing the name of the ROM file to be loaded, as well as the configuration of the <a href="https://en.wikipedia.org/wiki/DIP_switch">DIP switches</a> configuration for the original machine.</p>
</div>
<div class="paragraph">
<p>Both ROM and ARC files can be created using <a href="#_mra_tool">MRA Tool</a>, taking as reference the MRA files available in the original core <a href="https://github.com/jotego/jtbin/blob/master/mra/Pang%20(World).mra">creator&#8217;s repository</a>.</p>
</div>
<div class="paragraph">
<p>ARC and ROM files can be placed anywhere in the microSD card. However, if there&#8217;s a directory named JOTEGO directory in the root of the card, and inside there are the ARC file named as JTPANG.ARC, together with the corresponding ROM file, both will be loaded automatically when the core starts.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_5">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_7">Special keys and buttons</h5>
<div class="ulist">
<ul>
<li>
<p><code>F12</code>: display the core control menu</p>
</li>
<li>
<p>Cursor or controller 1: Player 1 directional controls</p>
</li>
<li>
<p><code>Ctrl</code> or Controller 1 button 1: Player one button</p>
</li>
<li>
<p><code>R</code>,<code>F</code>,<code>G</code>,<code>D</code> or controller 2: Player two movement</p>
</li>
<li>
<p><code>A</code> or controller 2 button 1: Player two button</p>
</li>
<li>
<p><code>1</code> and <code>2</code>: to start one player or two player game</p>
</li>
<li>
<p><code>5</code>: to insert a coin</p>
</li>
<li>
<p><code>P</code> : Pause</p>
</li>
<li>
<p><code>F3</code>: Soft Reset (restarts the Core)</p>
</li>
<li>
<p><code>F12</code> (long press): Toggle between RGB and VGA mode</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_7">Overview</h4>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with the different core options. Cursor keys or the controller to choose menu options and <code>Enter</code> or the controller button 1 to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/jtpang.jpg" alt="jtpang"></span></p>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Load ARC`</code>: To load an ARC file from the microSD card.</p>
</li>
<li>
<p><code>Rotate Controls</code>: To rotate the text of the options menu, as well as the behavior of the directional controls.</p>
</li>
<li>
<p><code>Video Mode</code>: Only for VGA video output, to select different filters to the image.</p>
</li>
<li>
<p><code>Test Mode</code>: To enable or disable test mode</p>
</li>
<li>
<p><code>Pause</code>: Enters and exits pause mode.</p>
</li>
<li>
<p><code>DIP Switches</code>: Access to view and modify the state of the DIP switches defined in the ARC file.</p>
</li>
<li>
<p><code>Reset</code>: Soft Reset (resets the Core).</p>
</li>
<li>
<p><code>Exit</code>: Closes the options menu.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_atari_2600">Atari 2600</h3>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Atari_2600">Atari 2600</a>  is a home video game console originally branded as the Atari Video Computer System (Atari VCS).</p>
</div>
<div class="paragraph">
<p>ZXTRES core version is developed by avlixa.</p>
</div>
<div class="paragraph">
<p>Some of the features of the core are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DisplaPort video output.</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>Support for joysticks, keyboard, mouse.</p>
</li>
<li>
<p>VGA video output.</p>
</li>
<li>
<p>Only Sigma-Delta audio.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_microsd_card_format_2">microSD card format</h4>
<div class="paragraph">
<p>You need a microSD card with the first partition in FAT16 or FAT32 format to store ROM image files of the games to load.</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the Atari 2600 core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_6">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_8">Special keys and buttons</h5>
<div class="paragraph">
<p>During the core execution:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Esc</code>: Display the core control menu.</p>
</li>
<li>
<p><code>W</code>, <code>A</code>, <code>S</code>, <code>D</code> or joystick 1: Directional controls for player 1</p>
</li>
<li>
<p><code>F</code> or joystick 1 fire button: Player 1 fire button</p>
</li>
<li>
<p><code>I</code>, <code>J</code>, <code>K</code>, <code>L</code> or joystick 2: Directional controls for player 2</p>
</li>
<li>
<p><code>H</code> or joystick 2 fire button: Player 2 fire button</p>
</li>
<li>
<p><code>Scroll Lock</code>: change between RGB and VGA video mode</p>
</li>
<li>
<p><code>F11</code> or <code>Ctrl+Alt+Backspace</code>: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_8">Overview</h4>
<div class="paragraph">
<p>Pressing <code>Esc</code> or joystick button 2 shows or hides the configuration menu. Cursor keys and <code>Enter</code> to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/a2600.jpg" alt="a2600"></span></p>
</div>
<div class="paragraph">
<p>The following options are available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reset core</p>
</li>
<li>
<p>Scanlines</p>
</li>
<li>
<p>RGB Mode (PAL/NTSC)</p>
</li>
<li>
<p>Color</p>
</li>
<li>
<p>Difficulty A</p>
</li>
<li>
<p>Difficulty B</p>
</li>
<li>
<p>Select</p>
</li>
<li>
<p>Start</p>
</li>
<li>
<p>Load ROM</p>
</li>
<li>
<p>Joystick</p>
</li>
<li>
<p>Paddle Accuracy</p>
</li>
<li>
<p>Exit</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_colecovision">ColecoVision</h3>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/ColecoVision">ColecoVision</a> is Coleco Industries' home video-game console that was released in August 1982.</p>
</div>
<div class="paragraph">
<p>The ZXTRES core is based on <a href="https://github.com/fbelavenuto/colecofpga">ZX-Uno version</a> by Fabio Belavenuto.</p>
</div>
<div class="paragraph">
<p>Some characteristics of this core are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>BIOS ROM is loaded from microSD card.</p>
</li>
<li>
<p>Supports multicart ROM also loaded from microSD.</p>
</li>
<li>
<p>VGA video output.</p>
</li>
<li>
<p>Only Sigma-Delta audio.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_microsd_card_format_3">microSD card format</h4>
<div class="paragraph">
<p>To store ROM image (games) and other files, use a microSD card with the first partition in FAT16 or FAT32 format.</p>
</div>
<div class="paragraph">
<p>They can be downloaded from <a href="https://github.com/fbelavenuto/colecofpga/tree/master/SD_Card">the original project in GitHub</a>.</p>
</div>
<div class="paragraph">
<p>After copying the files to the microSD card you must add also the file <code>MULTCART.ROM</code> that can be downloaded from <a href="https://t.me/zxtresfpga" class="bare">https://t.me/zxtresfpga</a>.</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the Colecovision core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_7">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_9">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'Esc': Soft reset (restart the core).</p>
</li>
<li>
<p><code>0</code> to <code>9</code>: Button 0 to 9 for player 1 and player 2.</p>
</li>
<li>
<p>Cursor or <code>Q</code>, <code>A</code>, <code>E</code>, <code>R</code> or left controller directions: Directional controls for player 1.</p>
</li>
<li>
<p><code>U</code>, <code>J</code>, <code>O</code>, <code>P</code> or right controller directions: Directional controls for player 2.</p>
</li>
<li>
<p><code>Z</code> or controller button <code>A</code>: Main fire button <code>1</code> for player 1.</p>
</li>
<li>
<p><code>M</code> or controller button <code>B</code>: Main fire button <code>1</code> for player 2.</p>
</li>
<li>
<p><code>X</code> or controller button <code>A</code>: Secondary fire button <code>1</code> for player 1 and player 2.</p>
</li>
<li>
<p><code>T</code>: Button '*'.</p>
</li>
<li>
<p><code>Y</code>: Button '#'.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_9">Overview</h4>
<div class="paragraph">
<p>On startup the BIOS ROM is loaded from the microSD card and then the multicart ROM.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/coleco.jpg" alt="coleco"></span></p>
</div>
<div class="paragraph">
<p>From the multicart menu use the directional controls to choose a ROM and then push button <code>A</code> to load. Pressing 'Esc' restarts the core and reloads the ROM selection menu.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_elan_enterprise">Elan Enterprise</h3>
<div class="paragraph">
<p>The <a href="https://es.wikipedia.org/wiki/Enterprise_128">Enterprise</a> was a home computer developed by the British company Intelligent Software and marketed by Enterprise Computers from 1983.</p>
</div>
<div class="paragraph">
<p>The ZXTRES version has been developed by <a href="https://github.com/Kyp069/ep">Kyp069</a>.</p>
</div>
<div class="paragraph">
<p>Some characteristics of this core are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Implements 1024 KB of RAM.</p>
</li>
<li>
<p>Support for loading a virtual disk image (.vhd file). At boot time the EP.VHD file is automatically loaded if found in the root directory of the SD card.</p>
</li>
<li>
<p>External joystick is implemented on the DB9 and internal joystick on the cursor keys, with support for two trigger buttons.</p>
</li>
<li>
<p>Only Sigma-Delta audio.</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>VGA video output.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_microsd_card_format_4">microSD card format</h4>
<div class="paragraph">
<p>A microSD card, with the first partition in FAT16 or FAT32 format, should be used to store the ROM file and the virtual disk images you wish to use.</p>
</div>
<div class="paragraph">
<p>The ROM file should be copied to the root directory of the SD card as <code>ep.rom</code>. Furthermore it is also prepared to work with .VHD (disk image) files, such as the one available with <a href="https://www.retrowiki.es/viewtopic.php?f=110&amp;t=200039549" class="bare">https://www.retrowiki.es/viewtopic.php?f=110&amp;t=200039549</a> [the ZX-Uno distributions from desubikado],</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the Elan Enterprise core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_8">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_10">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>F12</code>: Display the core control menu.</p>
</li>
<li>
<p><code>F1</code>: Show the file browser if the current drive is F:. Once in the file browser, you can change partition by pressing the partition letter (F, G, H, etc).</p>
</li>
<li>
<p><code>C+F9</code>: Hard reset the core and reattach the virtual disk drive.</p>
</li>
<li>
<p><code>F9</code> or <code>Ctrl+Alt+Del</code>: Soft Reset (resets the Core).</p>
</li>
<li>
<p><code>F11</code> or <code>Ctrl+Alt+Backspace</code>: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
<li>
<p><code>F12</code> (long press): Toggle between RGB and VGA mode</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_10">Overview</h4>
<div class="paragraph">
<p>When the correct ROM file is present on the microSD card the machine is started.</p>
</div>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with the different core options. Cursor keys or the controller to choose menu options and <code>Enter</code> or the controller button 1 to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/enterprise.png" alt="enterprise"></span></p>
</div>
<div class="paragraph">
<p>These are the main ones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Available RAM</code>: Allows you to change the amount of RAM available for the core.</p>
</li>
<li>
<p><code>CPU Speed</code>: To increase or decrease the CPU speed.</p>
</li>
<li>
<p><code>Load ROM</code>: To load a ROM file.</p>
</li>
<li>
<p><code>Mount A:</code>: To mount a <code>DSK</code> disk image.</p>
</li>
<li>
<p><code>Mount SD</code>: To mount a <code>VHD</code> disk image (needs a hard reset by pressing <code>C+F9</code> for the system to start using it)</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/enterprisefile.jpg" alt="enterprisefile"></span></p>
</div>
<div class="paragraph">
<p>When a VHD disk image is mounted pressing <code>F1</code> or executing the :FILE command (<code>:</code> is obtained by pressing '), starts a file browser. Pressing another drive letter (G, H, etc) switches to it.</p>
</div>
<div class="paragraph">
<p>Executable files are <code>COM`</code>.</p>
</div>
<div class="paragraph">
<p>It is also possible to load programs without using the browser. Here is an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>:h:
:cd b
cd bricky
:load bricky.com</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_jupiter_ace">Jupiter ACE</h3>
<div class="paragraph">
<p>The <a href="https://en.wikipedia.org/wiki/Jupiter_Ace">Jupiter ACE</a> was a british micro computer produced by Jupiter Cantab in the early 1980s.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/zxtres/jupiter_ace">ZXTRES core</a> has been developed by McLeod, starting from the <a href="https://zxuno.com/forum/viewtopic.php?f=40&amp;t=75&amp;p=539">original version for ZX-Uno</a>, mainly as a documented example of how to port cores to ZXTRES.</p>
</div>
<div class="paragraph">
<p>Some characteristics of this core are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>51K user memory.</p>
</li>
<li>
<p>AY-3-8912 sound chip at ZX Spectrum 128K I/O ports.</p>
</li>
<li>
<p>Colour module as described in <a href="https://worldradiohistory.com/UK/Electronics-Today-UK/80s/Electronics-Today-1984-04.pdf">Electronics Today UK</a>, expanded with programmable border colour.</p>
</li>
<li>
<p>DisplaPort video output.</p>
</li>
<li>
<p>Readable pattern RAM.</p>
</li>
<li>
<p>RGB PAL video output (using the VGA port).</p>
</li>
<li>
<p>Tape loading using the audio input.</p>
</li>
<li>
<p>VGA video output.</p>
</li>
<li>
<p>Writable ROM memory (to install alternate ROMs).</p>
</li>
<li>
<p>I<sup>2</sup>S and Sigma-Delta audio.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_microsd_card_format_5">microSD card format</h4>
<div class="paragraph">
<p>This core does not use the SD card.</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the Jupiter ACE core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_9">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_11">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Home</code> : Scanlines on/off</p>
</li>
<li>
<p><code>End</code>: Select one of the monochrome colour modes.</p>
</li>
<li>
<p><code>Scroll Lock</code>: Switches between RGB (PAL) video mode and VGA (DisplayPort is always active).</p>
</li>
<li>
<p><code>Ctrl+Alt+Delete</code>: Soft Reset (resets the Core)</p>
</li>
<li>
<p><code>Ctrl+Alt+Backspace</code>: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_11">Overview</h4>
<div class="paragraph">
<p>From within Forth, you can load from a external tape or other external audio device with the comand <code>LOAD &lt;nombre&gt;</code>.</p>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Jupiter ACE <code>TAP</code> files are different from ZX Spectrum files, and, to be used with some players, they have to be previously converted to <code>TZX</code> with the <code>acetap2zx</code> utility available at <a href="https://guest:zxuno@svn.zxuno.com/svn/zxuno/software/jupiter_ace/utils">ZX-Uno repository</a> (User <code>guest</code>, password <code>zxuno</code>).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Once the tape has finished loading, type the corresponding command to start the program.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of BASIC like other systems, Jupiter ACE uses <a href="https://en.wikipedia.org/wiki/Forth">Forth</a>. To see the commands currently available (including those that will start a program loaded from tape, you have to type <code>vlist</code>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/ace_vlist.png" alt="ace vlist"></span></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_neo_geo">Neo-Geo</h3>
<div class="paragraph">
<p><a href="https://es.wikipedia.org/wiki/Neo-Geo">Neo-Geo</a> is the name of a 16-bit cartridge-based system for arcade as well as home video game consoles released in 1990 by the Japanese video game company SNK. The Neo-Geo system was created as both a platform for arcade machines (MVS or Multi Video System) and as a home game console (AES or Advanced Entertainment System).</p>
</div>
<div class="paragraph">
<p>The ZXTRES version (by somhi) is based on the <a href="https://github.com/robinsonb5/NeoGeo_FPGA">DeMiStified version</a> of the <a href="https://github.com/MiSTer-devel/NeoGeo_MiSTer">original version for MiSTer FPGA</a>.</p>
</div>
<div class="paragraph">
<p>Some core characteristics are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Compatible with Sega Mega Drive (Genesis) controllers.</p>
</li>
<li>
<p>MVS and AES support.</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>Support for ROMS (not encrypted) in <a href="https://wiki.terraonion.com/index.php/Neobuilder_Guide"><code>NEO</code> format</a>.</p>
</li>
<li>
<p>Support for <a href="http://unibios.free.fr/download.html">Universe BIOS</a>.</p>
</li>
<li>
<p>I<sup>2</sup>S and Sigma-Delta audio.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_microsd_card_format_6">microSD card format</h4>
<div class="paragraph">
<p>To store the ROM image files, use a microSDcard with the first partition in FAT16 or FAT32 format.</p>
</div>
<div class="paragraph">
<p>After the files have been copied to the microSD card, you need a BIOS (for example <a href="http://unibios.free.fr/download.html">Universe BIOS</a>), with the name <code>neogeo.rom</code>, in the root.</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the Neo-Geo core</a> on the ZXTRES.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_keyboard_10">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_12">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>F12</code> displays the core control menu.</p>
</li>
<li>
<p>Cursor or a controller connected to the left port: Player 1 direction controls.</p>
</li>
<li>
<p><code>Right Ctrl</code> or controller 1 button <code>A</code>: Player 1 button <code>A</code>.</p>
</li>
<li>
<p><code>Right Alt</code> or controller 1 button <code>B</code>: Player 1 button <code>B</code>.</p>
</li>
<li>
<p><code>Right Win</code> or controller 1 button <code>C</code>: Player 1&#8217;s button C.</p>
</li>
<li>
<p><code>Right Shift</code> or controller 1 button <code>D</code>: Player 1&#8217;s D button.</p>
</li>
<li>
<p><code>5</code>: Insert coin for player 1 (MVS).</p>
</li>
<li>
<p><code>Start</code>: Start button of player 1.</p>
</li>
<li>
<p><code>W</code>, <code>A</code>, <code>S</code>, <code>D</code> or a controller connected to the right port: Player 2 Directional Controls.</p>
</li>
<li>
<p><code>Left Ctrl</code> or controller 2 button <code>A</code>: Player 2&#8217;s A button.</p>
</li>
<li>
<p><code>Left Alt</code> or controller 2 button  <code>B</code>: Player 2&#8217;s B button.</p>
</li>
<li>
<p><code>Left Win</code> or controller 2 button <code>C</code>: Player 2&#8217;s button C.</p>
</li>
<li>
<p><code>Left Shift</code> or controller 2 button <code>D</code>: Player&#8217;s D button 2.</p>
</li>
<li>
<p><code>6</code>: Insert coin for player 2 (MVS).</p>
</li>
<li>
<p><code>Caps Lock</code>: Start button of player 2.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_12">Overview</h4>
<div class="paragraph">
<p>When the correct files are present on the microSD card and the core is started, a blank screen is displayed.</p>
</div>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with the different core options. Cursor keys or the controller to choose menu options and <code>Enter</code> or the controller button 1 to select and choose menu options.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/neogeo.jpg" alt="neogeo"></span></p>
</div>
<div class="paragraph">
<p>These are the main ones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Load Cart</code>: To load from the microSD card a .neo file.</p>
</li>
<li>
<p><code>Load Cart (skip ADPCM)</code>.</p>
</li>
<li>
<p><code>Load BIOS</code>: To load from the microSD card a BIOS file other than <code>neogeo.rom</code>.</p>
</li>
<li>
<p><code>Load Memory Card</code>.</p>
</li>
<li>
<p><code>Save Memory Card</code>.</p>
</li>
<li>
<p><code>Mount CD</code>: Currently unavailable.</p>
</li>
<li>
<p><code>System Type</code>: MVS or AES</p>
</li>
<li>
<p><code>CD Speed</code>: Currently unavailable.</p>
</li>
<li>
<p><code>CD Region</code>: Currently unavailable.</p>
</li>
<li>
<p><code>CD lid</code>: Currently unavailable.</p>
</li>
<li>
<p><code>Video Mode</code>: NTSC or PAL.</p>
</li>
<li>
<p><code>Scanlines</code>: To add a scanline effect, if desired.</p>
</li>
<li>
<p><code>Blend</code>: To activate, if desired, an image smoothing effect.</p>
</li>
<li>
<p><code>Swap Joystick</code>: To swap the controls of player 1 and player 2.</p>
</li>
<li>
<p><code>Input</code>: Currently unavailable.</p>
</li>
<li>
<p><code>[DIP]</code>: Currently unavailable.</p>
</li>
<li>
<p><code>Exit</code>: Closes the menu.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_pc_xt">PC XT</h3>
<div class="paragraph">
<p>The <a href="https://en.wikipedia.org/wiki/IBM_Personal_Computer_XT">IBM Personal Computer XT</a> or PC/XT was the second model in IBM&#8217;s PC line.</p>
</div>
<div class="paragraph">
<p>The <a href="https://github.com/zxtres/PCXT_DeMiSTify">ZXTRES core</a> has been implemented by @somhi using the <a href="https://github.com/MiSTer-devel/PCXT_MiSTer">PC XT for MiSTer FPGA</a> core by @spark2k06.</p>
</div>
<div class="paragraph">
<p>Some core characteristics are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>8088 CPU with these speed settings: 4.77 MHz, 7.16 MHz, 9.54 MHz cycle accurate, and PC/AT 286 at 3.5MHz equivalent (max. speed).</p>
</li>
<li>
<p>Audio: Adlib, Tandy, Game Blaster, Speaker.</p>
</li>
<li>
<p>CGA graphics 32kB VRAM.</p>
</li>
<li>
<p>Controller support.</p>
</li>
<li>
<p>EMS memory up to 2Mb.</p>
</li>
<li>
<p>Main memory 640Kb + 384Kb UMB memory.</p>
</li>
<li>
<p>MDA monochrome.</p>
</li>
<li>
<p>Mouse support into COM2 serial port, this works like any Microsoft mouse.</p>
</li>
<li>
<p>RGB 15 kHz video output (using the VGA port).</p>
</li>
<li>
<p>Selectable BIOS (Tandy 1000 / PCXT, IBM5160, Yuko ST, pcxt31, Tandy, micro8088, XT-IDE, &#8230;&#8203;).</p>
</li>
<li>
<p>Support for IBM Tandy 1000.</p>
</li>
<li>
<p>Support for IBM PCXT 5160 and clones</p>
</li>
<li>
<p>Tandy graphics with 128Kb of shared VRAM.</p>
</li>
<li>
<p>VGA video output.</p>
</li>
<li>
<p>XT-IDE support.</p>
</li>
<li>
<p>I<sup>2</sup>S and Sigma-Delta audio.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_microsd_card_format_7">microSD Card Format</h4>
<div class="paragraph">
<p>A microSD card, with the first partition in FAT16 or FAT32 format, should be used to store disk image and BIOS files.</p>
</div>
<div class="paragraph">
<p>For the BIOS files to load automatically, they must be in the root of the SD card with the following names:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>PCXT.ROM</code> for the PCXT BIOS.</p>
</li>
<li>
<p><code>TANDY.ROM</code> for the TANDY 1000 BIOS</p>
</li>
<li>
<p><code>XT-IDE.ROM</code> for the XT-IDE BIOS (needed to load a system from a <code>VHD</code> image).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition, it is also prepared to work with DOS file system formatted .VHD (disk image) files, such as the one available at <a href="https://github.com/MiSTer-devel/PCXT_MiSTer/raw/main/games/PCXT/hd_image.zip">the core code repository</a>.</p>
</div>
<div class="paragraph">
<p>If disk image files with the names <code>PCXT1.VHD</code> (primary IDE) and <code>PCXT2.VHD</code> (secondary IDE) are copied to the card root, they will be loaded automatically at core startup, without having use the configuration menu.</p>
</div>
<div class="paragraph">
<p>If not already present, <a href="#_cores">install or run the PC XT core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_11">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_13">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>F12</code>: Show or hide the core control menu.</p>
</li>
<li>
<p><code>F12</code> (long press): Toggle between RGB and VGA mode</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_13">Overview</h4>
<div class="paragraph">
<p>Pressing <code>F12</code> will display the menu with the different Core options. Cursor keys or the controller to choose menu options and <code>Enter</code> or the controller button 1 to select and choose menu options.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="img/pcxt_zxtres.png" alt="pcxt zxtres"></span></p>
</div>
<div class="paragraph">
<p>These are the main ones:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model</code>: To choose between PC XT and Tandy.</p>
</li>
<li>
<p><code>CPU Speed</code>: CPU speed. 4.77 MHz offers the best compatibility, 3.5 Mhz the best speed.</p>
</li>
<li>
<p><code>Mount IDE 1</code>: To mount a VHD file as primary disk.</p>
</li>
<li>
<p><code>Mount IDE 2</code>: To mount a VHD file as a secondary disk.</p>
</li>
<li>
<p><code>BIOS`</code>: To define the different BIOS types. The XT-IDE BIOS is required to load the OS from VHD disks.</p>
</li>
<li>
<p><code>Audio</code>: To indicate the audio emulation to use (Adlib, SB, etc.) as well as the volume.</p>
</li>
<li>
<p><code>Video</code>: To modify the different video options.</p>
</li>
<li>
<p><code>Exit</code>: Closes the core options menu.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_test_dp">Test DP</h3>
<div class="paragraph">
<p>The purpose of this core is to test the VGA, RGB and DisplayPort video outputs by applying different effects.</p>
</div>
<div class="paragraph">
<p>Its main characteristics are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>15 kHz RGB video output (using the VGA port).</p>
</li>
<li>
<p>DisplaPort video output.</p>
</li>
<li>
<p>Monochrome green amber white and colour modes.</p>
</li>
<li>
<p>Scanlines.</p>
</li>
<li>
<p>VGA video output.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_microsd_card_format_8">microSD card format</h4>
<div class="paragraph">
<p>This core doesn&#8217;t use the microSD card.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_12">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_14">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>1</code>: Changes the VGA output to RGB 15 kHz.</p>
</li>
<li>
<p><code>2</code>: Toggles scanlines on or off.</p>
</li>
<li>
<p><code>3</code>: Toggles the display between colour, monochrome, green, amber and white modes.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The previously mentioned effects with keys <code>2</code> and <code>3</code> are not visible on the original 15 kHz output.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_14">Overview</h4>
<div class="paragraph">
<p>When the core is started, it sends the video signal using both VGA and DisplayPort. The refresh rate is about 64 Hz.</p>
</div>
<div class="paragraph">
<p>The three LEDs on the ZXTRES board have these meanings:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The one closest to the edge should be on all the time. This is the DONE LED and it&#8217;s managed by the FPGA itself not the core.</p>
</li>
<li>
<p>The middle one indicates when lit that there&#8217;s a valid transmission link between the FPGA and the DisplayPort monitor. This means that the link is good that the training was successful and that it&#8217;s currently sending a video image to the monitor. If it&#8217;s off it means that the link could not be established (for example because the cable was removed or the monitor is switched off or perhaps because the DisplayPort input is not selected on that monitor).</p>
</li>
<li>
<p>The one on the other end should be blinking at a rate of about one blink per second. This is a "pulse" of the pixel clock indicating that both the VGA and DisplayPort outputs are generating an image. If this LED doesn&#8217;t blink no image of any kind can be seen on either VGA or DisplayPort, only RGB at 15 kHz. Under normal circumstances whether a DisplayPort monitor is plugged in or not this LED should be blinking.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_zx81">ZX81</h3>
<div class="paragraph">
<p>The <a href="https://en.wikipedia.org/wiki/ZX81">ZX81</a> was a home computer designed by Sinclair Research to be a low-cost introduction to home computing for the general public.</p>
</div>
<div class="paragraph">
<p>The ZXTRES version was made by avlixa based on Grant Searle&#8217;s ZX80 page.</p>
</div>
<div class="paragraph">
<p>Features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>8KB with CHR$128/UDG addon (not tested).</p>
</li>
<li>
<p>16k/32k/48k RAM packs.</p>
</li>
<li>
<p>Chroma 81 (colour support).</p>
</li>
<li>
<p>Controller types: Cursor, Sinclar, ZX81 and ZXpand.</p>
</li>
<li>
<p>Load alternative ROMs.</p>
</li>
<li>
<p>PAL/NTSC timings.</p>
</li>
<li>
<p>Program loading using the audio input.</p>
</li>
<li>
<p>QS CHRS (not tested).</p>
</li>
<li>
<p>RGB video output (using the VGA port).</p>
</li>
<li>
<p>Turbo in Slow mode: NoWait, x2 and x8.</p>
</li>
<li>
<p>Turbo loading of <code>O</code> and <code>P</code> files.</p>
</li>
<li>
<p>YM2149 sound chip (ZON X-81 compatible).</p>
</li>
<li>
<p>VGA video output.</p>
</li>
<li>
<p>ZX80/ZX81 selectable (ZX80 currently working only in RGB mode).</p>
</li>
<li>
<p>Only Sigma-Delta audio.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_microsd_card_format_9">microSD card format</h4>
<div class="paragraph">
<p>To store ROM and tape files, use a microSDcard with the first partition in FAT16 or FAT32 format.</p>
</div>
<div class="paragraph">
<p>You can copy a file called <code>ZX8X.ROM</code> (available at the <a href="https://github.com/avlixa/ZX81_MiSTer_zxdos/raw/master/roms/zx8x.rom">official repository</a> into folder <code>/zx81/roms</code>: it&#8217;s a concatenation of ZX81 rom (8k) + ZX80 rom (4k).</p>
</div>
<div class="paragraph">
<p>See the <a href="#_cores">corresponding section</a> for instructions on how to install the ZX81 core in ZXTRES.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_keyboard_13">Keyboard</h4>
<div class="paragraph">
<p>The PS/2 keyboard isn&#8217;t mapped and the original machine keys layout is kept. For example to obtain a <code>"</code> you must type <code>Shift+P</code> or <code>Shift+0</code> to delete.</p>
</div>
<div class="paragraph">
<p><strong>ZX80</strong></p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/keyboardZX80.jpg" alt="keyboardZX80"></span></p>
</div>
<div class="paragraph">
<p><strong>ZX81</strong></p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/keyboardZX81.jpg" alt="keyboardZX81"></span></p>
</div>
<div class="sect4">
<h5 id="_special_keys_and_buttons_15">Special keys and buttons</h5>
<div class="paragraph">
<p>When the core is active:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>F1</code>: Enable or switch off the alternative chararacters.</p>
</li>
<li>
<p><code>F5</code> or controller button <code>B</code>: Show or hide configuration menu.</p>
</li>
<li>
<p><code>F9</code>: Enable or switch off the MIC audio output (some games make annoying sounds when enabled).</p>
</li>
<li>
<p><code>F10</code>: Enable or switch off playing the audio input through the audio output to hear loading sounds while loading.</p>
</li>
<li>
<p><code>Scroll Lock</code>: Switch between RGB and VGA video output.</p>
</li>
<li>
<p><code>Ctrl+Alt+Supr</code>: Soft reset (restart the core).</p>
</li>
<li>
<p>Ctrl+Alt+Backspace`: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_15">Overview</h4>
<div class="paragraph">
<p>Press <code>F5</code> or controller button <code>A</code> to show or hide the configuration menu. Use the cursor keys and <code>Enter</code> to select menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/zx81.jpg" alt="zx81"></span></p>
</div>
<div class="paragraph">
<p>The available options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reset.</p>
</li>
<li>
<p>Load Tape.</p>
</li>
<li>
<p>Load ROM.</p>
</li>
<li>
<p>Configuration Options.</p>
</li>
<li>
<p>Exit.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/zx81_2.jpg" alt="zx81 2"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Computer Model: ZX80, ZX81.</p>
</li>
<li>
<p>Main RAM: 16K, 32K.</p>
</li>
<li>
<p>Low RAM: Off, 8KB.</p>
</li>
<li>
<p>Joystick: Cursor, Sinclair, ZX81.</p>
</li>
<li>
<p>QS CHRS: Enabled, Disabled.</p>
</li>
<li>
<p>CHR$128/UDG: 128 chars, 64 chars, Disabled.</p>
</li>
<li>
<p>Chroma81: Enabled, Disabled.</p>
</li>
<li>
<p>Inverse Video: Off, On.</p>
</li>
<li>
<p>Black Border: Off, On.</p>
</li>
<li>
<p>Slow mode speed: Original, No Wait, x2.</p>
</li>
<li>
<p>Video frequency: 50 Hz, 60 Hz.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can load a tape file selecting it from the menu then enter the command <code>LOAD""</code> and <code>Enter</code>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some monitors stop playing audio if the video signal is lost. You should connect headphones or a external speaker if you want to hear the sound while loading a tape.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>P</code> files with colourization and char are supported.</p>
</div>
<div class="paragraph">
<p>For colourization to work CHROMA81 should be enabled before loading. For alternate chars QS CHRS should be enabled before loading.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The recommended options for most games are:</p>
</div>
<div class="paragraph">
<p>Main RAM: 16KB.
Low RAM: 8KB.
CHR$128: 128 chars.
QS CHRS: Enabled.
CHROMA81: Enabled.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_zx_spectrum_3_zxp3">ZX Spectrum +3 (zxp3)</h3>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/ZX_Spectrum%23ZX_Spectrum_+3" class="bare">https://en.wikipedia.org/wiki/ZX_Spectrum%23ZX_Spectrum_+3</a></p>
</div>
<div class="paragraph">
<p>The <a href="https://es.wikipedia.org/wiki/ZX_Spectrum_128_%2B3" class="bare">https://es.wikipedia.org/wiki/ZX_Spectrum_128_%2B3</a> [ZX Spectrum +3] was manufactured by Amstrad and released in 1987. It was similar in appearance to the +2 but featured a 3-inch floppy disk drive from the tape drive, and had a black casing. It was the only Spectrum capable of running the CP/M operating system without additional hardware.</p>
</div>
<div class="paragraph">
<p>The ZXTRES version has been made by kyp069.</p>
</div>
<div class="paragraph">
<p>Features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>50 Hz VGA video output</p>
</li>
<li>
<p>Turbosound</p>
</li>
<li>
<p>Tape loading</p>
</li>
<li>
<p>Two floppy drives</p>
</li>
<li>
<p>ZXMMC disk image support</p>
</li>
<li>
<p>Kempston joystick with two trigger buttons</p>
</li>
<li>
<p>Joysticks Interface 2</p>
</li>
<li>
<p>RGB PAL video output (using the VGA port)</p>
</li>
<li>
<p>Supports any +3 compatible ROM, such as Amstrad standard ROM and Garry Lancaster&#8217;s +3e ROM</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_microsd_card_format_10">microSD Card Format</h4>
<div class="paragraph">
<p>A microSD card, with the first partition in FAT16 or FAT32 format, should be used to store the disk image or ROM files to be loaded.</p>
</div>
<div class="paragraph">
<p>The default ROM file should be copied to the root directory of the SD card as <code>zxp3.rom</code>. In addition, it is also prepared to work with a VHD (disk image) file formatted internally in the +3DOS file system, such as the one available with <a href="https://www.retrowiki.es/viewtopic.php?f=110&amp;t=200039549" class="bare">https://www.retrowiki.es/viewtopic.php?f=110&amp;t=200039549</a> [the ZX-Uno distributions from desubikado],</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the zxp3 core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_14">Keyboard</h4>
<div class="paragraph">
<p>The keyboard is not mapped to the standard PS/2 layout, and keeps the layout of the original machine. So, for example, to get <code>"</code> you have to press <code>Shift+P</code> or to delete, <code>Shift+0</code>.</p>
</div>
<div class="sect4">
<h5 id="_special_keys_and_buttons_16">Special keys and buttons</h5>
<div class="paragraph">
<p>During core execution:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>F12</code> to show or hide the menu.</p>
</li>
<li>
<p><code>Scroll Lock</code> or presssing and holding <code>F12</code> for one second: switch between RGB and VGA video mode.</p>
</li>
<li>
<p>Ctrl+Alt+Del` or <code>F9</code>: Soft Reset (resets the Core)</p>
</li>
<li>
<p>Ctrl+Alt+Backspace` or <code>F8</code>: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_16">Overview</h4>
<div class="paragraph">
<p>Press <code>F12</code> to display the menu with the different core options. Cursor keys and <code>Enter</code> to select and choose menu options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/zxp3.jpg" alt="zxp3"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Load ROM</code>: To load or change the loaded ROM</p>
</li>
<li>
<p><code>Mount drive A:</code>: To mount a DSK file to the first drive</p>
</li>
<li>
<p><code>Mount drive B:</code>: To mount a DSK file to the second drive</p>
</li>
<li>
<p><code>Mount SD:</code>: To mount a VHD file as main drive (needs a hard reset by pressing <code>C+F9</code> for the system to start using it)</p>
</li>
<li>
<p><code>Reset FPGA</code>: To reset the FPGA</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Controller 1 behaves simultaneously with Kempston protocol (with two trigger buttons) and Sinclair (1,2,3,4,5) with second trigger button (<code>z</code>). The controller connected to port 2 behaves with Sinclair protocol (6,7,8,9,0) and second trigger button (<code>x</code>).</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_zx_spectrum_next">ZX Spectrum Next</h3>
<div class="paragraph">
<p><a href="https://www.specnext.com">ZX Spectrum Next</a> is an FPGA based project, which would like to be to be the evolution of the Sinclair ZX Spectrum line of computers. It brings new features while keeping hardware and software compatibility with previous ZX Spectrum computers.</p>
</div>
<div class="paragraph">
<p>Specially thanks to avlixa, there exists a ZX Spectrum Next core synthesized for ZXTRES.</p>
</div>
<div class="paragraph">
<p>The core, for the moment does not have any of these features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Internal beeper</p>
</li>
<li>
<p>EDGE expansion Connector</p>
</li>
<li>
<p>RTC module</p>
</li>
<li>
<p>Membrane keyboard</p>
</li>
<li>
<p>Flashing additional cores or upgrading the Next core from within the Next core</p>
</li>
<li>
<p>MIC out</p>
</li>
<li>
<p>HDMI Video</p>
</li>
<li>
<p>UART communication using the joystick port</p>
</li>
<li>
<p>Raspberry Pi support</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It also has these other features, which do not exist in the original core:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Different colour modes including monochrome</p>
</li>
<li>
<p>Only Sigma-Delta audio</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The user manual is available to download at <a href="https://www.specnext.com/zx-spectrum-next-user-manual-first-edition/">the official web page</a>.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="_microsd_card_format_11">microSD card format</h4>
<div class="paragraph">
<p>You have to use a microSD card with the first partition formatted as FAT16 or FAT32, and inside, the standard esxDOS distribution, matching ZXTRES BIOS version (see <a href="#_esxdos">esxdos corresponding section</a> for more info).</p>
</div>
<div class="paragraph">
<p>Download NextZXOS distribution <a href="https://www.specnext.com/latestdistro/">from the official page</a>.</p>
</div>
<div class="paragraph">
<p>Extract NextZXOS in the root of the microSD card.</p>
</div>
<div class="paragraph">
<p>If not already there, <a href="#_cores">install or run the ZX Spectrum Next core</a> on the ZXTRES.</p>
</div>
</div>
<div class="sect3">
<h4 id="_keyboard_15">Keyboard</h4>
<div class="sect4">
<h5 id="_special_keys_and_buttons_17">Special keys and buttons</h5>
<div class="paragraph">
<p>While the core is running:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>F4</code> (<code>Caps Shift+Symbol Shift+4</code> on gomaDOS+): Soft Reset</p>
</li>
<li>
<p><code>F7</code> (<code>Caps Shift+Symbol Shift+7</code> on gomaDOS+): Select one of the monochrome color modes</p>
</li>
<li>
<p><code>F9</code> (<code>Caps Shift+Symbol Shift+9</code> on gomaDOS+): NMI</p>
</li>
<li>
<p>Ctrl+Alt+Backspace`: Hard reset (restart the FPGA). Backspace is the delete key located in the top-right portion of the keyboard above <code>Enter</code>.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_overview_17">Overview</h4>
<div class="paragraph">
<p>On first boot, some help screens will show up. After pressing <code>Space</code> key, NextZXOS Startup Menu appears.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/next_zxtres.png" alt="next zxtres"></span></p>
</div>
<div class="paragraph">
<p>You can navigate the menu with the cursor keys, <code>5</code>, <code>6</code>, <code>7</code> and <code>8</code> keys, or a joystick (if configured as Kempston, MD or cursor). <code>Enter</code> or the joystick button chooses one element.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>During the core startup, you can force select the analogue video output use by pressing <code>R</code> for RGB and <code>V</code> for VGA.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>More&#8230;&#8203;</code> shows a second menu with more options.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/next2_zxtres.png" alt="next2 zxtres"></span></p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>If you choose <code>Browser</code>, NextZXOS Browser will start, and then you can see the contents of the microSD card and load a file (TAP, NEX, DSK, SNA, SNX, Z80, Z8, etc.).</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/next3_zxtres.png" alt="next3 zxtres"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It is not possible to load TRD files directly from the Browser (NextZXOS must be configured to load a "personality" with esxdos).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more information, see the <a href="https://www.specnext.com/zx-spectrum-next-user-manual-first-edition/">official user manual</a>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_hardware">Other hardware</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_middle_board">Middle Board</h3>
<div class="paragraph">
<p>An intermediate board can be installed in a ZXTRES as an optional component that expands the hardware capabilities to include support for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_wi_fi">Wi-Fi</a> (via <a href="https://es.wikipedia.org/wiki/ESP8266">ESP8266</a>)</p>
</li>
<li>
<p><a href="#_midi">MIDI</a> (via <a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device">RP2040 microcontroller</a>),</p>
</li>
<li>
<p><a href="#_rtc">RTC (real time clock)</a></p>
</li>
<li>
<p><a href="#_bob_fossil_nmi_browser">direct loading of cores</a> from microSD card (via <a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device">microcontroller RP2040</a>)</p>
</li>
<li>
<p>USB keyboards and controllers (via <a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device">RP2040 microcontroller</a>)</p>
</li>
</ul>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/middleboardtop.jpg" alt="middleboardtop"></span> <span class="image"><img src="img/middleboardbottom.jpg" alt="middleboardbottom"></span></p>
</div>
<div class="sect3">
<h4 id="_recovery_via_usb">Recovery via USB</h4>
<div class="paragraph">
<p>In some situations it may be necessary to reinstall the bootstrap firmware for some <a href="https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device" class="bare">https://www.raspberrypi.com/documentation/microcontrollers/raspberry-pi-pico.html%23rp2040-device</a> [RP2040 microcontroller] on the board.</p>
</div>
<div class="paragraph">
<p><strong>Hardware required</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Computer with USB and compatible with Raspberry Pi Pico.</p>
</li>
<li>
<p>Cable with one  USB-A end (to connect to the ZXTRES) and the other end suitable for connecting to the computer (USB-C, USB-A, etc.)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Software required</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Obtain the appropriate UF2 file for the microcontroller to be recovered:</p>
<div class="ulist">
<ul>
<li>
<p><code>rp2s.uf2</code> for boards with a single microcontroller.</p>
</li>
<li>
<p><code>rp2m-bootstrap.uf2</code> for rp2040 MIDI (boards with two microcontrollers)</p>
</li>
<li>
<p><code>rp2u-bootstrap.uf2</code> for rp2040 USB (boards with two microcontrollers)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Steps to follow</strong>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Turn off the ZXTRES if it is on, and connect with the USB cable to the computer.</p>
</li>
<li>
<p>In the case of boards with two microcontrollers, set the switch to the appropriate position for the rp2040 to be recovered, being position 1 for USB and position 2 for MIDI.</p>
</li>
</ol>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/bootselsw.jpg" alt="bootselsw"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Turn on the ZXTRES while pressing the <a href="#_ports_and_connectors">BOOTSEL</a> button on the bottom of the case.</p>
</li>
<li>
<p>Copy the corresponding UF2 file to the drive that will be available on the computer.</p>
</li>
<li>
<p>Finally, in the case of boards with two microcontrollers, if necessary, return the switch to position 1 (USB).</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_loading_from_tape">Loading from tape</h3>
<div class="paragraph">
<p>Some cores can load from an external device such as a cassette tape player, just like the original machines.</p>
</div>
<div class="paragraph">
<p>Besides the microSD card you must connect an appropriate audio cable into the <a href="#_ports_and_connectors">ZXTRES audio input</a>. It must have a 3.5mm stero jack on one side and two mono outputs on the other side (one for each audio channel). The right audio is connected to the audio player (this is not necessary with a miniduino because it already uses only the right audio channel when playing).</p>
</div>
<div class="sect3">
<h4 id="_cassette_tape_player">Cassette tape player</h4>
<div class="paragraph">
<p>This works exactly the same way as when using it with the original computers:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Connect the audio cable.</p>
</li>
<li>
<p>Type on the computer or select the tape loading option. For examle, for ZX Spectrum 48K press <code>J</code> (<code>LOAD</code>),  <code>""</code> and <code>Enter</code> to start loading.</p>
</li>
<li>
<p>Start playing the tape (you may need to try several times, adjusting the player volume).</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_computer">Computer</h4>
<div class="paragraph">
<p>Depending on the operating system (Windows, macOS or Linux) there are several programs that can either play a tape file (<code>TAP</code> <code>TZX</code> <code>PZX</code> and so on) and output the sound through a headphone output or create an audio file (<code>WAV</code> <code>VOC</code> <code>AU</code> and so on) that can be played using a music or audio program.</p>
</div>
<div class="sect4">
<h5 id="_playtzx">PlayTZX</h5>
<div class="paragraph">
<p>This program for Windows, macOS and Linux can directly play a <code>TZX</code> tape file through the computer&#8217;s audio output.</p>
</div>
<div class="paragraph">
<p>You can download the application for Windows from <a href="https://worldofspectrum.net/utilities/%23tzxtools">World of Spectrum Classic</a> and for Mac from <a href="https://github.com/kounch/playtzx/releases">this GitHub repository</a> or compile the source code as <a href="#_compile_source_code_macos_and_linux">explained later</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Connect the audio cable between the computer audio output and ZXTRES audio input (remember to use only the right mono channel to the PC Mac and so on output).</p>
</li>
<li>
<p>Type on the computer or select the tape loading option. For examle for ZX Spectrum 48K typing <code>J</code> then twice <code>"</code> and then <code>Enter</code> to do the classic <code>LOAD "" + Enter</code>.</p>
</li>
<li>
<p>Start playing a tape file with this command (you may need to try several times adjusting the player volume).</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">./playtzx &lt;tape file path&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If everything worked correctly, you&#8217;ll see at the shell the name of the different tape data blocks while the sound is played and the ZXTRES core loads the program.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On Linux the program uses as output the device <code>/dev/dsp</code> this may require you to load a module like <code>snd_pcm_oss</code> (on systems using ALSA).</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="_compile_source_code_macos_and_linux">Compile source code (macOS and Linux)</h6>
<div class="paragraph">
<p>Beofre compiling, ensure that the developer tools are installed on the system including a C compiler (<code>gcc</code> <code>clang</code> command line developer tools for Mac and so on) and <a href="https://es.wikipedia.org/wiki/GNU_build_system">GNU Autotools</a>.</p>
</div>
<div class="paragraph">
<p>Download the source code <a href="https://github.com/kounch/playtzx">from this repository</a>), extract the contents if required, in the terminal navigate to the folder and enter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">aclocal <span class="o">&amp;&amp;</span> autoconf <span class="o">&amp;&amp;</span> autoheader <span class="o">&amp;&amp;</span> automake <span class="nt">--add-missing</span>
./configure
make</code></pre>
</div>
</div>
<div class="paragraph">
<p>If everything worked correctly, a new file called <code>playtzx</code> is created that you can copy anywhere and then use. You can remove the compilation folder.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_mobile_phone_tablet_mp3_player_and_so_on">Mobile phone tablet MP3 player and so on</h4>
<div class="paragraph">
<p>There are only a few apps (or none) that can directly play a tape file on a mobile device so in many cases the only option is to convert it to an audio file before playing it.</p>
</div>
<div class="paragraph">
<p><a href="https://play.google.com/store/apps/details?id=com.baltazarstudios.playzxtapes">PlayZX</a> is an app for Android that can play tape files through the headphone output.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The latest devices with headphone output are typically designed to work with impedances of only a few ohmis. This may sometimes not be enouth for the ZXTRES audio input.</p>
</div>
<div class="paragraph">
<p>In these cases you should (if possible) to switch off headphone volume limitations or use a headphone amplifier that can give a higher impedance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_audio_file_conversion">Audio file conversion</h5>
<div class="paragraph">
<p>These are some programas that exist which can export tape files to audio files.</p>
</div>
<div class="paragraph">
<p><a href="https://www.alessandrogrussu.it/tapir/index.html">Tapir</a> is a GUI program for Windows (but that can also run with Wine on Linux or versions of macOS with 32-bit Intel support) that can load <code>TZX</code> and <code>TAP</code> files and export to <code>WAV</code> audio</p>
</div>
<div class="paragraph">
<p><code>tape2wav</code> from <a href="https://fuse-emulator.sourceforge.net/">Fuse Utilities</a> is a command line utility that can export from <code>TZX</code> <code>PZX</code> and <code>TAP</code> to <code>WAV</code>.</p>
</div>
<div class="paragraph">
<p><code>pzx2wav</code> in <a href="http://zxds.raxoft.cz/pzx.html">PZX Tools</a> is another command line utility that exports to <code>WAV</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="_miniduino">Miniduino</h4>
<div class="paragraph">
<p><a href="https://www.antoniovillena.es/store/product/miniduino/">Miniduino</a> is a tape file audio player, based on a STM32F103C8T6 microcontroller or ATMega38P, and <a href="https://github.com/rcmolina/MaxDuino_BETA">Maxduino</a> firmware preinstalled.</p>
</div>
<div class="paragraph">
<p>Maxduino plays, in a very similar way to how <a href="https://es.wikipedia.org/wiki/Casete">cassette tape</a> players worked, digital tape files in format as like <code>TAP</code> and <code>TZX</code> (ZX Spectrum), <code>O</code> (ZX80), <code>P</code> (ZX81), <code>CDT</code> (Amstrad CPC), <code>CAS</code>(MSX) <code>TSX</code> (MSX, Acorn, etc). It is also possible to play AY music files as if they were tapes, in order to load the from <a href="http://www.specay.co.uk">SpecAY</a> in a ZX Spectrum.</p>
</div>
<div class="sect4">
<h5 id="_ports_and_buttons">Ports and buttons</h5>
<div class="paragraph text-center">
<p><span class="image"><img src="img/MiniduinoBack.jpg" alt="MiniduinoBack"></span></p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/MiniduinoFront.jpg" alt="MiniduinoFront"></span></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Audio output</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control button</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motor control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SD card slot</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Screen</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_configuration">Configuration</h5>
<div class="paragraph">
<p>A SD is needed in order to store the tape files to play. Fast cards (Class 10 or greater) aren&#8217;t recommended because there can be problems while reading the data. High capacity (SDXC or greater) cards aren&#8217;t recommended too.</p>
</div>
<div class="paragraph">
<p>The card must have the first partition formatted as FAT16 or FAT32.</p>
</div>
<div class="paragraph">
<p>Besides the card, you have to plug an appropriate audio cable to <a href="#_ports_and_connectors">audio input</a>. It must have a 3.5 mm stereo jack on one side, and two mono output on the other side (one for each audio channel). The right audio mono is connected to the Miniduino.</p>
</div>
<div class="paragraph">
<p>If you have a device that can use motor control, you can also use a cable with a 2.6 mm jack.</p>
</div>
<div class="paragraph">
<p>Copy the tape files (<code>TAP</code>, <code>TZX</code>, <code>O</code>, <code>P</code>, <code>CAS</code>, <code>TSX</code>, etc) to the first partition of the SD card. They can be organized using folders or directories.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The player shows file and directory entries in the order stored in the internal FAT table, and not alphabetically. If you want to see them ordered, you have to reorder the SD card structure with a utility like Fat Sorter for Windows, <a href="https://fatsort.sourceforge.io/">FATsort</a> for Linux and MacOS, <a href="https://www.luisrios.eti.br/public/en_us/projects/yafs/">YAFS</a>, <a href="http://www.trustfm.net/software/utilities/SDSorter.phpp">SDSorter</a> or other.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_use">Use</h5>
<div class="paragraph">
<p>Once the SD card with the data files is inserted, it&#8217;s turned on plugging in the included USB power cable.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/MiniduinoLogo.jpg" alt="MiniduinoLogo"></span></p>
</div>
<div class="paragraph">
<p>Pressing down the control button shows the options menu which can set the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Baud Rate: Configures turbo speed baud rates when playing 4B blocks in MSX files (<code>CAS</code> and <code>TSX</code>)</p>
</li>
<li>
<p>Motor Ctrl: Enable this option when a control cable is connected to a proper device (Amstrad, CPC, MSX, etc.)</p>
</li>
<li>
<p>Converter (TSXCzxpUEFWS): Enables turbo loading <code>.CAS</code> and <code>.TSX</code> files, changes signal for Spectrum and Amstrad CPC files and/or change parity when playing Acorn Electron and BBC Micro <code>.UEF</code> files</p>
</li>
<li>
<p>(Skip BLK)): To disable (Skip ON) or enable automatic pause when 2A blocks are found</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When not inside the options menu, the control button is used as a four directional control joystick, which has two different behaviours depending whether the player is stopped or paused.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/MiniduinoVersion.jpg" alt="MiniduinoVersion"></span></p>
</div>
<div class="paragraph">
<p>When the player is stopped (file and directories browser):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Up and Down move through the current files and directories list</p>
</li>
<li>
<p>Left (Stop) goes one level up in the directory tree</p>
</li>
<li>
<p>Right (Play/Pause) enters into a directory or, if the selection is a file, tries to play it</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Once a file is being played, stop playing it with the left button (Stop) or pause using the right button (Play/Pause).</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/MiniduinoPlay.jpg" alt="MiniduinoPlay"></span></p>
</div>
<div class="paragraph">
<p>When in pause (tape block browser:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Up and Down mov through the tape block files already played (useful for multiload titles, to load a previous level block, for example)</p>
</li>
<li>
<p>Left (Stop) cancels the player and goes back to file and directory browser mode</p>
</li>
<li>
<p>Right (Play/Pause) continues playing from the selected block</p>
</li>
<li>
<p>Press down the control button to enable or disable turbo mode for MSX</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_making_tzx_or_tsx_files_from_other_formats">Making TZX or TSX files from other formats</h5>
<div class="paragraph">
<p>While there are same tape file formats (Commodore, Camputers Lynx, etc.) not supported by Maxduino, there are some programs that can, more or less successfully, embed <a href="#_audio_file_conversion">audio data</a> in a <code>TSX</code> or <code>TZX</code> file, which then can be used with Miniduino.</p>
</div>
<div class="sect5">
<h6 id="_maketsx">MakeTSX</h6>
<div class="paragraph">
<p>You can use the following command with NataliaPC&#8217;s <a href="https://github.com/nataliapc/makeTSX/releases">MakeTSX</a> to create a <code>TSX</code> file with embedded audio:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...MakeTSX <span class="nt">-b15</span> <span class="nt">-wav</span> audio_file.wav <span class="nt">-tsx</span> new_file.tsx</code></pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="_retroconverter">RetroConverter</h6>
<div class="paragraph">
<p>Jorge Fuertes <a href="https://github.com/jorgefuertes/retroconverter/releases">RetroConverter</a> can create a <code>TZX</code> file with a command like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...retroconv audio_file.wav new_file.tzx</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect4">
<h5 id="_maxduino_firmware_upgrade">Maxduino firmware upgrade</h5>
<div class="paragraph">
<p>Maxduino firmware is periodically updated and improved. You can track the changes and improvements either at the  <a href="https://www.va-de-retro.com/foros/viewtopic.php?t=5541&amp;start=9999">Va de Retro forums</a> or at the <a href="https://github.com/rcmolina/MaxDuino_BETA">GitHub project page</a>. To take advantage of this improvements, the Miniduino flash image must be flashed with the updated firmware version.</p>
</div>
<div class="paragraph">
<p>There are two Miniduino models, one based on STM32 microcontroller, and another one based on ATMega328P.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect5">
<h6 id="_stm32_model">STM32 Model</h6>
<div class="sect6">
<h7 id="_environment_setup">Environment setup</h7>
<div class="paragraph">
<p>Firmware flashing is done from a computer (Windows, Mac, Linux) with <a href="https://www.arduino.cc/en/software">Arduino IDE</a> installed.</p>
</div>
<div class="paragraph">
<p>You have to install SDFat (1.1.4) software library selecting the menu option Program &#8594; include library &#8594; manage libraries</p>
</div>
<div class="paragraph">
<p>Minidiuno microcontroller support must also be added. This is done in two steps:</p>
</div>
<div class="paragraph">
<p>First, adding ARM Cortex M3 support from menu Tools &#8594; board &#8594; board manager, and installing "Arduino SAM boards (Cortex-M3)"</p>
</div>
<div class="paragraph">
<p>Then, you have to add STM32 microcontroller support, downloading the file available at <a href="https://github.com/rogerclarkmelbourne/Arduino_STM32/archive/master.zip">this link</a>.</p>
</div>
<div class="paragraph">
<p>Extract the contents to the current user directory in</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...Arduino/hardware/Arduino_STM32</code></pre>
</div>
</div>
<div class="paragraph">
<p>If on Windows, install the USB device controller, running (with elevated privileges:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"> ...<span class="se">\d</span>rivers<span class="se">\w</span><span class="k">in</span><span class="se">\i</span>nstall_drivers.bat</code></pre>
</div>
</div>
<div class="paragraph">
<p>On Linux, install with root privileges the necessary <code>udev</code> rules:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...tools/linux/install.sh</code></pre>
</div>
</div>
<div class="paragraph">
<p>On MacOS, if Miniduino does not appear as USB device in Arduino ID when plugged, it may be necessary to install <a href="https://github.com/libusb/libusb/wiki">libusb</a>.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Finally, when on Mac or Linux, the file <code>maple_upload</code> inside <code>Arduino_STM32</code> has to be changed with a text editor. Those lines do not work:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="k">if</span> <span class="o">[</span> <span class="nv">$# </span><span class="nt">-eq</span> 5 <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nv">dfuse_addr</span><span class="o">=</span><span class="s2">"--dfuse-address </span><span class="nv">$5</span><span class="s2">"</span>
<span class="k">else
    </span><span class="nv">dfuse_addr</span><span class="o">=</span><span class="s2">""</span>
<span class="k">fi</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>And they have to be changed into this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nv">dfuse_addr</span><span class="o">=</span><span class="s2">""</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect6">
<h7 id="_upgrade_3">Upgrade</h7>
<div class="paragraph">
<p>Once you have the environment ready, download the software from the <a href="https://github.com/rcmolina/MaxDuino_BETA">official repository in GitHub</a></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Miniduino player with STM32 microcontroller is only supported from 1.65 and up</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Load the project file with Arduino IDE (for example <code>MaxDuino_v1.69.ino</code>).</p>
</div>
<div class="paragraph">
<p>Check in the file <code>userSTM32Config.h</code> that all logo entries are commented except for Miniduino and, if not, change them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="p">...</span>
<span class="c1">//#define tanque4</span>
<span class="c1">//#define tanque1</span>
<span class="c1">//#define dostanques</span>
<span class="c1">//#define cablemax</span>
<span class="c1">//#define sony</span>
<span class="cp">#define miniduino
</span><span class="p">...</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Connect the Miniduino device to the computer using the USB cable, and find the assigned port, normally with a name like "Maple Mini" (for example: COM5 Maple Mini)</p>
</div>
<div class="paragraph">
<p>Set the following options in the "Tools" menu:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Board: Generic STM32F103C Series
Variant: STM32F103C8 (20k RAM, 64k Flash)
Upload Method: STM32duino bootloader
CPU Speed: 72Mhz (Normal)
Optimize: Smallest (default)
Port: &lt;Previously identified port&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, click on the firmware load button and wait for a few seconds while the project is compiled and loaded into the device.</p>
</div>
<div class="paragraph">
<p>If everything has been done correctly the Miniduino will restart and show on the screen the new firmware version.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect5">
<h6 id="_atmega328p_model">ATMega328P Model</h6>
<div class="sect6">
<h7 id="_environment_setup_2">Environment setup</h7>
<div class="paragraph">
<p><strong>Requirements</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>One <a href="https://en.wikipedia.org/wiki/Hex_key">hex key</a> with the right socket size for the cover screws</p>
</li>
<li>
<p>USBasp flash programmer</p>
</li>
</ul>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/usbasp.jpg" alt="usbasp"></span></p>
</div>
<div class="paragraph">
<p>Also, firmware flashing is done from a computer (Windows, Mac, Linux) with <a href="https://www.arduino.cc/en/software">Arduino IDE</a> installed.</p>
</div>
<div class="paragraph">
<p>You have to install SDFat (1.1.4) software library selecting the menu option Program &#8594; include library &#8594; manage libraries.</p>
</div>
</div>
<div class="sect6">
<h7 id="_upgrade_4">Upgrade</h7>
<div class="paragraph">
<p>Once you have the environment ready, download the software from the <a href="https://github.com/rcmolina/MaxDuino_BETA">official repository in GitHub</a></p>
</div>
<div class="paragraph">
<p>Load the project file with Arduino IDE (for example <code>MaxDuino_v1.69.ino</code>).</p>
</div>
<div class="paragraph">
<p>Check in the file <code>userconfig.h</code> that all logo entries are commented except for Miniduino and, if not, change them.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="c"><span class="p">...</span>
<span class="c1">//#define tanque4</span>
<span class="c1">//#define tanque1</span>
<span class="c1">//#define dostanques</span>
<span class="c1">//#define cablemax</span>
<span class="c1">//#define sony</span>
<span class="cp">#define miniduino
</span><span class="p">...</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Connect the Miniduino device to the USBasp programmer, making sure that the connector is in the right position (i.e VCC with VCC, MOSI with MOSI, GND witch GND, etc.), and connect the USB adapter to the computer</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/usbasp_2.jpg" alt="usbasp 2"></span></p>
</div>
<div class="paragraph">
<p>Set the following options in the "Tools" menu:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>Board: Arduino Pro or Pro Mini
Processor: ATmega328P (5V,16 Mhz)

Programmer: "USBasp"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Finally, keep pressed the computer keyboard Shift key while clicking on the firmware load button and wait for a few seconds until the project is compiled and loaded into the device.</p>
</div>
<div class="paragraph">
<p>If everything has been done correctly the Miniduino will restart and show on the screen the new firmware version.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_troubleshooting">Troubleshooting</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_firmware_image_management">Firmware image management</h3>
<div class="paragraph">
<p>There are several tools that you can use to create or edit the contents of <code>ZX1</code> and <code>ZX3</code> files.</p>
</div>
<div class="sect3">
<h4 id="_zx123_tool">zx123_tool</h4>
<div class="paragraph">
<p>This tool enables you to analyse, extract and inject data in SPI flash image files for ZX-Uno, ZXDOS, ZXTRES and similar devices.</p>
</div>
<div class="paragraph">
<p>It requires <a href="https://www.python.org/">Python 3</a>. Depending on the operating system you may need to <a href="https://www.python.org/downloads/">install it</a>.</p>
</div>
<div class="paragraph">
<p>With Python 3 installed, you only need to download the latest version of the tool from the official repository following <a href="https://github.com/kounch/zx123_tool/releases/latest">this link</a>.</p>
</div>
<div class="paragraph">
<p>After you&#8217;ve extracted the tool, you can run it from the command line. The command varies depending on the operating system.</p>
</div>
<div class="paragraph">
<p>Typically, on Windows it&#8217;s:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">py <span class="nt">-3</span> zx123_tool.py</code></pre>
</div>
</div>
<div class="paragraph">
<p>Otherwise, it&#8217;s typically:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">python3 ./zx123_tool.py</code></pre>
</div>
</div>
<div class="paragraph">
<p>You also need an SPI flash image file. This can be obtained from within the ZX Spectrum core with one of the commands <code>back16m</code> <code>backzx2</code> or <code>backzxd</code>. After you&#8217;ve obtained the exteacted file from the microSD card you can "clean" it leaving only the ZX Spectrum core and the first Spectrum ROM:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">... zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-w</span> <span class="nt">-o</span> FLASHempty.ZXD</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>FLASH.ZXD</code> is the path to the original file and <code>FLASHempty.ZXD</code> is the path to the new "clean" file.</p>
</div>
<div class="paragraph">
<p><strong>List the contents of an image</strong></p>
</div>
<div class="paragraph">
<p>To view the contents of an image file called <code>FLASH.ZXD</code> (installed cores and some configuration information):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">... zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-l</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>To show the contents of the same file including ZX Spectrun ROMs information:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">... zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-l</span> <span class="nt">-r</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Change the BIOS of an image</strong></p>
</div>
<div class="paragraph">
<p>To change the BIOS inside a file called <code>FLASH.ZXD</code> using the BIOS file called <code>FIRMWARE.ZXD</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-a</span> BIOS,FIRMWARE.ZXD</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can modify some parameters. For example with the options; <code>-m</code> for video mode: 0 (PAL), 1 (NTSC), or 2 (VGA), <code>-k</code> for the keyboard layout: 0 (Auto), 1 (ES), 2 (EN) or 3 (Spectrum).</p>
</div>
<div class="paragraph">
<p>To change the BIOS of a file called <code>FLASH.ZXD</code> using the BIOS file <code>FIRMWARE.ZXD</code> and also set the video mode to VGA:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-a</span> BIOS,FIRMWARE.ZXD <span class="nt">-m</span> 2 <span class="nt">-k</span> 3</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are also options to set the BIOS boot delay time, the default core and the default Spectrum ROM. For more information, refer to the <a href="https://github.com/kounch/zx123_tool/">documentation</a>.</p>
</div>
<div class="paragraph">
<p><strong>Add a Spectrum ROM to an image</strong></p>
</div>
<div class="paragraph">
<p>To add a Spectrum ROM file called <code>48.ROM</code> with the name <code>Spec48</code> and using the slot number five:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-a</span> ROM,5,xdnlh17,Spec48,48.rom</code></pre>
</div>
</div>
<div class="paragraph">
<p>Refer to the <a href="https://github.com/kounch/zx123_tool/">documentation</a> for all possible options when adding a Spectrum ROM.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>Among the information you provide when adding a ROM there are some flags. These configure the hardware options used when loading the ROM:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 70%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keyboard issue 3 enabled (instead of issue 2).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off memory contention.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable divMMC.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable NMI divMMC (esxDOS NMI browser).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use Pentagon timings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use 128K timings.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>s</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off divMMC and ZXMMC ports.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>m</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enable Timex Horizontal MMU.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>h</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off ROM high bit (1FFD bit 2).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>l</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off ROM low bit (7FFD bit 4).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off 1FFD port (+2A/3 paging).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off 7FFD port (128K paging).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off TurboSound (secondary AY chip).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off AY chip.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>r</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off Radastanian mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off Timex mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>u</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch off ULAplus.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Install a core to an image</strong></p>
</div>
<div class="paragraph">
<p>To install a core in slot three from a file called <code>SPECNEXT.ZXD</code> with the name <code>SpecNext</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-a</span> <span class="s1">'CORE,3,SpecNext,SPECNEXT.ZXD'</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To also set the core as the default:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-a</span> <span class="s1">'CORE,3,SpecNext,SPECNEXT.ZXD'</span> <span class="nt">-c</span> 3</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p><strong>Change esxDOS ROM from an image</strong></p>
</div>
<div class="paragraph">
<p>As with the BIOS firmware you can install an esxDOS ROM file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-a</span> esxdos,ESXMMC.BIN</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Combine several actions in one line</strong></p>
</div>
<div class="paragraph">
<p>You can combine several actions in one command line. For example to "clean" an image file called <code>FLASH.ZXD</code> creating a new one called <code>FLASHnew.ZXD</code> installing the BIOS from the file <code>FIRMWARE.ZXD</code> set up video mode to VGA the keyboard in Spectrum mode add a Spectrum ROM file called <code>48.rom</code> with the name <code>Spec48</code> while using slot five install a core at slot three from a file called <code>SPECNEXT.ZXD</code> with the name <code>SpecNext</code> as default core:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">... zx123_tool.py <span class="nt">-i</span> FLASH.ZXD <span class="nt">-w</span> <span class="nt">-o</span> FLASHnew.ZXD <span class="nt">-a</span> BIOS,FIRMWARE.ZXD <span class="nt">-m</span> 2 <span class="nt">-k</span> 3 <span class="nt">-a</span> ROM,5,xdnlh17,Spec48,48.rom <span class="nt">-a</span> CORE,3,SpecNext,SPECNEXT.ZXD <span class="nt">-c</span> 3</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="_firmware_recovery">Firmware recovery</h3>
<div class="paragraph">
<p>Sometimes it may happen that the ZXTRES stops booting, for example when installing an experimental core or when upgrading the ZX Spectrum Core or the BIOS. The ZXTRES board LEDs are on but there&#8217;s no display and it doesn&#8217;t do anything when trying the different key combinations to access BIOS setup and so on.</p>
</div>
<div class="paragraph">
<p>When this happens there are several recovery methods to enable you to restore the firmware.</p>
</div>
<div class="sect3">
<h4 id="_jtag_cable_connections">JTAG cable connections</h4>
<div class="paragraph">
<p>You can use these images as a reference in some recovery steps when using jump wires or USB-Blaster connections to the ZXTRES board.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/jtagzxtres.jpg" alt="jtagzxtres"></span></p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/usbblasterzxtres.jpg" alt="usbblasterzxtres"></span></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>NEVER</strong> connect the 3V line (VCC).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_recovery_using_a_linux_or_macos">Recovery using a Linux or macOS</h4>
<div class="paragraph">
<p><strong>Hardware required</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Linux or macOS operating system in a physical or virtual machine with USB and access to internet (only to download the software).</p>
</li>
<li>
<p>A USB-Blaster cable.</p>
</li>
<li>
<p>A microSD card with the first partition formatted as FAT16 or FAT32 for the ZXTRES.</p>
</li>
<li>
<p>Keyboard and display for the ZXTRES.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Software required</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Flash image and recovery file for ZXTRES from <a href="https://github.com/zxtres/cores/tree/main/recovery">the main Github repository</a>. Note, there are different files for each device:</p>
<div class="ulist">
<ul>
<li>
<p><code>recovery_a35.zip</code> for ZXTRES</p>
</li>
<li>
<p><code>recovery_a100.zip</code> for ZXTRES+</p>
</li>
<li>
<p><code>recovery_a200.zip</code> for ZXTRES++</p>
</li>
</ul>
</div>
</li>
<li>
<p>For Linux, a special udev rules file is also needed. <a href="https://github.com/trabucayre/openFPGALoader/blob/master/99-openfpgaloader.rules">Available here</a> to download.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Instruction steps</strong>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install <a href="https://openocd.org">Open On-Chip Debugger (OpenOCD)</a> or <a href="https://trabucayre.github.io/openFPGALoader/guide/install.html">openFPGALoader</a> to the system using a package manager.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For example, to install OpenOCD on Arch Linux:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">pacman <span class="nt">-S</span> openocd</code></pre>
</div>
</div>
<div class="paragraph">
<p>For openFPGALoader on Arch Linux:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">pacman <span class="nt">-S</span> openfpgaloader</code></pre>
</div>
</div>
<div class="paragraph">
<p>For OpenOCD on Debian Linux:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">apt-get <span class="nb">install </span>openocd</code></pre>
</div>
</div>
<div class="paragraph">
<p>For OpenOCD on macOS (using <a href="https://brew.sh">Homebrew</a>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">brew <span class="nb">install </span>open-ocd</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>For openFPGALoader on macOS (using <a href="https://brew.sh">Homebrew</a>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">brew <span class="nb">install </span>openfpgaloader</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Only for Linux, also add permissions to the current user to have access to the JTAG programmer. Use this commands to copy the previously downloaded file and activate the rules:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">groupadd plugdev
<span class="nb">sudo cp </span>99-openfpgaloader.rules /etc/udev/rules.d/
<span class="nb">sudo </span>udevadm control <span class="nt">--reload-rules</span> <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>udevadm trigger
usermod <span class="nt">-a</span> <span class="nv">$USER</span> <span class="nt">-G</span> plugdev</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Connect the USB-Blaster, to the computer, and the other end to the ZXTRES <a href="#_jtag_cable_connections">as explained before</a>. If already connected, disconnect and conect to use the new udev rules.</p>
</li>
<li>
<p>Copy the file called <code>recovery.bit</code> previously downloaded from <a href="https://github.com/zxtres/cores/tree/main/recovery">the main Github repository</a> to the Raspberry Pi. In this example it&#8217;s at `/home</p>
</li>
<li>
<p>Power on the ZXTRES.</p>
</li>
<li>
<p>Ensure that you&#8217;re in the folder where <code>recovery.bit</code> is located and run the command that loads the BIOS on recovery mode.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For Linux using OpenOCD:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">cd</span> /home/zxtres/unbrick
<span class="nb">sudo </span>openocd <span class="nt">-f</span> /usr/share/openocd/scripts/interface/altera-usb-blaster.cfg <span class="nt">-f</span> /usr/share/openocd/scripts/cpld/xilinx-xc7.cfg <span class="nt">-c</span> <span class="s2">"init; pld load 0 recovery.bit;"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For macOS using OpenOCD:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">cd</span> /Users/zxtres/unbrick
openocd <span class="nt">-f</span> /opt/homebrew/share/openocd/scripts/interface/altera-usb-blaster.cfg <span class="nt">-f</span> /opt/homebrew/share/openocd/scripts/cpld/xilinx-xc7.cfg <span class="nt">-c</span> <span class="s2">"init; pld load 0 recovery.bit;"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For Linux or macOS using OpenFPGALoader:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">cd</span> /Users/zxtres/unbrick
openFPGALoader <span class="nt">-c</span> usb-blaster recovery.bit</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Remember to enter the correct name replacing <code>recovery.bit</code> in the previous commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>If everything worked correctly, you&#8217;ll see that the FPGA LED change their state and the BIOS is shown on the display.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If there&#8217;s no image on the display and you&#8217;re not using DisplaPort, press <code>Scroll Lock</code> to switch between RGB and VGA modes in case the recovery BIOS started in the wrong mode for your setup.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/recovery.png" alt="recovery"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Insert the microSD card formatted as FAT16 o FAT32 and with the <code>FLASH.ZX3</code> file downloaded previously in the ZXTRES.</p>
</li>
<li>
<p>Disconnect the USB-Blaster.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Select the <code>Upgrade Flash from SD</code> opiton. Press <code>Enter</code>, choose <code>Yes</code> and press <code>Enter</code> again to start the flash writing process.</p>
</li>
</ol>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/recovery2.png" alt="recovery2"></span></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This process can&#8217;t be undone and replaces all previously installed cores, the BIOS, the ZX Spectrum ROMs and their configuration with the data in the image file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Remember that it is also possible to navigate through the BIOS options using a controller connected to the right port.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p>After some minutes the process ends and on power cycling the ZXTRES it should start.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If no image is shown and you&#8217;re not using DisplaPort, press <code>Scroll Lock</code> again to switch between RGB and VGA modes. In this case you must enter the BIOS and change <a href="#_advanced">the right advanced setting</a> that matches your display.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_recovery_using_a_raspberry_pi">Recovery using a Raspberry Pi</h4>
<div class="paragraph">
<p><strong>Hardware required</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Raspberry Pi (with microSD card, keyboard, display, power supply and so on) and with internet connection.</p>
</li>
<li>
<p>Five <a href="https://en.wikipedia.org/wiki/Jump_wire">jump wires</a> (if possible female on both sides) or instead a USB-Blaster cable.</p>
</li>
<li>
<p>A hex key (Allen key) for the ZXTRES cover screws.</p>
</li>
<li>
<p>A microSD card with the first partition formatted as FAT16 or FAT32 for the ZXTRES.</p>
</li>
<li>
<p>Keyboard and display for the ZXTRES.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Software required</strong>:</p>
</div>
<div class="paragraph">
<p>Flash image and recovery file for ZXTRES from <a href="https://github.com/zxtres/cores/tree/main/recovery">the main Github repository</a>. Note, there are different files for each device:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>recovery_a35.zip</code> for ZXTRES</p>
</li>
<li>
<p><code>recovery_a100.zip</code> for ZXTRES+</p>
</li>
<li>
<p><code>recovery_a200.zip</code> for ZXTRES++</p>
<div class="ulist">
<ul>
<li>
<p>For Linux, a special udev rules file is also needed. <a href="https://github.com/trabucayre/openFPGALoader/blob/master/99-openfpgaloader.rules">Available here</a> to download.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Instruction steps</strong>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install Raspberry Pi OS (formerly known as Raspbian) to the Raspberry Pi microSD card (using <a href="https://www.raspberrypi.org/downloads/raspberry-pi-os/">the official download</a> <a href="https://www.raspberrypi.org/downloads/noobs/">NOOBS</a> <a href="https://github.com/procount/pinn">PINN</a> and so on).</p>
</li>
<li>
<p>Install Open OCD:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">sudo </span>apt-get update
<span class="nb">sudo </span>apt-get <span class="nb">install </span>git autoconf libtool make pkg-config
<span class="nb">sudo </span>apt-get <span class="nb">install </span>libusb-1.0-0 libusb-1.0-0-dev telnet
<span class="nb">sudo </span>apt-get <span class="nb">install </span>libusb-dev libftdi-dev
git clone git://git.code.sf.net/p/openocd/code openocd-code
<span class="nb">cd </span>openocd-code/
./bootstrap
./configure <span class="nt">--enable-usb_blaster</span> <span class="nt">--enable-sysfsgpio</span> <span class="nt">--enable-bcm2835gpio</span>
make
<span class="nb">sudo </span>make <span class="nb">install
cd</span> ..
<span class="nb">rm</span> <span class="nt">-rf</span> ./openocd-code</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Add permissions to the current user to have access to the JTAG programmer. Use this commands to copy the previously downloaded file and activate the rules:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">groupadd plugdev
<span class="nb">sudo cp </span>99-openfpgaloader.rules /etc/udev/rules.d/
<span class="nb">sudo </span>udevadm control <span class="nt">--reload-rules</span> <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>udevadm trigger
usermod <span class="nt">-a</span> <span class="nv">$USER</span> <span class="nt">-G</span> plugdev</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Connect the USB-Blaster or jump wires if using GPIO. In this case <a href="#_jtag_cable_connections">as explained before</a> connect the FPGA JTAG lines (<code>TMS</code> <code>TDI</code> <code>TDO</code> <code>TCK</code> and <code>GND</code>) using the wires to the Raspberry Pi <a href="https://es.wikipedia.org/wiki/GPIO">GPIO</a> pins.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If using a GPIO connection, take note of the chosen pins and ensure that <code>GND</code> is connected with <code>GND</code>.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/gpio.jpg" alt="gpio"></span></p>
</div>
<div class="paragraph">
<p>In this example the <code>31</code> <code>33</code> <code>35</code> <code>37</code> and <code>39</code> pins are used (corresponding to <code>GPIO #6</code> <code>GPIO #13</code> <code>GPIO #19</code> <code>GPIO #26</code> and <code>GND</code>):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ZXTRES JTAG</th>
<th class="tableblock halign-left valign-top">GPIO</th>
<th class="tableblock halign-left valign-top">Raspberry Pi Pin</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TMS</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPIO#6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>31</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TDI</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPIO#13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>33</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TDO</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPIO#19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>35</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TCK</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPIO#26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>37</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GND</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GND</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>39</code></p></td>
</tr>
</tbody>
</table>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>Copy the file called <code>recovery.bit</code> previously downloaded from <a href="https://github.com/zxtres/cores/tree/main/recovery">the main Github repository</a> to the Raspberry Pi. In this example it&#8217;s at <code>/home/pi/zxtres/unbrick/</code></p>
</li>
<li>
<p>If using GPIO, make a copy of the Open OCD configuration file to the folder where <code>recovery.bit</code> is located.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">cp</span> /usr/local/share/openocd/scripts/interface/raspberrypi2-native.cfg /home/pi/zxtres/unbrick/</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>For GPIO connection edit a copy of <code>raspberrypi2-native.cfg</code>, updating <code>bcm2835gpio_jtag_nums</code> (uncommenting if necessary) with your JTAG and GPIO connection numbers at the line <code>bcm2835gpio_jtag_nums</code>:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code># Header pin numbers: 37 31 33 35
bcm2835gpio_jtag_nums 26 6 13 19</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Ensure the line <code>bcm2835gpio_swd_nums</code> is commented out (not necessary for USB-Blaster):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>#bcm2835gpio_swd_nums 11 25</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Add <code>adapter speed 250</code> to the end of the file the line (not necessary for USB-Blaster):</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>adapter speed 250</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p>Power on the ZXTRES.</p>
</li>
<li>
<p>Ensure that on the Raspberry Pi you&#8217;re in the folder where <code>recovery.bit</code> is located and run the command that loads the BIOS on recovery mode using the path to the previously edited <code>raspberrypi2-native.cfg</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For GPIO connection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">cd</span> /home/pi/zxtres/unbrick
<span class="nb">sudo </span>openocd <span class="nt">-f</span> /home/pi/zxtres/unbrick/raspberrypi2-native.cfg <span class="nt">-f</span> /home/pi/zxtres/unbrick/xilinx-xc7.cfg <span class="nt">-c</span> <span class="s2">"init; pld load 0 recovery.bit; shutdown"</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>For USB-Blaster connection:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell"><span class="nb">cd</span> /home/pi/zxtres/unbrick
<span class="nb">sudo </span>openocd <span class="nt">-f</span> /usr/local/share/openocd/scripts/interface/altera-usb-blaster.cfg <span class="nt">-f</span> /home/pi/zxtres/unbrick/xilinx-xc7.cfg <span class="nt">-c</span> <span class="s2">"init; pld load 0 recovery.bit; shutdown"</span></code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Remember to enter the correct name replacing <code>recovery.bit</code> in the previous commands.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p>If everything worked correctly, you&#8217;ll see that the FPGA LED change their state and the BIOS is shown on the display.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If there&#8217;s no image on the display and you&#8217;re not using DisplaPort, press <code>Scroll Lock</code> to switch between RGB and VGA modes in case the recovery BIOS started in the wrong mode for your setup.</p>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/recovery.png" alt="recovery"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="13">
<li>
<p>Insert the microSD card formatted as FAT16 o FAT32 and with the <code>FLASH.ZX3</code> file downloaded previously in the ZXTRES.</p>
</li>
<li>
<p>If using a USB-Blaster connection, disconnect the connector.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
<div class="olist arabic">
<ol class="arabic" start="15">
<li>
<p>Select the <code>Upgrade Flash from SD</code> opiton. Press <code>Enter</code>, choose <code>Yes</code> and press <code>Enter</code> again to start the flash writing process.</p>
</li>
</ol>
</div>
<div class="paragraph text-center">
<p><span class="image"><img src="img/recovery2.png" alt="recovery2"></span></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This process can&#8217;t be undone and replaces all previously installed cores, the BIOS, the ZX Spectrum ROMs and their configuration with the data in the image file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Remember that it is also possible to navigate through the BIOS options using a controller connected to the right port.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic" start="16">
<li>
<p>After some minutes the process ends and on power cycling the ZXTRES it should start.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If no image is shown and you&#8217;re not using DisplaPort, press <code>Scroll Lock</code> again to switch between RGB and VGA modes. In this case you must enter the BIOS and change <a href="#_advanced">the right advanced setting</a> that matches your display.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references">References</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_spectrum_2">Spectrum</h3>
<div class="sect3">
<h4 id="_scan_codes">Scan Codes</h4>
<div class="paragraph text-center">
<p><span class="image"><img src="img/ScanCodes.png" alt="ScanCodes"></span></p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_zxtres_control_io_registers">ZXTRES control I/O registers</h4>
<div class="paragraph">
<p>In the Spectrum core the <code>$FC3B</code> and <code>$FD3B</code> ports are reserved and assigned by the <a href="https://sinclair.wiki.zxnet.co.uk/wiki/ZXI_standard">ZXI committee</a>. A total of 256 different I/O registers unique to the ZX-Uno family are accessed through these ports.</p>
</div>
<div class="paragraph">
<p>Port <code>$FC3B</code> (<code>64571</code>) stores the address (<code>$00</code> - <code>$FF</code>) of the I/O register to be accessed. It can be read to find out which register address was last allocated.</p>
</div>
<div class="paragraph">
<p>Port <code>$FD3B</code> (<code>64827</code>) is the access port to the register selected with the previous port. Its meaning (read/write) depends on the implementation of each register.</p>
</div>
<div class="paragraph">
<p>For example, to allocate bank 16 of the SRAM to the address space <code>$C000</code> - <code>$FFFFFF</code> during boot mode, using the MASTERMAPPER register, would be as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="asm">ld bc,$fc3b     ;Port to set register number to use
ld a,1          ;Register $01 (MASTERMAPPER)
out (c),a       ;Selected. From now on, any access to $FD3B is using MASTERMAPPER
inc b           ;Register access port ($FD3B, just increment B)
ld a,16         ;SRAM Bank 16
out (c),a       ;Write to the MASTERMAPPER register</code></pre>
</div>
</div>
<div class="paragraph">
<p>The registers implemented in the ZX-Uno family are described below.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="sect4">
<h5 id="_00_masterconf"><code>$00</code> MASTERCONF</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000001</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000001</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Binary format (fields in <strong>bold</strong> can only be altered when LOCK=0):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small"><strong>LOCK</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small">MODE1</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small">DISCONT</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small">MODE0</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small">I2KB</span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small"><strong>DISNMI</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small"><strong>DIVEN</strong></span></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><span class="small"><strong>BOOTM</strong></span></p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><code>BOOTM</code>: 1 indicates that the ZX-Uno is in boot mode (configuration mode). Boot mode only makes sense while the boot firmware is running, where some aspects of the ZX-Uno are allowed to be configured before going into run mode. MASTERCONF can always be read, both in boot mode and in run mode. It is set to 0 manually per program, at which point ZX-Uno enters run mode.</p>
</li>
<li>
<p><code>DIVEN</code>: set to 0 indicates that DIVMMC is not enabled in the system, although the SPI interface access ports of the SD/MMC slot are still available. The memory used by DIVMMC remains available for other uses. 1 indicates that DIVMMC is enabled. If enabled, an ESXDOS image must be loaded into the corresponding RAM bank before entering run mode. The default value of this bit is 0.</p>
</li>
<li>
<p><code>DISNMI</code>: set to 1 indicates that the DIVMMC NMI function will not be available. NMI will work, but will not cause ESXDOS to automate, thus leaving NMI control to the main system ROM. Bit added to improve DIVMMC compatibility with SE Basic IV. Defaults to 0 (ESXDOS handles NMI events).</p>
</li>
<li>
<p><code>I2KB`</code>: a1 sets the ULA to return a value consistent with a Spectrum issue 2 when reading the keyboard port ($FE). When 0, the returned value is compatible with issue 3 and later. It defaults to 0.</p>
</li>
<li>
<p><code>MODE1</code>,<code>MODE0</code>: specifies the ULA timing mode to accommodate different Spectrum models. 00 = ULA ZX Spectrum 48K PAL, 01 = ZX Spectrum 128K/+2 grey, 10 = Pentagon 128, 11 = 48K NTSC (262 scans).</p>
</li>
<li>
<p><code>DISCONT</code>: indicates whether memory contention should occur in the video memory. 0 to enable contention (48K and 128K compatibility). 1 to disable contention (Pentagon 128 compatibility).</p>
</li>
<li>
<p><code>LOCK</code>: When set to 1, it prevents further changes to certain bits in the MASTERCONF register, and also prevents access to the SPI Flash. This bit is reset to 0 only by a master reset (Ctrl-Alt-BkSpace) or by powering the clone off and on.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_01_mastermapper"><code>$01</code> MASTERMAPPER</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Only the lower 5 bits (values $00 to $1F) of this register are used. The value stored is the number of a 16KB bank of SRAM that will be paged at addresses $C000-$FFFFFF during boot mode. The values in this register have no effect when the ZX-Uno is in run mode. 32 different values for this register allow addressing up to 512KB of SRAM. If ZX-Uno is expanded with more memory, more bits in this register will be used. The maximum manageable amount of memory is 4MB.</p>
</div>
</div>
<div class="sect4">
<h5 id="_02_flashspi"><code>$02</code> FLASHSPI</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Puerto de acceso al registro SPI conectado a la SPI Flash. Escribiendo un valor en este registro, se envía a la SPI Flash, si ésta está seleccionada. Leyendo un valor de este registro, se lee el último valor enviado por la SPI Flash, y además, la misma operación de lectura provoca que la SPI envíe un nuevo valor (que sería leído con la siguiente operación de lectura a este registro). Por esta razón, en operaciones de lectura de bloques, el primer byte leído con este puerto debe descartarse.</p>
</div>
</div>
<div class="sect4">
<h5 id="_03_flashcs"><code>$03</code> FLASHCS</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000001</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Only bit 0 is used. The value written to this register determines the status of the CS line of the SPI Flash (0 = Flash selected, 1 = Flash not selected).</p>
</div>
</div>
<div class="sect4">
<h5 id="_04_scancode"><code>$04</code> SCANCODE</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When reading, it allows to obtain the value of the last scancode generated by the keyboard. When writing, it allows to send commands to the keyboard.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_05_keystat"><code>$05</code> KEYSTAT</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Several bits showing whether or not there is a new key pressed, or released, and whether this is an extended or normal key.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BSY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RLS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EXT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PEN</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>BSY: Uses 1 when a data transmission to the PS/2 port is still in progress. Wait for a value of 0 to start a new transmission.</p>
</li>
<li>
<p>ERR: 1 when the last transmission to or from the PS/2 port had errors.</p>
</li>
<li>
<p>RLS: 1 when the last event belongs to a key that has been released.</p>
</li>
<li>
<p>EXT: 1 when the last event belongs to a key with extended code (E0+scancode).</p>
</li>
<li>
<p>PEN: 1 when there is new data ready to be read in the SCANCODE register. After reading KEYSTAT, this bit is set to 0.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_06_joyconf"><code>$06</code> JOYCONF</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00100001</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Bits 0 to 2 show the operating mode of the keyboard mapped joystick (or of the second physical joystick if there is a splitter). Bits 4 to 6 for the operating mode of the physical joystick (DB-9 connector on the side). Bit 3 means autofire of the second joystick or keypad. Bit 7 means autofire of the main joystick. The values are: 000 = Disabled, 001 = Kempston, 010 = Sinclair 1, 011 = Sinclair 2, 100 = Protek/Cursor/AGF, 101 = Fuller, 110 = OPQAspM, 111 = reserved.</p>
</div>
</div>
<div class="sect4">
<h5 id="_07_keymap"><code>$07</code> KEYMAP</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read later</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read later</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read later</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>On read, each access provides the next byte of the currently loaded ZX-Uno keymap. On write, the byte corresponding to the keymap marked by the current position is modified. In both cases, the address pointer is automatically incremented to point to the next byte of the keymap. This pointer returns to 0 automatically after a reset, a write to the $FC3B register, or when the keymap is terminated. The keymap, in the current implementation, occupies 16384 bytes.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_09_mousedata"><code>$09</code> MOUSEDATA</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Mouse PS/2 port data register. Used to read or send direct commands to the PS/2 mouse. For example: to initialise the mouse, the value $F4 must be sent to this register.</p>
</div>
</div>
<div class="sect4">
<h5 id="_0a_mousestatus"><code>$0A</code> MOUSESTATUS</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>PS/2 mouse port status register. The following bits are set:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BSY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ERR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PEN</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>BSY: set to 1 when a data transmission to the PS/2 port is still in progress. Wait for a value of 0 to start a new transmission.</p>
</li>
<li>
<p>ERR: set to 1 when the last transmission to or from the PS/2 port had errors.</p>
</li>
<li>
<p>PEN: set to 1 when new data is ready to be read from the MOUSEDATA register. After reading MOUSESTATUS, this bit is set to 0.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_0b_scandblctrl"><code>$0B</code> SCANDBLCTRL</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Scandoubler control register and system speed. The following bits are defined:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.667%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TURBO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">COPT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FREQ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FREQ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENSCAN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VGA</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>TURBO: 00 to select 3.5 MHz, 01 to select 7 MHz, 10 to select 14 MHz and 11 to select 28 MHz. These bits are also updated with the value of bits D0-D3 of port $8E3B, used in the ZX Prism to select the different speeds for the CPU.</p>
</li>
<li>
<p>COPT: selects the way to generate the composite syncs for RGB and composite video: 0 to use the original Spectrum sync type. 1 to use sync pulses according to the PAL standard.</p>
</li>
<li>
<p>FREQ: these three bits define the frequency of the master clock, from which all other clocks in the circuit are derived. Among others, the vertical refresh rate is also defined here, which can be used to improve compatibility with some VGA monitors that do not support a vertical refresh rate of 50Hz. The vertical refresh rate values are as follows:</p>
<div class="ulist">
<ul>
<li>
<p>000 : 50Hz for 48K and Pentagon mode.</p>
</li>
<li>
<p>001 : 50Hz for 128K mode</p>
</li>
<li>
<p>010 : 52 Hz</p>
</li>
<li>
<p>011 : 53 Hz</p>
</li>
<li>
<p>100 : 55 Hz</p>
</li>
<li>
<p>101 : 57 Hz</p>
</li>
<li>
<p>110 : 59 Hz</p>
</li>
<li>
<p>111 : 60 Hz</p>
</li>
</ul>
</div>
</li>
<li>
<p>ENSCAN: to 1 to enable the scanline effect in VGA mode. No effect if VGA mode is disabled.</p>
</li>
<li>
<p>VGA: set to 1 to enable the scandoubler. The scandoubler output is the same as the normal RGB output, but with a doubling of the horizontal delay frequency. Set to 0 to use 15kHz RGB / composite video output.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_0c_rasterline"><code>$0C</code> RASTERLINE</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>11111111</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>11111111</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>11111111</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Stores the least significant 8 bits of the screen line where maskable interrupt should be triggered. A value of 0 for this register (with LINE8 also equal to 0) sets the raster interrupt to be triggered, if enabled, right at the start of the right edge of the line before the first screen line where the "paper" area begins. In other words: the line count of this interrupt assumes that a screen line is composed of: right edge + horizontal blanking interval + left edge + paper zone. If this assumption is made, the interrupt would be triggered at the beginning of the selected line.
A value for RASTERLINE equal to 192 (with LINE8 equal to 0) triggers the raster interrupt at the beginning of the bottom edge. The line numbers for the end of the bottom edge and start of the top edge depend on the timings used. The highest value possible in practice for RASTERLINE corresponds to a raster interrupt triggered at the last line of the top edge (see RASTERCTRL).</p>
</div>
</div>
<div class="sect4">
<h5 id="_0d_rasterctrl"><code>$0D</code> RASTERCTRL</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000001</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000001</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000001</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Raster Interrupt Status and Control Register. The following bits are defined.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">INT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DISVINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENARINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">LINE8</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>INT: this bit is only available on read. It is set to 1 for 32 clock cycles from the time the raster interrupt is triggered. This bit is available even if the processor has interrupts disabled. It is not available if the ENARINT bit is set to 0.</p>
</li>
<li>
<p>DISVINT: set to 1 to disable the vertical retrace maskable interrupts (the original ULA interrupts). After a reset, this bit is set to 0.</p>
</li>
<li>
<p>ENARINT: set to 1 to enable raster line maskable interrupts. After a reset, this bit is set to 0.</p>
</li>
<li>
<p>LINE8: saves bit 8 of the RASTERLINE value, so that any value between 0 and 511 can be set, although in practice, the largest value is limited by the number of lines generated by the ULA (311 in 48K mode, 310 in 128K mode, 319 in Pentagon mode). If a line number higher than the limit is set, the raster interrupt will not occur.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_0e_devcontrol"><code>$0E</code> DEVCONTROL</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Enable/disable register for different features. The following bits are defined.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 11.1112%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DISD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ENMMU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIROMSEL1F</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIROMSEL7F</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DI1FFD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DI7FFD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DI7FFD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DITAY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIAY</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>DISD: Set to 1 to disable the SPI hardware interface for SD (used in DivMMC and ZXMMC). Disabling this interface frees ports $1F on write, $3F, $E7 and $EB. After master reset, it is set to 0.</p>
</li>
<li>
<p>ENMMU: set to 1 to enable the horizontal MMU used on the Timex Sinclair. Enabling this interface uses bit 7 of port $FF, port $F4 is used and a read to port $FF returns the last value written to it. After master reset, it is 0.</p>
</li>
<li>
<p>DIROM1F: the value of this bit is masked with the value of bit 2 of port $1FFD according to the operation ~DIROM1F &amp; $1FFD[2]. The net result is that if this bit is set to 1, the system will work as if the value of bit 2 of port $1FFD is always 0, regardless of the value written to it. After master reset, it is set to 0, which allows changes to bit 2 of $1FFD to be taken into account.</p>
</li>
<li>
<p>DIROM7F: the value of this bit is masked with the value of bit 4 of port $7FFD according to the operation ~DIROM7F &amp; $7FFD[4]. The net result is that if this bit is set to 1, the system will work as if the value of bit 4 of port $7FFD is always 0, regardless of the value written to it. After master reset, it is set to 0, which allows changes to bit 4 of $7FFD to be taken into account.</p>
</li>
<li>
<p>DI1FFD: set to 1 to disable the +2A/+3 compatible paging system. Disabling this interface frees the $1FFD port on write. Note that the decoding of port $7FFD, if active, is different depending on whether port $1FFD is active or not.</p>
</li>
<li>
<p>DI7FFD: to 1 to disable the 128K compatible paging system. Disabling this system disables the +2A/+3 paging system even if it is not explicitly disabled.</p>
</li>
<li>
<p>DITAY: set to 1 to disable the second AY chip, thus disabling Turbo Sound mode.</p>
</li>
<li>
<p>DIAY: set to 1 to disable the main AY chip. Disabling this chip disables the second AY chip, even if it is not explicitly disabled.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_0f_devctrl2"><code>$0F</code> DEVCTRL2</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>|Enable/disable register of different features (continuation of DEVCONTROL). The following bits are defined.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPLITTER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIMIXER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DISPECDRUM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIRADES</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DITIMEX</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIULAPLUS</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Resv: This bit is reserved. In the current implementation, a 0 must be written to it if the register value is updated.</p>
</li>
<li>
<p>SPLITTER: set to 1 to enable joystick splitter.</p>
</li>
<li>
<p>DIMIXER: set to 1 to disable sound output.</p>
</li>
<li>
<p>DISPECDRUM: set to 1 to disable SpecDrum/Covox support.</p>
</li>
<li>
<p>DIRADAS: set to 1 to disable radastanian mode. Note that if radastanian mode is not disabled, but ULAplus is disabled, when attempting to use radastanian mode, the datapath used in the ULA will not be as expected and the display behaviour in this case is not documented.</p>
</li>
<li>
<p>DITIMEX: to 1 to disable Timex compatible display modes. Any writes to the $FF port are therefore ignored. If the Timex MMU is enabled, a read to port $FF will return 0.</p>
</li>
<li>
<p>DIULAPLUS: set to 1 to disable the ULAplus. Any writes to the ULAplus ports are ignored. Reads to those ports return the value of the floating bus. Note however that the contention mechanism for this port still works even if it is disabled.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_10_memreport"><code>$10</code> MEMREPORT</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_40_radasctrl"><code>$40</code> RADASCTRL</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Register for setting the radastanian mode and  its characteristics. Writes to this register are ignored if the corresponding bit in DEVCTRL2 is set. The following bits are defined</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EN1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">EN0</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Resv: This bit is reserved. In the current implementation, a 0 must be written to it if the register value is updated.</p>
</li>
<li>
<p>EN1, EN0: Both bits must be set to 1 to enable Radastanian mode. If EN0 is enabled, but EN1 is disabled, the rest of the bits, from 2 to 7, are defined as implemented in the <a href="https://github.com/chernandezba/zesarux">ZEsarUX emulator</a> (see César Hernández&#8217;s documentation on this).</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_41_radasoffset"><code>$41</code> RADASOFFSET</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Contains the number of bytes to be added to the base address of the screen (4000h, 6000h, C000h or E000h depending on the configuration) to obtain the address where the first two pixels are located in Radastanian mode. It is a 14-bit register. To write a value, the 8 least significant bits are written first, followed immediately by the 8 most significant bits (the 2 most significant bits of this value are ignored).
If the offset value is such that scanning the screen memory to create the image reaches the end of a 16KB page, scanning will continue at the beginning of that same page.</p>
</div>
</div>
<div class="sect4">
<h5 id="_42_radaspadding"><code>$42</code> RADASPADDING</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Contains the number of bytes - 64 that a scanline occupies in Radastanian mode. That is, if this register is 0, the length in bytes of a scanline is 64 bytes (128 pixels). If this register is 4, the length of a scanline is 68 bytes (136 pixels). If it is 255, the length of a scanline is 64+255=319 bytes, or 638 pixels.
If the offset value is such that scanning the screen memory to create the image reaches the end of a 16KB page, scanning will continue at the beginning of that same page.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_43_radaspalbank"><code>$43</code> RADASPALBANK</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Register used to set which section of the ULAplus palette will define the colours in Radastanian mode, and how the border will behave.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BOR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RADPALQUARTER</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Resv: This bit is reserved. In the current implementation, a 0 must be written to it if the register value is updated.</p>
</li>
<li>
<p>BOR3: Within the currently selected palette, indicates whether the border colour will be taken from entries 0 to 7 (0) or from entries 8 to 15 (1). It can be considered as bit 3 of the border colour in Radastanian mode.</p>
</li>
<li>
<p>RADPALQUARTER: two bits indicating which section of the ULAplus palette is to be used for the Radastanian mode. 00 for using the section of inputs 0 to 15. 01 for inputs 16 to 31, 10 for inputs 32 to 47 and 11 for using inputs 48 to 63.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_80_hoffs48k"><code>$80</code> HOFFS48K</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$38</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Horizontal screen centering adjustment value for 48K ULA.</p>
</div>
</div>
<div class="sect4">
<h5 id="_81_voffs48k"><code>$81</code> VOFFS48K</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$01</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Vertical screen centering adjustment value for 48K ULA.</p>
</div>
</div>
<div class="sect4">
<h5 id="_82_hoffs128k"><code>$82</code> HOFFS128K</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$3A</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Horizontal screen centering adjustment value for 128K ULA.</p>
</div>
</div>
<div class="sect4">
<h5 id="_83_voffs128k"><code>$83</code> VOFFS128K</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$01</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Vertical screen centering adjustment value for 128K ULA.</p>
</div>
</div>
<div class="sect4">
<h5 id="_84"><code>$84</code></h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>HOFFSPEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Horizontal screen centering adjustment value for Pentagon ULA.</p>
</div>
</div>
<div class="sect4">
<h5 id="_85_voffspen"><code>$85</code> VOFFSPEN</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$00</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Vertical screen centering adjustment value for Pentagon ULA.</p>
</div>
</div>
<div class="sect4">
<h5 id="_a0_dmactrl"><code>$A0</code> DMACTRL</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_a1_dmasrc"><code>$A1</code> DMASRC</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_a2_dmadst"><code>$A2</code> DMADST</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_a3_dmapre"><code>$A3</code> DMAPRE</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_a4_dmalen"><code>$A4</code> DMALEN</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_a5_dmaprob"><code>$A5</code> DMAPROB</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_a6_dmastat"><code>$A6</code> DMASTAT</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_c6_uartdata"><code>$C6</code> UARTDATA</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_c7_uartstat"><code>$C7</code> UARTSTAT</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_c8_df_reserved"><code>$C8</code> - <code>$DF</code> RESERVED</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definido por el usuario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definido por el usuario</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Definido por el usuario</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>ZXUNO registers reserved for experiments or private use.</p>
</div>
</div>
<div class="sect4">
<h5 id="_f0_sramaddr"><code>$F0</code> SRAMADDR</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_f1_maddrinc"><code>$F1</code> MADDRINC</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p>
<p class="tableblock">===== <code>$F2</code> SRAMDATA</p>
<p class="tableblock">[align="center",options="header"]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>|Direction|Value after user reset|Value after master reset|Value after poweron
|Lectura/Escritura|Does not change|<code>00000000</code>|<code>00000000</code></p>
</div>
</div>
<div class="sect4">
<h5 id="_f3_vdeckctrl"><code>$F3</code> VDECKCTRL</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_f7_audiomix"><code>$F7</code> AUDIOMIX</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>10011111</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Control of the left/right channel mix from the 4 channels of the AY-8912. The following groups of 2 bits each are defined:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">===</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CHANNELA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CHANNELB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CHANNELC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BEEPDRUM</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>BEEPDRUM : Channel for Beeper and Specdrum.</p>
</li>
<li>
<p>The meaning of each group of 2 bits is: 00 = Mute, 01 = Right channel, 10 = Left channel, 11 = Both.</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect4">
<h5 id="_fb_ad724"><code>$FB</code> AD724</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Control of the operating mode of the AD724 encoder chip. The following bits are defined:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 10%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MODE</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p>Resv : the meaning of these bits is reserved and must not be altered.</p>
</li>
<li>
<p>MODE : operating mode of the AD724. 0 = encodes PAL standard. 1 = encodes NTSC standard.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_fc_coreaddr"><code>$FC</code> COREADDR</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>$058000</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Stores the address, within SPI memory, of the start of the core to be booted. To store a different address, three writes must be made to this register, containing the three bytes of the address, in order from most significant to least significant. On read, each access to this register returns a part of the last stored address, from the most significant part to the least significant part.</p>
</div>
</div>
<div class="sect4">
<h5 id="_fd_coreboot"><code>$FD</code> COREBOOT</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Boot control register. Writing a 1 to bit 0 of this register (all other bits are reserved and must remain at 0) triggers the FPGA&#8217;s internal mechanism to start another core. The start address of this second core will be the last one written using the COREADDR register.</p>
</div>
</div>
<div class="sect4">
<h5 id="_fe_scratch"><code>$FE</code> SCRATCH</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read/Write</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does not change</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>00000000</code></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="sect5">
<h6 id="_ff_coreid"><code>$FF</code> COREID</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Direction</th>
<th class="tableblock halign-left valign-top">Value after user reset</th>
<th class="tableblock halign-left valign-top">Value after master reset</th>
<th class="tableblock halign-left valign-top">Value after poweron</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read later</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read later</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read later</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Each read operation provides the next ASCII character of the string containing the current revision of the ZX-Uno core. When the string ends, subsequent reads output bytes with the value 0 (at least on) until the string starts again. This pointer returns to 0 automatically after a reset or a write to the <code>$FC3B</code> register. The delivered characters that are part of the string are standard printable ASCII (codes <code>32</code>-<code>127</code>). Any other value indicates that this register is not operational.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_arcade">Arcade</h3>
<div class="sect3">
<h4 id="_mra_tool">MRA Tool</h4>
<div class="paragraph">
<p>This is a tool that mergees <a href="https://www.mamedev.org">MAME</a> ROM files, using an MRA configuration file as a reference. It is also useful to create many kinds of binary blobs. It can be downloaded from <a href="https://github.com/kounch/mra-tools-c/tree/master/release">GitHub</a>.</p>
</div>
<div class="paragraph">
<p>To generate the corresponding ROM and ARC files for use with a ZXTRES arcade core</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...mra &lt;file.mra&gt; <span class="nt">-A</span> <span class="nt">-z</span> &lt;directory ROMs&gt; <span class="nt">-O</span> &lt;result directory&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>&lt;file.mra&gt;</code> is the path to the MRA file to use as reference, <code>&lt; ROMs directory</code> is the location where the MAME ZIP files with ROM images are, and <code>&lt;destination directory&gt;</code> is the place where you want the new ARC and ROM files to be created.</p>
</div>
<div class="paragraph">
<p>For a description of the different parameters of the tool:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="shell">...mra <span class="nt">-h</span></code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="_games_by_core">Games by core</h4>
<div class="paragraph">
<p>Different arcade games are listed below, based on the core, and including the name of the corresponding MAME name.</p>
</div>
<div class="sect4">
<h5 id="_1942">1942</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1942</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1942</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_atari_tetris">Atari Tetris</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tetris</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">atetris</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_capcom_play_system_1">Capcom Play System 1</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1941: Counter Attack</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1941</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adventure Quiz Capcom World 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cworld2j</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Captain Commando</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">captcomm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carrier Air Wing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cawing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynasty Wars</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dynwar</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Final Fight</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ffight</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forgotten Worlds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">forgottn</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ghouls&#8217;n Ghosts</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ghouls</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gulun.Pa!</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">gulunpa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Knights of the Round</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">knights</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Magic Sword: Heroic Fantasy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">msword</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Magical Pumpkin: Puroland de Daibouken</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mpumpkin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mega Man: The Power Battle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">megaman</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mega Twins</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mtwins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mercs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mercs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nemo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nemo</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pang! 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pang3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pnickies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pnickj</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pokonyan! Balloon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">pokonyan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quiz &amp; Dragons: Capcom Quiz Game</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qad</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quiz Tonosama no Yabou 2: Zenkoku-ban</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">qtono2j</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Street Fighter II; Hyper Fighting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sf2hf</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Street Fighter II: Champion Edition</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sf2ce</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Street Fighter II: The World Warrior</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sf2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Street Fighter Zero</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sfzch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Strider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">strider</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The King of Dragons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kod</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Three Wonders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3wonders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">U.N. Squadron</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">unsquad</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Varth: Operation Thunderstorm</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">varth</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Willow</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">willow</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_capcom_play_system_1_5">Capcom Play System 1.5</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cadillacs and Dinosaurs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dino.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Muscle Bomber Duo: Ultimate Team Battle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mbombrd.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Saturday Night Slam Masters</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">slammast.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tenchi wo Kurau II_ Sekiheki no Tatakai</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wofch.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Punisher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">punisher.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Warriors of Fate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wof.rom</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_double_dragon">Double Dragon</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double Dragon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Double Dragon</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_kicker">Kicker</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kicker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kicker</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_out_run">Out Run</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Out Run</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Out Run</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_pang">Pang</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pang!</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pang</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_sega_system_16b">Sega System 16B</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Game Name</th>
<th class="tableblock halign-left valign-top">ROM Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alien Syndrome</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aliensyn.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altered Beast</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">altbeast.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aurail</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">aurail.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bay Route</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bayroute.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bullet</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">bullet.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cotton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cotton.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dunk Shot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dunkshot.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamite Dux</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ddux.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E-Swat - Cyber Police</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">eswat.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Excite League</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">exctleag.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fantasy Zone II - The Tears of Opa-Opa</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fantzn2x.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Flash Point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fpoint.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Golden Axe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">goldnaxe.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MVP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mvp.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passing Shot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">passsht.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Riot City</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">riotcity.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RyuKyu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ryukyu.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sonic Boom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sonicbom.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sukeban Jansi Ryuko</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sjryuko.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Super League</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">suprleag.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time Scanner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">timescan.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toryumon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">toryumon.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tough Turf</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tturfu.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wonder Boy III - Monster Lair</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wb3.rom</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wrestle War</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">wrestwar.rom</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_links">Links</h3>
<div class="paragraph">
<p><a href="https://zxuno.speccy.org/index.shtml">ZX-Uno</a></p>
</div>
<div class="paragraph">
<p><a href="http://desubikado.sytes.net/zx-uno-faq-version-desubikado/">ZX-Uno FAQ</a></p>
</div>
<div class="paragraph">
<p><a href="https://docs.google.com/document/d/1NI0zgCDRk7c-5CVi-lfZEK6q8Lnpnco7PhpsEEdxD60/edit">ZX-Uno Quick Guide</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zxuno.com/wiki/index.php/ZX_Spectrum">ZX Spectrum core</a></p>
</div>
<div class="paragraph">
<p><a href="https://worldofspectrum.org/zxplus3e/index.html">The ZX Spectrum +3e Homepage</a></p>
</div>
<div class="paragraph">
<p><a href="https://worldofspectrum.org/zxplus3e/sharingdisks.html">Sharing a +3e disk with PC (FAT) partitions</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zxuno.com/wiki/index.php?title=Boot_Firmware">ZX-Uno Wiki</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zxuno.com/forum/viewtopic.php?f=37&amp;t=208">Keyboard Layouts</a></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/spark2k06/zxunops2/blob/master/Alternative/Nuevo%20firmware%20de%20teclado%20ZX-GO%2B.pdf">Keyboard firmware for ZX Go+</a></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/zxdos/zxdos-plus/tree/master/zxunops2">zxunops2</a></p>
</div>
<div class="paragraph">
<p><a href="https://docs.google.com/spreadsheets/d/17-ifpHcy932_AP7SAv9uBLxg-2ZptcdgTvQ8ILXQLM4/htmlview">Almost (In-) Complete List of esxDOS DOT-Commands</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.va-de-retro.com/foros/viewtopic.php?t=1718&amp;start=10%23p25076">Cargando Leches 2.0</a></p>
</div>
<div class="paragraph">
<p><a href="http://retrowiki.es/viewtopic.php?f=83&amp;t=200032578&amp;p=200075671%23p200075671">WiFi (RetroWiki)</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zxuno.com/forum/viewtopic.php?f=35&amp;t=44">WiFi on ZX-Uno</a></p>
</div>
<div class="paragraph">
<p><a href="https://svn.zxuno.com/svn/zxuno/cores/spectrum_v2_spartan6/test19_multi_uart/">ZX-Uno Core Test UART (WiFi)</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.retrowiki.es/viewtopic.php?f=110&amp;t=200039549">Distribución para ZX-Uno (ver. 30.06.2023) Summer of '23 Edition</a></p>
</div>
<div class="paragraph">
<p><a href="https://nihirash.net/projects/">Nihirash Projects</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zxuno.com/forum/viewtopic.php?f=25&amp;t=4079">Wi-Fi addon at the ZX-Uno forum</a></p>
</div>
<div class="paragraph">
<p><a href="https://zxuno.com/forum/viewtopic.php?t=4108">PLATO client at the ZX-Uno forum</a></p>
</div>
<div class="paragraph">
<p><a href="https://zxuno.com/forum/viewtopic.php?t=3963">MIDI addon at the ZX-Uno forum</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.espressif.com/sites/default/files/documentation/4a-esp8266_at_instruction_set_en.pdf">ESP8266 AT Instruction Set</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zonadepruebas.com/viewtopic.php?t=4796&amp;start=110">Radastanian Vídeos</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zxuno.com/forum/viewtopic.php?f=52&amp;t=4074&amp;p=28234%23p28234">New core zx48</a></p>
</div>
<div class="paragraph">
<p><a href="https://github.com/rcmolina/MaxDuino_BETA/blob/master/MANUAL%20por%20desUBIKado/MAXDUINO%20Gu%C3%ADa%20de%20uso.pdf">Maxduino - User&#8217;s Guide</a></p>
</div>
<div class="paragraph">
<p><a href="https://retroramblings.net/?page_id=1422">Minimig AGA for Turbo Chameleon 64</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.forofpga.es/viewtopic.php?t=349">Core ZXNEXT en ZXDOS</a></p>
</div>
<div class="paragraph">
<p><a href="https://gitlab.com/thesmog358/tbblue/-/blob/master/docs/zxdos/zxdoscoreinstall.txt">ZX Spectrum Next with ZXDOS</a></p>
</div>
<div class="paragraph">
<p><a href="https://www.zxuno.com/wiki/index.php?title=ZX_Spectrum">About Spectrum at ZX-Uno Wiki</a></p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0.0b<br>
Last updated 2023-10-12 18:15:59 +0200
</div>
</div>
</body>
</html>